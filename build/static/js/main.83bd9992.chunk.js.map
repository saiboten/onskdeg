{"version":3,"sources":["components/firebase/firebase.ts","styles/colors.ts","components/common/ListRow.ts","components/common/Icon.tsx","components/common/IconButton.ts","components/wish/Wish.tsx","state/actions/wish.ts","components/common/container/Container.tsx","components/yours/YourWishList.tsx","components/otherwishlistselection/addeduserlink/AddedUserLink.tsx","components/common/Loading.tsx","components/common/spinnerWhileLoading.tsx","components/otherwishlistselection/OthersWishListSelectionWrapper.tsx","state/actions/friends.ts","components/others/OtherWish.tsx","components/others/OthersWishList.tsx","state/actions/user.ts","components/common/Link.ts","components/header/Header.tsx","constants.ts","components/firebase/facebooklogin.ts","components/login/facebook-icon.svg","components/common/Spinner.tsx","components/common/Button.ts","components/login/ThirdPartyLogin.tsx","components/login/InternalLogin.tsx","components/common/FloatingCircles.tsx","components/login/Login.tsx","components/setname/SetName.tsx","state/reducers/user.ts","state/reducers/wish.ts","state/reducers/friends.ts","state/reducers/index.ts","state/selectors/selectors.ts","state/sagas/usersaga.ts","state/sagas/wishsaga.ts","state/sagas/index.ts","store.ts","components/firebase/authFirebase.ts","App.tsx","index.tsx"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","storageBucket","messagingSenderId","colors","primary","primaryDark","Color","fade","string","primaryLight","saturate","lighten","negative","positive","neutral","ListRowStyles","concat","ListRow","styled","div","_templateObject","Icon","_ref","name","type","onClick","classFromProps","className","rest","Object","objectWithoutProperties","classes","react_default","a","createElement","assign","fill","xlinkHref","IconButton","IconButton_templateObject","NegativeIconButton","_templateObject2","NeutralIconButton","_templateObject3","GoldIconButton","_templateObject4","storageRef","storage","ref","debug","require","Wish","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","edit","text","wish","confirm","image","click","bind","assertThisInitialized","focusLost","updateText","deleteItem","cancel","deleteConfirmed","onDrop","child","getDownloadURL","then","url","setState","nextProps","input","focus","acceptedFiles","rejectedFiles","_this2","_this$props","addImage","imageName","id","split","put","on","e","target","value","_this$props2","deleteProp","delete","_this$props3","update","checkedby","checked","_this3","_this$state","imageState","alt","src","StyledActionButtons","Wish_templateObject","moveIn","keyframes","Wish_templateObject2","StyledActionButtonsAnimated","Wish_templateObject3","deleteWish","ImageWrapper","c","onBlur","onChange","defaultValue","Wish_templateObject4","LeftSection","_templateObject5","common_ListRow","React","Component","storeWishesToFirebase","uid","wishes","setWishesForUser","data","objectSpread","Container","Container_templateObject","YourWishList","newWish","feedback","addWish","updateWishState","deleteThis","user","updateWishStore","firebaseRef","database","snapshot","val","off","replace","r","Math","random","toString","preventDefault","newWishList","unshift","createGuid","map","_this$props4","deleteId","_this$props5","filteredNewWishList","filter","wishesEl","el","wish_Wish","key","container_Container","onSubmit","placeholder","Icon_Icon","connect","dispatch","newData","NameLink","Link","AddedUserLink_templateObject","AddedUserLink","deleteMe","to","email","animation","Loading_templateObject","Spinner","Loading_templateObject2","Loading","spinnerWhileLoading","isLoading","branch","renderComponent","OthersWishListSelectionWrapper_templateObject","OthersWishListSelection","friends","newUser","updateUserState","addUserClickEvent","deleteUser","addUser","updateFriendStore","newUserMail","addFriend","deleteFriend","userNotFound","usersLinks","addeduserlink_AddedUserLink","WithSpinner","loaded","loading","load","_ref2","_ref2$friends","newFriend","deleteFriendAction","newFriendList","setFriends","newFriendMail","addFriendAction","OtherWish","wishInfo","canDelete","deleteSuggestion","imageTag","item","linkifyed","Linkify_default","checkedByElem","_onClick","apply","arguments","ActionButtonsContainer","OthersWishList_templateObject","OthersWishList","hideSelected","check","toggleShowSelected","shouldDisplayWish","match","params","setWishes","storeWishes","console","log","checkedTime","Date","friend","filteredWishes","others_OtherWish","_ref3","OthersWishListWrapper","_ref$friends","friendsFiltered","u","length","reduce","userLoaded","RouterLink","Link_templateObject","NavLink","RouterNavLink","Link_templateObject2","darken","StyledHeader","Header_templateObject","othersActive","location","pathname","startsWith","logout","_useState","useState","_useState2","slicedToArray","setFeedback","H1","h1","Header_templateObject2","UserEmail","span","Header_templateObject3","UserInfo","Header_templateObject4","ActionButtons","Header_templateObject5","CustomNavLink","_templateObject6","auth","signOut","logOut","Header_StyledHeader","activeClassName","exact","isActive","provider","FacebookAuthProvider","_extends","i","source","prototype","hasOwnProperty","facebook_icon_ref","d","__webpack_require__","p","spinnerKeyframe","Spinner_templateObject","Spinner_templateObject2","BorderStyles","BorderButton","button","Button_templateObject","BorderInput","Button_templateObject2","FacebookIcon","version","xmlnsXlink","x","y","width","height","viewBox","enableBackground","xmlSpace","ThirdPartyLogin_templateObject","ButtonSpinner","ThirdPartyLogin_templateObject2","ThirdPartyLogin","submitting","loginFacebook","stopPropagation","signInWithRedirect","facebook","SmButton","ThirdPartyLogin_templateObject3","Fragment","Link_Link","StyledInput","InternalLogin_templateObject","SubmitButton","InternalLogin_templateObject2","PasswordContainer","InternalLogin_templateObject3","StyledPeek","InternalLogin_templateObject4","InternalLogin","password","errorMessage","peek","updatePasswordState","logIn","togglePeek","signInWithEmailAndPassword","catch","error","errorCode","code","message","htmlFor","StyledCircleContainer","FloatingCircles_templateObject","getRandomInt","min","max","num","floor","scaleInAndOut","FloatingCircles_templateObject2","StyledCircle","FloatingCircles_templateObject3","size","top","left","scale","FloatingCircles","circles","Array","index","StyledParagraph","Login_templateObject","LoginContainer","Login_templateObject2","Login","getRedirectResult","Login_templateObject3","BrowserRouter","Switch","Route","path","component","SetNameContainer","SetName_templateObject","setTheName","setNameAction","setName","_useState3","_useState4","setEmail","submit","disabled","initialState","undefined","userReducer","action","_action$user","defineProperty","reducer","onskdegReducers","combineReducers","loadUserList","setNameAndEmail","userSaga","getUserList","currentUser","Promise","resolve","once","resolveVal","regenerator_default","wrap","_context","prev","next","select","userSelect","sent","stop","_marked","getFriendByEmail","mail","reject","usersObj","filteredList","keys","newUserList","_context2","friendsSelect","toConsumableArray","set","_marked2","_context3","_marked3","_context4","_marked4","_context5","takeEvery","_marked5","setOwnWishes","storeWishesToFirebaseSaga","wishSaga","wishsaga_marked","wishsaga_marked2","wishsaga_marked3","rootSaga","all","sagas_marked","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","run","obj","authChangeListener","onAuthStateChanged","HeaderWithRouter","withRouter","Header","AppCompWrapper","login_Login","SetName","App_templateObject","authFirebase","App","es","navigator","serviceWorker","getRegistrations","registrations","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","unregister","err","return","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.83bd9992.chunk.js","sourcesContent":["import firebase from 'firebase';\n\nconst config = {\n  apiKey: 'AIzaSyDRCFzLXgaM36t-0Vnhp2XbbQJrUjDmQAw',\n  authDomain: 'onskdeg.firebaseapp.com',\n  databaseURL: 'https://onskdeg.firebaseio.com',\n  storageBucket: 'onskdeg.appspot.com',\n  messagingSenderId: '776764935060',\n};\nfirebase.initializeApp(config);\nexport default firebase;\n","import Color from 'color';\n\nconst primary = \"#b49b57\";\nconst primaryDark = Color(primary).fade(.7).string();\nconst primaryLight = Color(primary).saturate(.5).lighten(.4).string();\n\nconst negative = \"#ff5656\";\nconst positive = \"#49b557\";\nconst neutral = \"#3988ea\";\n\nexport default {\n  primary,\n  primaryDark,\n  primaryLight,\n  negative,\n  positive,\n  neutral,\n}","import styled from 'styled-components';\nimport colors from '../../styles/colors';\n\nexport const ListRowStyles = `\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: ${colors.primaryDark};\n  color: white;\n  padding-left: 50px;\n  margin-bottom: 2px;\n  height: 52px;\n  white-space: nowrap;\n`;\nexport const ListRow = styled.div`\n  ${ListRowStyles}\n`;\n\nexport default ListRow;","import React from 'react';\n\nimport './Icon.scss';\n\ninterface IconProps {\n  name: string;\n  type: string;\n  onClick: (args: any) => void;\n  className?: string;\n}\n/* eslint-disable react/button-has-type */\nexport default function Icon({ name, type, onClick, className: classFromProps, ...rest }: IconProps) {\n  const classes = classFromProps ? `${classFromProps} icon` : 'icon';\n  return (\n    <button type={type} className={classes} onClick={onClick} {...rest}>\n      <svg className=\"icon__icon\" fill=\"currentColor\">\n        <use xlinkHref={`/svg/sprite.svg#icon-${name}`} />\n      </svg>\n    </button>\n  );\n}\n/* eslint-enable react/button-has-type */\n","import Icon from \"./Icon\";\nimport styled from \"styled-components\";\nimport colors from \"../../styles/colors\";\n\nexport const IconButton = styled(Icon)`\n  height: 52px;\n  width: 52px;\n  max-height: 52px;\n  max-width: 52px;\n`;\nexport const NegativeIconButton = styled(IconButton)`\n  background: ${colors.negative};\n`;\nexport const NeutralIconButton = styled(IconButton)`\n  background: ${colors.neutral};\n`;\nexport const GoldIconButton = styled(IconButton)`\n  color: ${colors.primaryLight};\n`;\n","import React from 'react';\nimport Dropzone from 'react-dropzone';\nimport styled, { keyframes } from 'styled-components';\n\nimport firebase from '../firebase/firebase';\nimport Icon from '../common/Icon';\nimport { Wish as WishType } from '../../types/types';\nimport colors from '../../styles/colors';\nimport ListRow from '../common/ListRow';\nimport { NeutralIconButton, NegativeIconButton, GoldIconButton } from '../common/IconButton';\n\nconst storageRef = firebase.storage().ref();\n\nconst debug = require('debug')('Wish');\n\nrequire('./wish.scss');\n\ninterface P {\n  wish: WishType\n  addImage: (wish: WishType, imageName: string) => void;\n  delete: (wishId: string) => void;\n  update: (wish: WishType) => void;\n}\n\ninterface S {\n  edit: boolean,\n  text: string,\n  confirm: boolean,\n  image: string\n}\n\nclass Wish extends React.Component<P, S> {\n\n  input: any;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      edit: false,\n      text: props.wish.name,\n      confirm: false,\n      image: '',\n    };\n    this.click = this.click.bind(this);\n    this.focusLost = this.focusLost.bind(this);\n    this.updateText = this.updateText.bind(this);\n    this.deleteItem = this.deleteItem.bind(this);\n    this.cancel = this.cancel.bind(this);\n    this.deleteConfirmed = this.deleteConfirmed.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    debug('props: ', props);\n\n    if (props.wish.image) {\n      storageRef.child(props.wish.image).getDownloadURL().then((url) => {\n        debug('url: ', url);\n        this.setState({\n          image: url,\n        });\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps: any) {\n    this.setState({\n      text: nextProps.wish.name,\n      confirm: nextProps.wish.confirm,\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.input) {\n      this.input.focus();\n    }\n  }\n\n  onDrop(acceptedFiles: any, rejectedFiles: any) {\n    debug('Looks like I dropped something', acceptedFiles, rejectedFiles);\n    const { wish, addImage } = this.props;\n\n    const imageName = `${wish.id}.${acceptedFiles[0].name.split('.')[1]}`;\n\n    const uploadTask = storageRef.child(imageName)\n      .put(acceptedFiles[0]);\n\n    uploadTask.on('state_changed', () => {\n    }, () => {\n      debug('Error. Wups.');\n    }, () => {\n      debug('Success!');\n      storageRef.child(imageName).getDownloadURL().then((url) => {\n        debug('url: ', url);\n        this.setState({\n          image: url,\n        });\n      });\n      addImage(wish, imageName);\n    });\n  }\n\n  updateText(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      text: e.target.value,\n    });\n  }\n\n  deleteItem() {\n    this.setState({\n      confirm: true,\n    });\n  }\n\n  cancel() {\n    this.setState({\n      confirm: false,\n    });\n  }\n\n  deleteConfirmed() {\n    const { delete: deleteProp, wish } = this.props;\n    deleteProp(wish.id);\n  }\n\n  focusLost() {\n    const { update, wish } = this.props;\n    const { text } = this.state;\n\n    this.setState({\n      edit: false,\n    });\n    update({\n      name: text,\n      id: wish.id,\n      checkedby: wish.checkedby,\n      checked: wish.checked,\n      image: wish.image,\n    });\n  }\n\n  click() {\n    this.setState({\n      edit: true,\n    });\n  }\n\n  render() {\n    const { wish } = this.props;\n    const {\n      confirm, image: imageState, edit, text,\n    } = this.state;\n\n    const image = wish.image ? (<img className=\"wish__image wish__image--thumbnail\" alt=\"Awesome\" src={imageState} />) : '';\n\n    const StyledActionButtons = styled.div`\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      flex-shrink: 0;\n    `;\n\n    const moveIn = keyframes`\n      from {\n        transform: translateX(100%);\n      }\n\n      to {\n        transform: translateX(0);\n      }\n    `;\n\n    const StyledActionButtonsAnimated = styled(StyledActionButtons)`\n      animation: ${moveIn} .2s ease-in;\n    `;\n\n    const deleteWish = confirm\n      ? (\n        <StyledActionButtonsAnimated>\n          <NeutralIconButton type=\"button\" name=\"x\" onClick={this.cancel} />\n          <NegativeIconButton type=\"button\" name=\"check\" onClick={this.deleteConfirmed} />\n        </StyledActionButtonsAnimated>)\n      : (\n        <StyledActionButtons>\n          <GoldIconButton type=\"button\" name=\"trash-2\" onClick={this.deleteItem} />\n        </StyledActionButtons>\n      );\n\n    const html = edit\n      ? (<input\n        type=\"text\"\n        className=\"wish__wish-text wish__wish-text--active\"\n        ref={(c) => { this.input = c; }}\n        onBlur={this.focusLost}\n        onChange={this.updateText}\n        value={text}\n      />\n      )\n      : (<input type=\"text\" onClick={this.click} className=\"wish__wish-text\" defaultValue={text} />);\n\n    const ImageWrapper = styled.div`\n      max-width: 36px;\n      max-height: 36px;\n      overflow: hidden;\n      position: absolute;\n      left: 8px;\n      top: 8px;\n    `;\n    const LeftSection = styled.div`\n      display: flex;\n      align-items: center;\n      flex-shrink: 1;\n      overflow: hidden;\n    `;\n    return (\n      <ListRow>\n        <LeftSection>\n          <ImageWrapper>{image}</ImageWrapper>\n          {text}\n        </LeftSection>\n        {deleteWish}\n      </ListRow>\n    );\n  }\n}\n\nexport default Wish;\n","import { Wish } from \"../../types/types\";\n\nexport const setWishes = (wishes: Array<Wish>) => (\n  {\n    type: 'SET_OWN_WISHES',\n    wishes,\n  }\n);\n\nexport const storeOwnWishesToFirebase = (wishes: Array<Wish>) => (\n  {\n    type: 'STORE_OWN_WISHES_TO_FIREBASE',\n    wishes,\n  }\n);\n\nexport const storeWishesToFirebase = (uid: string, wishes: Array<Wish>) => (\n  {\n    type: 'STORE_WISHES_TO_FIREBASE',\n    uid,\n    wishes,\n  }\n);\n\nexport const setWishesForUser = (data: any) => (\n  {\n    type: 'SET_USER_WISHES',\n    ...data,\n  }\n);\n","import styled from 'styled-components';\n\nconst Container = styled.div`\n  max-width: 870px;\n  margin: 0 auto;\n`;\n\nexport default Container;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Wish from '../wish/Wish';\nimport firebase from '../firebase/firebase';\nimport Icon from '../common/Icon';\n\nimport { setWishes, storeOwnWishesToFirebase } from '../../state/actions/wish';\nimport { Wish as WishType, User, FirebaseSnapshot } from '../../types/types';\nimport Container from '../common/container/Container';\n\nconst debug = require('debug')('YourWishList');\n\nrequire('./yourwishlist.scss');\n\ninterface P {\n  user: User;\n  updateWishStore: (newWishes: Array<WishType>) => void;\n  storeWishesToFirebase: (newWishes: Array<WishType>) => void;\n  wishes: Array<WishType>;\n}\n\ninterface S {\n  newWish: string;\n  feedback: string;\n}\n\nclass YourWishList extends React.Component<P,S> {\n\n  firebaseRef: any;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      newWish: '',\n      feedback: '',\n    };\n\n    this.addWish = this.addWish.bind(this);\n    this.updateWishState = this.updateWishState.bind(this);\n    this.update = this.update.bind(this);\n    this.deleteThis = this.deleteThis.bind(this);\n    this.addImage = this.addImage.bind(this);\n  }\n\n  componentDidMount() {\n    debug('componentDidMount');\n    const { user, updateWishStore } = this.props;\n\n    this.firebaseRef = firebase.database().ref(`wishes/${user.uid}/wishes`);\n\n    this.firebaseRef.on('value', (snapshot: FirebaseSnapshot) => {\n      updateWishStore(snapshot.val());\n    });\n  }\n\n  componentWillUnmount() {\n    this.firebaseRef.off();\n  }\n\n  /*eslint-disable */\n  createGuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n    return v.toString(16);\n    });\n  }\n  /* eslint-enable */\n\n\n  updateWishState(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      newWish: e.target.value,\n    });\n  }\n\n  addWish(e: React.FormEvent<HTMLFormElement>) {\n    const { user, wishes, storeWishesToFirebase } = this.props;\n    const { newWish } = this.state;\n\n    e.preventDefault();\n\n    if (newWish === '') {\n      this.setState({\n        feedback: 'Ønsket kan ikke være tomt',\n      });\n      return;\n    }\n\n    debug('Adding wish');\n    const newWishList = Object.assign([], wishes);\n    newWishList.unshift({\n      name: newWish,\n      checked: false,\n      checkedby: '',\n      id: this.createGuid(),\n      image: '',\n    });\n\n    storeWishesToFirebase(newWishList);\n\n    this.setState({\n      newWish: '',\n      feedback: '',\n    });\n  }\n\n  update(wish: WishType) {\n    debug('Saving wishlist: ', wish);\n    const { user, wishes, storeWishesToFirebase } = this.props;\n\n    const newWishList = wishes.map((e) => {\n      if (e.id === wish.id) {\n        return {\n          name: wish.name,\n          checked: wish.checked,\n          checkedby: wish.checkedby ? wish.checkedby : '',\n          id: wish.id,\n          image: wish.image ? wish.image : '',\n        };\n      }\n      return e;\n    });\n    storeWishesToFirebase(newWishList);\n  }\n\n  addImage(wish: WishType, image: string) {\n    debug('Adding image to wish: ', wish, image);\n    const { wishes, storeWishesToFirebase } = this.props;\n    const newWishList = wishes.map((e) => {\n      if (e.id === wish.id) {\n        return {\n          name: wish.name,\n          checked: wish.checked,\n          checkedby: wish.checkedby ? wish.checkedby : '',\n          id: wish.id,\n          image,\n        };\n      }\n      return e;\n    });\n    storeWishesToFirebase(newWishList);\n  }\n\n  deleteThis(deleteId: string) {\n    debug('Delete id: ', deleteId);\n    const { user, wishes, storeWishesToFirebase } = this.props;\n    const newWishList = Object.assign([], wishes);\n\n    const filteredNewWishList = newWishList.filter((e: WishType) => {\n      debug(e.id);\n      return e.id !== deleteId;\n    });\n\n    debug('Wish list after deletion: ', newWishList);\n\n    storeWishesToFirebase(filteredNewWishList);\n  }\n\n  render() {\n    debug('This.props. ', this.props);\n    const { wishes } = this.props;\n    const { newWish, feedback } = this.state;\n\n    const wishesEl = wishes.map((el: WishType) => {\n      debug('Creating wish based on this el: ', el);\n      return (\n        <Wish\n          key={el.id}\n          update={this.update}\n          delete={this.deleteThis}\n          addImage={this.addImage}\n          wish={el}\n        />);\n    });\n\n    debug('Wishes: ', wishesEl);\n    \n    return (\n      <Container>\n        <form onSubmit={this.addWish}>  \n          <div className=\"your-wishlist__add-wish-wrapper\">\n            <input\n              type=\"text\"\n              placeholder=\"Legg inn nye ønsker her\"\n              className=\"your-wishlist__add-wish-textarea\"\n              value={newWish}\n              onChange={this.updateWishState}\n            />\n            <Icon type=\"submit\" name=\"check\" onClick={() => null} className=\"your-wishlist__add-wish-submit\" />\n            <div>{feedback}</div>\n          </div>\n        </form>\n\n        <div className=\"your-wishlist__wishlist\">\n          {wishesEl}\n        </div>\n      </Container>\n    );\n  }\n}\n\nexport default connect(\n  ({ wish, user }: { wish: any, user: User}) => {\n    debug('User wishes', wish[user.uid]);\n    return {\n      wishes: wish[user.uid] ? wish[user.uid] : [],\n      user,\n    };\n  },\n  dispatch => ({\n    updateWishStore: (newData: Array<WishType>) => {\n      dispatch(setWishes(newData));\n    },\n    storeWishesToFirebase: (newData: Array<WishType>) => {\n      dispatch(storeOwnWishesToFirebase(newData));\n    },\n  }),\n)(YourWishList);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport ListRow from '../../common/ListRow';\nimport { GoldIconButton } from '../../common/IconButton';\n\nrequire('./addeduserlink.css');\n\ninterface NewUser {\n  name: string;\n  email: string;\n  uid: string;\n}\n\nconst NameLink = styled(Link)`\n  text-decoration: none;\n  color: white;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  &:visited {\n    color: white;\n  }\n`;\n\ninterface Props {\n  el: NewUser;\n  deleteMe: (email: string) => void;\n}\nconst AddedUserLink = ({ el, deleteMe }: Props) => (\n  <ListRow>\n    <NameLink to={`/other/${el.uid}`}>{el.name}</NameLink>\n    <GoldIconButton\n      type=\"button\"\n      name=\"trash-2\"\n      className=\"added-user-link__delete smallspace button\"\n      onClick={() => deleteMe(el.email)}\n    >\n      {'Slett'}\n    </GoldIconButton>\n  </ListRow>\n  );\n\nexport default AddedUserLink;\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst animation = keyframes`\n  0% {\n    top: 6px;\n    height: 51px;\n  }\n  50%, 100% {\n    top: 19px;\n    height: 26px;\n  }\n`;\n\nconst Spinner = styled.div`\n  display: inline-block;\n  position: relative;\n  width: 64px;\n  height: 64px;\n  div {\n    display: inline-block;\n    position: absolute;\n    left: 6px;\n    width: 13px;\n    background: #fff;\n    animation: ${animation} 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\n  }\n  div:nth-child(1) {\n    left: 6px;\n    animation-delay: -0.24s;\n  }\n  div:nth-child(2) {\n    left: 26px;\n    animation-delay: -0.12s;\n  }\n  div:nth-child(3) {\n    left: 45px;\n    animation-delay: 0;\n  }\n`;\n\nexport default () => (\n  <Spinner>\n    <div />\n    <div />\n    <div />\n  </Spinner>\n);\n","import { branch, renderComponent } from 'recompose';\nimport Spinner from './Loading';\n\nexport default (isLoading: any) => branch(\n  isLoading,\n  renderComponent(Spinner), // `Spinner` is a React component\n);\n","import { connect } from 'react-redux';\nimport React from 'react';\nimport { any, array } from 'prop-types';\nimport styled from 'styled-components';\n\nimport AddedUserLink from './addeduserlink/AddedUserLink';\nimport store from '../../store';\nimport Container from '../common/container/Container';\nimport firebase from '../firebase/firebase';\nimport { loadFriends, setFriends } from '../../state/actions/friends';\nimport spinnerWhileLoading from '../common/spinnerWhileLoading';\nimport { User, FirebaseSnapshot } from '../../types/types';\nimport { deleteFriend as deleteFriendAction, addFriend as addFriendAction } from '../../state/actions/friends';\n\nconst debug = require('debug')('OthersWishListSelection');\n\nrequire('./otherswishlistselection.css');\n\nconst StyledHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 2rem;\n  border-bottom: 1px solid black;\n`;\n\ninterface P {\n  user: User;\n  friends: Array<User>;\n  addFriend: (newFriendMail: string) => void;\n  deleteFriend: (email: string) => void;\n  updateFriendStore: (newFriendList: Array<User>) => void;\n  newFriend: User;\n  userNotFound: boolean;\n}\n\ninterface S {\n  newUser: string;\n  feedback: string;\n}\n\nclass OthersWishListSelection extends React.Component<P,S> {\n\n  firebaseRef: any;\n\n  constructor(props: any) {\n    super(props);\n    const { friends } = props;\n    const initialUsers = friends || [];\n\n    this.state = {\n      newUser: '',\n      feedback: '',\n    };\n    this.updateUserState = this.updateUserState.bind(this);\n    this.addUserClickEvent = this.addUserClickEvent.bind(this);\n    this.deleteUser = this.deleteUser.bind(this);\n    this.addUser = this.addUser.bind(this);\n  }\n\n  componentDidMount() {\n    const { user, updateFriendStore } = this.props;\n    const { uid } = user;\n\n    this.firebaseRef = firebase.database().ref(`users/${uid}/friends`);\n    this.firebaseRef.on('value', (snapshot: FirebaseSnapshot) => {\n      updateFriendStore(snapshot.val());\n    });\n  }\n\n  componentWillUnmount() {\n    this.firebaseRef.off();\n  }\n\n  updateUserState(e: React.ChangeEvent<HTMLInputElement>) {\n    debug('updateUserState');\n\n    this.setState({ newUser: e.target.value });\n  }\n\n  addUserClickEvent(e: React.FormEvent<HTMLFormElement>) {\n    debug('addUserClickEvent', e);\n    const { newUser } = this.state;\n\n    e.preventDefault();\n    this.addUser(newUser);\n    this.setState({\n      newUser: ''\n    })\n  }\n\n  addUser(newUserMail: string) {\n    const { addFriend } = this.props;\n    addFriend(newUserMail);\n  }\n\n  deleteUser(email: string) {\n    const { deleteFriend } = this.props;\n    deleteFriend(email);\n  }\n\n  render() {\n    const { newUser, feedback } = this.state;\n    const { friends, userNotFound } = this.props;\n\n    const usersLinks = friends != null ? friends.map(el => (<AddedUserLink key={el.uid} deleteMe={this.deleteUser} el={el} />)) : null;\n\n    return (\n      <Container>\n        <div className=\"wishlist-selection__added-users-container\">\n          {usersLinks}\n        </div>\n\n        <form onSubmit={this.addUserClickEvent}>\n          <p>Legg til (legg inn epost)</p>\n          <input value={newUser} onChange={this.updateUserState} />\n          <input className=\"button button--padded\" type=\"submit\" value=\"OK\" />\n        </form>\n\n        {userNotFound && <p>Fant ikke bruker</p>}\n        <p>{feedback}</p>\n      </Container>\n    );\n  }\n}\n\nconst WithSpinner = spinnerWhileLoading(({ loaded, loading, load }: { loaded: boolean, loading: boolean, load: () => void}) => {\n  if (!loaded && !loading) {\n    load();\n  }\n  return !loaded;\n})(OthersWishListSelection);\n\nexport default connect(\n  ({ user, friends: { friends, loaded, loading, newFriend, userNotFound } }: { user: User, friends: { friends: Array<User>, loaded: boolean, loading: boolean, newFriend: User, userNotFound: boolean } }) => (\n    {\n      newFriend,\n      userNotFound,\n      user,\n      friends,\n      loaded,\n      loading\n    }\n  ),\n  dispatch => ({\n    load: () => dispatch(loadFriends()),\n    deleteFriend: (email: string) => {\n      dispatch(deleteFriendAction(email));\n    },\n    updateFriendStore(newFriendList: Array<User>) {\n      dispatch(setFriends(newFriendList));\n    },\n    addFriend(newFriendMail: string) {\n      dispatch(addFriendAction(newFriendMail));\n    }\n  }),\n)(WithSpinner);\n","import { User } from \"../../types/types\";\n\nexport const loadFriends = () => ({\n  type: 'LOAD_FRIENDS',\n});\n\nexport const addFriend = (newFriendMail: string) => ({\n  type: 'ADD_FRIEND',\n  newFriendMail\n})\n\nexport const deleteFriend = (email: string) => ({\n  type: 'DELETE_FRIEND',\n  email\n})\n\nexport const setFriends = (newFriendList: Array<User>) => ({\n  type: \"SET_FRIENDS\",\n  newFriendList\n})","import React from 'react';\nimport Linkify from 'react-linkify';\nimport firebase from '../firebase/firebase';\nimport Icon from '../common/Icon';\n\nimport './otherwish.css';\nimport { Wish } from '../../types/types';\n\nconst storageRef = firebase.storage().ref();\n\nconst debug = require('debug')('OtherWish');\n\ninterface P {\n  wishInfo: Wish;\n  canDelete: boolean;\n  deleteSuggestion: () => void;\n  onClick: Function;\n};\n\ninterface S {\n  image: string;\n}\n\nclass OtherWish extends React.Component<P,S> {\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      image: '',\n    };\n\n    if (props.wishInfo.image) {\n      storageRef.child(props.wishInfo.image).getDownloadURL().then((url) => {\n        debug('url: ', url);\n        this.setState({\n          image: url,\n        });\n      });\n    }\n  }\n\n  render() {\n    const {\n      wishInfo, canDelete, deleteSuggestion, onClick,\n    } = this.props;\n    const { image } = this.state;\n\n    const imageTag = wishInfo.image\n      ? (<img className=\"other-wish__image\" alt=\"Awesome\" src={image} />) : '';\n\n    const item = wishInfo.checked\n      ? (\n        <del>{wishInfo.name}</del>\n      )\n      : wishInfo.name;\n    const linkifyed = (\n      <Linkify className=\"other-wish__linkify\">{item}</Linkify>\n    );\n    const checkedByElem = wishInfo.checked\n      ? (\n        <div className=\"smallspace\">Tatt</div>) : '';\n\n    const deleteThis = canDelete\n      ? (\n        <button\n          type=\"button\"\n          className=\"button other-wish__button_delete-suggestion\"\n          onClick={deleteSuggestion}\n        >\n          {'Slett'}\n        </button>\n      ) : '';\n\n    return (\n      <div className=\"flex-column border\">\n        <div className=\"flex-row other-wish__upper-half\">\n          <div className=\"flex-column smallspace other-wish__wish-text\">\n            {linkifyed}\n            {imageTag}\n          </div>\n          <div className=\"other-wish__buy-or-sell-wrapper\">\n\n            <Icon type=\"button\" name={wishInfo.checked ? 'shopping-cart' : 'shopping-cart'} onClick={() => onClick(wishInfo.id)} />\n            {deleteThis}\n          </div>\n        </div>\n        <div className=\"flex-column\">\n          {checkedByElem}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OtherWish;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport styled from 'styled-components';\n\nimport Container from '../common/container/Container';\nimport firebase from '../firebase/firebase';\n// import Comments from './Comments';\n// import Suggestions from '../suggestions/Suggestions';\nimport OtherWish from './OtherWish';\nimport { setWishesForUser, storeWishesToFirebase } from '../../state/actions/wish';\nimport Icon from '../common/Icon';\nimport { User, Wish, Match } from '../../types/types';\nimport { ApplicationState } from '../../state/reducers';\nimport spinnerWhileLoading from '../common/spinnerWhileLoading';\nimport { loadFriends } from '../../state/actions/friends';\n\nconst ActionButtonsContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`;\n\nconst debug = require('debug')('OthersWishList');\n\ninterface Props {\n  match: { params: { name: string }};\n  setWishes: (name: string, newWishList: Array<Wish>) => void;\n  storeWishes: (name: string, newWishList: Array<Wish>) => void;\n  user: User;\n  wishes: Array<Wish>;\n  friend: User;\n}\ninterface State {\n  hideSelected: boolean;\n  feedback: string;\n}\nclass OthersWishList extends React.Component<Props, State> {\n  firebaseRef?: firebase.database.Reference;\n\n  constructor(props: any) {\n    super(props);\n    debug('constructor');\n    this.state = {\n      hideSelected: true, feedback: '',\n    };\n    this.check = this.check.bind(this);\n    this.toggleShowSelected = this.toggleShowSelected.bind(this);\n    this.shouldDisplayWish = this.shouldDisplayWish.bind(this);\n  }\n\n  componentDidMount() {\n    debug('componentDidMount');\n    const { match: { params: { name } }, setWishes } = this.props;\n\n    this.firebaseRef = firebase.database().ref(`wishes/${name}/wishes`);\n\n    this.firebaseRef.on('value', (snapshot) => {\n      setWishes(name, snapshot && snapshot.val());\n    });\n  }\n\n  componentWillUnmount() {\n    this.firebaseRef && this.firebaseRef.off();\n  }\n\n  check(id: string) {\n    debug('check', id);\n    const { user, match: { params: { name } } } = this.props;\n    const { wishes, storeWishes } = this.props;\n\n    const newWishList = wishes.map((e) => {\n      if (id === e.id) {\n        console.log(e);\n        return {\n          name: e.name,\n          checked: !e.checked,\n          id: e.id,\n          checkedby: user.email,\n          checkedTime: new Date(),\n          image: e.image || ''\n        };\n      }\n\n      return e;\n    });\n    console.log(newWishList);\n    storeWishes(name, newWishList);\n    this.setState({ feedback: 'Du kjøpte eller solgte noe!' });\n  }\n\n  toggleShowSelected(e: React.MouseEvent<HTMLElement>) {\n    debug('toggleShowSelected', e);\n    const { hideSelected } = this.state;\n\n    e.preventDefault();\n    this.setState({\n      hideSelected: !hideSelected,\n    });\n  }\n\n  shouldDisplayWish(el: Wish) {\n    const {\n      hideSelected,\n    } = this.state;\n\n    debug('Wish to be filtered: ', el);\n    return !el.checked || !hideSelected;\n  }\n\n  render() {\n    const {\n      hideSelected, feedback,\n    } = this.state;\n    const { wishes, friend } = this.props;\n\n    const filteredWishes = wishes.filter(this.shouldDisplayWish).map(wishInfo => (\n      <OtherWish deleteSuggestion={() => null} canDelete={false} key={wishInfo.id} onClick={this.check} wishInfo={wishInfo} />));\n\n    return (\n      <Container>\n\n        <div className=\"flex-row space-between\">\n          <h1 className=\"shrink overflow-hidden\">\n            {`Ønskelisten til ${friend.name}`}\n          </h1>\n        </div>\n        <ActionButtonsContainer>\n          <Icon type=\"button\" name={hideSelected ? 'eye' : 'eye-off'} onClick={this.toggleShowSelected} />\n        </ActionButtonsContainer>\n        <p>{feedback}</p>\n\n        {filteredWishes}\n\n        {/* <Suggestions username={userState} userUid={params.name} />\n        <hr />\n        <Comments params={params} /> */}\n\n      </Container>\n    );\n  } \n}\n\nconst mapStateToProps = ({ wish, user, friends: { loading, loaded, friends } }: ApplicationState, { match: { params: { name } } }: any) => {\n  const friendsFiltered = friends.filter(u => u.uid === name);\n\n  return {\n    wishes: wish[name] || [],\n    user,\n    loading,\n    loaded,\n    friend: friendsFiltered.length > 0 ? friendsFiltered.reduce(e => e) : {}\n  }\n};\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  load: () => dispatch(loadFriends()),\n  setWishes(uid: string, newWishList: Array<Wish>) {\n    dispatch(setWishesForUser({ uid, wishes: newWishList }));\n  },\n  storeWishes(uid: string, newWishList: Array<Wish>) {\n    dispatch(storeWishesToFirebase(uid, newWishList));\n  },\n});\n\nconst WithSpinner = spinnerWhileLoading(({ loaded, loading, load }: { loaded: boolean, loading: boolean, load: () => void}) => {\n  if (!loaded && !loading) {\n    load();\n  }\n  return !loaded;\n})(OthersWishList);\n\nconst OthersWishListWrapper = connect(mapStateToProps, mapDispatchToProps)(WithSpinner);\n\nexport default OthersWishListWrapper;\n","import { User } from \"../../types/types\";\n\nexport const setNameAndEmail = (name: string, email?: string) => ({\n  type: 'SET_NAME_AND_EMAIL',\n  name,\n  email\n});\n\nexport const userLoaded = (user: User | null) => (\n  {\n    type: 'USER_LOADED',\n    user,\n  }\n);\n\nexport const logout = () => (\n  {\n    type: 'LOG_OUT',\n  }\n);\n","import styled from 'styled-components';\nimport { Link as RouterLink, NavLink as RouterNavLink } from 'react-router-dom';\nimport colors from '../../styles/colors';\nimport Color from 'color';\n\nexport const Link = styled(RouterLink)`\n  text-decoration: none;\n  border-bottom: 2px solid ${colors.primary};\n  font-weight: 400;\n\n  &:visited, &:link {\n    color: white;\n  }\n  &:hover {\n    color: grey;\n  }\n`;\n\nexport const NavLink = styled(RouterNavLink)`\n  background: ${colors.primaryDark};\n  color: ${Color('white').darken(.3).string()};\n  text-decoration: none;\n  padding: .8rem;\n  &.selected {\n    color: white;\n    background: ${colors.primary};\n  }\n`;\n\nexport default {\n  Link,\n  NavLink,\n};\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\n\nimport firebase from '../firebase/firebase';\nimport { logout as logoutAction } from '../../state/actions/user';\nimport { ApplicationState } from '../../state/reducers';\nimport { UserState } from '../../state/reducers/types';\nimport { APP_TITLE } from '../../constants';\nimport { NavLink } from '../common/Link';\nimport Container from '../common/container/Container';\n\nconst StyledHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: .8rem;\n`;\n\nfunction logOut(setFeedback: (n: string) => void, logout: () => void) {\n  firebase.auth().signOut().then(() => {\n    setFeedback('Du er nå logget ut');\n    logout();\n  }, (e) => {\n    console.log(e);\n    setFeedback('Noe gikk galt under utlogging.');\n  });\n}\n\nconst othersActive = (match: any, location: any) => location.pathname.startsWith(\"/other\");\n\nexport interface HeaderProps {\n  user?: UserState;\n  logout: () => void;\n}\nconst HeaderComponent = ({ user, logout }: HeaderProps) => {\n  const [feedback, setFeedback] = useState('');\n\n  if (!user || !user.uid) {\n    return null;\n  }\n\n  const H1 = styled.h1`\n    color: white;\n  `;\n  const UserEmail = styled.span`\n    margin-right: 10px;\n  `;\n  const UserInfo = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin-bottom: .5rem;\n    padding-right: .5rem;\n  `;\n  const ActionButtons = styled.div`\n    display: flex;\n    width: 100%;\n  `;\n  const CustomNavLink = styled(NavLink)`\n    width: 50%;\n  `;\n  return (\n    <Container>\n      <H1>{APP_TITLE}</H1>\n      <UserInfo>\n        <UserEmail>{user ? user.email : 'Ukjent'}</UserEmail>\n        <button type=\"button\" className=\"button-navigation button--square\" onClick={() => logOut(setFeedback, logout)}>Logg ut</button>\n        {feedback}\n      </UserInfo>\n      <StyledHeader>\n        <ActionButtons>\n          <CustomNavLink activeClassName=\"selected\" exact to=\"\">Mine ønsker</CustomNavLink>\n          <CustomNavLink activeClassName=\"selected\" isActive={othersActive} to=\"/others\">Vennelister</CustomNavLink>\n        </ActionButtons>\n      </StyledHeader>\n    </Container>\n  );\n};\n\nconst mapStateToProps = ({ user }: ApplicationState) => ({ user });\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  logout() {\n    dispatch(logoutAction());\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderComponent);\n","export const APP_TITLE = 'GAVEØNSKE.NO';\n\n","import firebase from './firebase';\n\nconst provider = new firebase.auth.FacebookAuthProvider();\nexport default provider;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  id: \"Blue_1_\",\n  fill: \"#3C5A99\",\n  d: \"M248.082,262.307c7.854,0,14.223-6.369,14.223-14.225V18.812 c0-7.857-6.368-14.224-14.223-14.224H18.812c-7.857,0-14.224,6.367-14.224,14.224v229.27c0,7.855,6.366,14.225,14.224,14.225 H248.082z\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  id: \"f\",\n  fill: \"#FFFFFF\",\n  d: \"M182.409,262.307v-99.803h33.499l5.016-38.895h-38.515V98.777c0-11.261,3.127-18.935,19.275-18.935 l20.596-0.009V45.045c-3.562-0.474-15.788-1.533-30.012-1.533c-29.695,0-50.025,18.126-50.025,51.413v28.684h-33.585v38.895h33.585 v99.803H182.409z\"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    version: 1.1,\n    id: \"Layer_1\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"266.893px\",\n    height: \"266.895px\",\n    viewBox: \"0 0 266.893 266.895\",\n    enableBackground: \"new 0 0 266.893 266.895\",\n    xmlSpace: \"preserve\"\n  }, props), _ref, _ref2);\n};\n\nexport default __webpack_public_path__ + \"static/media/facebook-icon.3ae13bc8.svg\";\nexport { SvgComponent as ReactComponent };","import styled, { keyframes } from 'styled-components';\n\nconst spinnerKeyframe = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst Spinner = styled.div`\n  display: flex;\n  width: 24px;\n  height: 24px;\n  justify-content: center;\n  align-items: center;\n  &::after {\n    content: \" \";\n    display: block;\n    width: 24px;\n    height: 24px;\n    transform: translateY(50%);\n    border-radius: 50%;\n    border: 3px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: ${spinnerKeyframe} 1.2s linear infinite;\n  }\n`;\n\nexport default Spinner;\n","import styled from 'styled-components';\nimport colors from '../../styles/colors';\n\nconst BorderStyles = `\n  border: 2px solid ${colors.primary};\n  padding: 7px 14px;\n  background: transparent;\n  border-radius: 8px;\n  outline: none;\n  font-size: 16px;\n  color: white;\n  max-width: 300px;\n  min-height: 48px;\n  margin-bottom: 16px;\n  cursor: pointer;\n`;\n\nexport const BorderButton = styled.button`\n  ${BorderStyles}\n`;\n\nexport const BorderInput = styled.input`\n  ${BorderStyles}\n`;\n\nexport default {\n  BorderButton,\n  BorderInput,\n}","import React from 'react';\nimport styled from 'styled-components';\n\nimport facebook from '../firebase/facebooklogin';\nimport firebase from '../firebase/firebase';\n\nimport { ReactComponent as FbIcon } from './facebook-icon.svg';\nimport Spinner from '../common/Spinner';\nimport { Link } from '../common/Link';\nimport { BorderButton } from '../common/Button';\nimport { User } from '../../types/types';\n\nconst debug = require('debug')('ThirdPartyLogin');\n\nconst iconHeight = '30px';\nconst FacebookIcon = styled(FbIcon)`\n  font-size: 1em;\n  height: ${iconHeight};\n  width: ${iconHeight};\n  margin-right: 6px;\n`;\n\nconst ButtonSpinner = styled(Spinner)`\n  margin: 0 auto;\n`;\n\ninterface State {\n  submitting: boolean;\n}\nclass ThirdPartyLogin extends React.Component<{}, State> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      submitting: false\n    };\n    this.loginFacebook = this.loginFacebook.bind(this);\n  }\n\n  loginFacebook(e: React.MouseEvent<HTMLButtonElement>) {\n    debug('loginFacebook', e);\n\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({ submitting: true });\n    firebase.auth().signInWithRedirect(facebook);\n  }\n\n  render() {\n    const SmButton = styled(BorderButton)`\n      display: flex;\n      align-items: center;\n      width: 100%;`;\n    \n    return (\n      <>\n        <SmButton\n          onClick={this.loginFacebook}\n        >\n          { this.state.submitting ?\n            <ButtonSpinner />\n            : <>\n              <FacebookIcon />\n              Logg på med Facebook\n            </>\n          }\n          \n        </SmButton>\n        <Link to=\"/internal\">Passord/brukernavn?</Link>\n      </>\n    );\n  }\n}\n\nexport default ThirdPartyLogin;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from '../common/Link';\nimport colors from '../../styles/colors';\nimport { BorderInput } from '../common/Button';\nimport firebase from '../firebase/firebase';\nimport { string } from 'prop-types';\nimport Icon from '../common/Icon';\n\nconst debug = require('debug')('InternalLogin');\n\n\nconst StyledInput = styled.input`\n  height: 2.5rem;\n  outline: none;\n  padding: 0 1rem;\n  margin-bottom: 12px;\n  border: 0;\n  -webkit-appearance: none;\n  background: ${colors.primaryDark};\n  color: white;\n  width: 100%;\n  &::placeholder {\n    color: grey;\n  }\n`;\n\nconst SubmitButton = styled(BorderInput)`\n  width: 100%;\n`;\n\nconst PasswordContainer = styled.div`\n  position: relative;\n`;\n\nconst StyledPeek = styled.button`\n    position: absolute;\n    border: 0;\n    background-color: transparent;\n    right: 15px;\n    top: -8px;\n    color: white;\n`;\n\ninterface State {\n  user: string;\n  password: string;\n  submitting: boolean;\n  errorMessage: string;\n  peek: boolean;\n}\nclass InternalLogin extends React.Component<{}, State> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      user: '',\n      password: '',\n      submitting: false,\n      errorMessage: '',\n      peek: false\n    };\n    this.updateUserState = this.updateUserState.bind(this);\n    this.updatePasswordState = this.updatePasswordState.bind(this);\n    this.logIn = this.logIn.bind(this);\n    this.togglePeek = this.togglePeek.bind(this);\n  }\n  updateUserState(e: React.ChangeEvent<HTMLInputElement>) {\n    debug('updateUserState', e);\n\n    this.setState({\n      user: e.target.value,\n    });\n  }\n\n  updatePasswordState(e: React.ChangeEvent<HTMLInputElement>) {\n    debug('updatePasswordState', e);\n\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  logIn(e: React.FormEvent<HTMLFormElement>) {\n    debug('logIn', e);\n    const { user, password } = this.state;\n\n    debug('Logging user in with the following credentials: ', user, password);\n    e.preventDefault();\n\n    this.setState({\n      submitting: true\n    });\n\n    firebase.auth().signInWithEmailAndPassword(user, password).catch((error: any) => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n\n      debug('Errorcode: ', errorCode, 'errorMessage', errorMessage);\n\n      if (errorCode) {\n        this.setState({\n          errorMessage: 'Klarte ikke å logge deg inn, beklager det.',\n        });\n      }\n    });\n  }\n\n  togglePeek() {\n    this.setState(({ peek }) => ({ peek: !peek }));\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.logIn}>\n        <label htmlFor=\"username\" className=\"screen-reader-only\">Brukernavn</label>\n        <StyledInput id=\"username\" value={this.state.user} onChange={this.updateUserState} placeholder=\"Brukernavn\" />\n\n        <PasswordContainer>\n          <label htmlFor=\"password\" className=\"screen-reader-only\">Passord</label>\n          <StyledInput\n            id=\"password\"\n            type={this.state.peek ? \"text\" : \"password\"}\n            placeholder=\"Passord\"\n            value={this.state.password}\n            onChange={this.updatePasswordState}\n          />\n          <StyledPeek type=\"button\" onClick={this.togglePeek}><Icon type=\"button\" name={this.state.peek ? 'eye-off' : 'eye'} onClick={() => null} /></StyledPeek>\n        </PasswordContainer>\n\n        <SubmitButton type=\"submit\" value=\"Logg inn\" />\n        <p>{this.state.errorMessage}</p>\n        <Link to=\"/\">Google/Facebook</Link>\n      </form>\n    );\n  }\n}\n\nexport default InternalLogin;\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport colors from '../../styles/colors';\n\nconst StyledCircleContainer = styled.div`\nposition: relative;\nwidth: 100%;\nheight: 100%;\noverflow: hidden;\n`;\n\nfunction getRandomInt(min: number, max: number) {\n  var num = Math.floor((Math.random() * Math.floor(max)));\n  if (num < min) {\n    num += min;\n  }\n  return num;\n}\n\ninterface StyledCircleProps {\n  size: string;\n  top: string;\n  left: string;\n  scale: number;\n}\n\nconst scaleInAndOut = keyframes`\n  0% {\n    transform: scale(1) translateY(0px) translateX(50px);\n  }\n  25% {\n    transform: scale(1.2) translateY(200px) translateX(-50px)\n  }\n  50% {\n    transform: scale(1) translateY(300px) translateX(200px);\n  }\n  75% {\n    transform: scale(0.8) translateY(500px) translateX(-300px);\n  }\n`;\n\nconst StyledCircle = styled.div`\n  background-color: ${colors.primaryDark};\n  border-radius: 50%;\n  filter: opacity(.5);\n  position: absolute;\n  width: ${(props: StyledCircleProps) => props.size};\n  height: ${props => props.size};\n  top: ${props => props.top};\n  left: ${props => props.left};\n  animation: ${scaleInAndOut} ${props => props.scale}s linear infinite alternate;\n`;\n\nexport default function FloatingCircles() {\n  const circles = Array(15).fill(0).map(\n    (el, index) =>\n      <StyledCircle\n        key={index}\n        size={`${getRandomInt(50, 500)}px`}\n        top={`${getRandomInt(0, 100)}%`}\n        left={`${getRandomInt(0, 100)}%`}\n        scale={getRandomInt(5, 30)}\n        />);\n\n  return (\n    <StyledCircleContainer>\n      {circles}\n    </StyledCircleContainer>);\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { Switch, Route, BrowserRouter } from 'react-router-dom';\n\nimport firebase from '../firebase/firebase';\nimport { User } from '../../types/types';\nimport ThirdPartyLogin from './ThirdPartyLogin';\nimport InternalLogin from './InternalLogin';\nimport FloatingCircles from '../common/FloatingCircles';\n\nconst debug = require('debug')('SelectUser');\n\nconst StyledParagraph = styled.p`\nfont-size: 3rem;\nmargin: 2rem;\n`;\n\nrequire('./selectuser.scss');\n\nconst LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: white;\n  height: 100%;\n`;\n\ninterface Props {\n  user: User;\n}\ninterface State {\n  user: string;\n  password: string;\n  feedback: string;\n  submitting: boolean;\n}\nclass Login extends React.Component<Props, State> {\n  constructor(props: any) {\n    super(props);\n    debug('constructor');\n    this.state = {\n      user: '',\n      password: '',\n      feedback: '',\n      submitting: false,\n    };\n  }\n\n  componentDidMount() {\n\n    debug('componentDidMount');\n\n    firebase.auth().getRedirectResult().then(() => {\n      debug('Login was apparently successful');\n    }).catch((error) => {\n      debug('Facebook login failed: ', error);\n\n      if (error) {\n        this.setState({\n          feedback: `Klarte ikke å logge deg inn med facebook. Feil: ${error}`,\n        });\n      }\n    });\n  }\n\n  render() {\n    const { feedback } = this.state;\n\n    const H1 = styled.h1`\n      color: white;\n      font-weight: 400;\n      margin: 4rem 0;\n    `;\n\n    \n\n    return (\n      <BrowserRouter>\n        <LoginContainer>\n          <H1>GAVEØNSKE.NO</H1>\n          <Switch>\n            <Route path=\"/internal\" component={InternalLogin} />\n            <Route component={ThirdPartyLogin} />\n          </Switch>\n          <StyledParagraph>{feedback}</StyledParagraph>\n          <FloatingCircles />\n        </LoginContainer>\n      </BrowserRouter>\n    );\n  }\n}\n\nconst mapStateToProps = ({ user }: { user: User }) => (\n  {\n    user,\n  });\n\nexport default connect(\n  mapStateToProps, null,\n)(Login);\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { setNameAndEmail as setNameAction } from '../../state/actions/user';\nimport { User } from '../../types/types';\n\nconst SetNameContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: white;\n  height: 100%;\n`;\n\nfunction submit(e: React.FormEvent<HTMLFormElement>, setTheName: (thename: string, email: string) => void, name: string, email: string) {\n  e.preventDefault();\n  setTheName(name, email);\n}\n\nexport function SetNameFunc({ setTheName, user }: { setTheName: (name: string) => void, user: User }) {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState(user.email);\n\n  return (\n    <SetNameContainer>\n      <form onSubmit={(e) => submit(e, setTheName, name, email)}>\n        <label htmlFor=\"name\">Velg navn</label>\n        <input type=\"text\" id=\"name\" value={name} onChange={(e: any) => setName(e.target.value)} />\n        <label htmlFor=\"email\">Epost</label>\n        <input disabled={!(user.email === null || user.email === '')} type=\"text\" id=\"email\" value={email} onChange={(e: any) => setEmail(e.target.value)} />\n        <input type=\"submit\" value=\"OK\" />\n      </form>\n\n    </SetNameContainer>);\n}\n\nexport default connect(({ user }: { user: User }) => ({\n  user\n}),\n  dispatch => ({\n    setTheName(name: string, email?: string) {\n      dispatch(setNameAction(name, email));\n    }\n  }))(SetNameFunc);","import { Reducer } from \"redux\";\nimport { UserState } from \"./types\";\n\nconst initialState: UserState = {\n  loaded: false,\n  uid: undefined,\n  email: undefined\n};\nconst debug = require('debug')('userReducer');\n\n\nconst userReducer: Reducer<UserState> = (state = initialState, action) => {\n  debug('Input: state: ', state, '. Action: ', action);\n\n  switch (action.type) {\n    case 'USER_LOADED': {\n      if (action.user) {\n        const { uid, email, name } = action.user;\n        return {\n          ...state,\n          uid,\n          email,\n          name,\n          loaded: true,\n        };\n      }\n      return {\n        ...state,\n        loaded: true,\n      };\n    }\n    case 'LOG_OUT': {\n      return initialState;\n    }\n    default:\n      return { ...state };\n  }\n};\n\nexport default userReducer;\n","import { Reducer } from 'redux';\nimport { WishState } from './types';\n\nconst initialState: WishState = {};\n\nconst userReducer: Reducer<WishState> = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_ALL_WISHES': {\n      return Object.assign({}, action.wishes);\n    }\n    case 'SET_USER_WISHES': {\n      const { uid } = action;\n      return {\n        ...state,\n        [uid]: action.wishes,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","import { Reducer } from 'redux';\nimport { FriendsState } from './types';\n\nconst initialState: FriendsState = {\n  loaded: false,\n  loading: false,\n  friends: [],\n  userNotFound: false,\n  newFriend: undefined\n};\n\nconst reducer: Reducer<FriendsState> = (state = initialState, action) => {\n  switch (action.type) {\n    case 'LOAD_FRIENDS': {\n      return {\n        ...state,\n        loading: true,\n      };\n    }\n    case 'SET_FRIENDS': {\n      return {\n        ...state,\n        friends: action.newFriendList != null ? action.newFriendList : [],\n      };\n    }\n    case 'FRIENDS_LOADED': {\n      return {\n        ...state,\n        friends: action.data != null ? action.data : [],\n        loading: false,\n        loaded: true,\n      };\n    }\n    case 'FRIEND_NOT_FOUND': {\n      return {\n        ...state,\n        userNotFound: true\n      };\n    }\n    default:\n      return { ...state };\n  }\n};\n\nexport default reducer;","import { combineReducers } from 'redux';\nimport user from './user';\n// import suggestion from './suggestion';\nimport wish from './wish';\nimport friends from './friends';\nimport { UserState, WishState, FriendsState } from './types';\n\nexport interface ApplicationState {\n  user: UserState,\n  wish: WishState,\n  friends: FriendsState\n} \n\nconst onskdegReducers = combineReducers<ApplicationState>({\n  user,\n  // suggestion,\n  wish,\n  friends,\n} as any);\n\nexport default onskdegReducers;\n","export const user = (state: any) => state.user;\nexport const friends = (state: any) => {\n  return state.friends.friends;\n};\n","import {\n    put, takeEvery, select, call,\n} from 'redux-saga/effects';\nimport firebase from '../../components/firebase/firebase';\nimport { user as userSelect, friends as friendsSelect } from '../selectors/selectors';\nimport { User } from '../../types/types';\n\nfunction getUserList(currentUser: User) {\n    return new Promise(((resolve) => {\n        firebase.database().ref(`users/${currentUser.uid}/friends`).once('value', (snapshot) => {\n            if (snapshot == null) {\n                return;\n            }\n            const resolveVal = snapshot.val();\n            resolve(resolveVal);\n        });\n    }));\n}\n\nfunction* loadUserList() {\n    const currentUser = yield select(userSelect);\n    const data = yield call(getUserList, currentUser);\n    yield put({ type: 'FRIENDS_LOADED', data });\n}\n\nfunction getFriendByEmail(mail: string) {\n    return new Promise((resolve, reject) => {\n        firebase.database().ref(`users`).once('value', (snapshot) => {\n            if (snapshot == null) {\n                return;\n            }\n            const usersObj = snapshot.val();\n            const userlistKeys = Object.keys(usersObj);\n            const userlist = userlistKeys.map(key => usersObj[key]);\n\n            const filteredList: Array<User> = userlist.filter((user: User) => user.email === mail);\n\n            if (filteredList.length == 1) {\n                resolve(filteredList.reduce((e: User) => e));\n            }\n            else {\n                resolve();\n            }\n        });\n    });\n}\n\nfunction* addFriend(input: any) {\n    const user = yield select(userSelect);\n    const friends = yield select(friendsSelect);\n    const { uid } = user;\n    const { newFriendMail }: { newFriendMail: string } = input;\n    const newFriend = yield getFriendByEmail(newFriendMail);\n    if (newFriend) {\n        const newUserList = [newFriend, ...friends];\n        firebase.database().ref(`users/${uid}/friends`).set(newUserList);\n        yield put({ type: 'FRIEND_FOUND_AND_ADDED', newFriend });\n    }\n    else {\n        yield put({ type: 'FRIEND_NOT_FOUND' });\n    }\n\n}\n\nfunction* deleteFriend(input: any) {\n    const user = yield select(userSelect);\n    const friends = yield select(friendsSelect);\n    const { uid } = user;\n    const { email } = input;\n\n    const newUserList = friends.filter((friend: User) => friend.email !== email);\n    firebase.database().ref(`users/${uid}/friends`).set(newUserList);\n}\n\nfunction* setNameAndEmail(input: any) {\n    const { name, email } = input;\n\n    const user = yield select(userSelect);\n    firebase.database().ref(`users/${user.uid}/name`).set(name);\n    if (email) {\n        firebase.database().ref(`users/${user.uid}/email`).set(email);\n    }\n    yield put({\n        type: 'USER_LOADED',\n        user: {\n            ...user,\n            name\n        }\n    });\n}\n\nexport function* userSaga() {\n    yield takeEvery('LOAD_FRIENDS', loadUserList);\n    yield takeEvery('ADD_FRIEND', addFriend);\n    yield takeEvery('DELETE_FRIEND', deleteFriend);\n    yield takeEvery('SET_NAME_AND_EMAIL', setNameAndEmail);\n}\n\n","import {\n  put, takeEvery, select,\n} from 'redux-saga/effects';\nimport firebase from '../../components/firebase/firebase';\nimport { user as userSelect, friends as friendsSelect } from '../selectors/selectors';\nimport { setWishesForUser, storeWishesToFirebase } from '../actions/wish';\n\nfunction* setOwnWishes(input: any) {\n  const { wishes } = input;\n  const { uid } = yield select(userSelect);\n\n  yield put(setWishesForUser({ uid, wishes }));\n}\n\nfunction storeWishes(input: any) {\n  const { uid, wishes } = input;\n  firebase.database().ref(`wishes/${uid}/wishes`).set(wishes);\n}\n\nfunction* storeWishesToFirebaseSaga(input: any) {\n  const currentUser = yield select(userSelect);\n  const { uid } = currentUser;\n  const { wishes } = input;\n  yield put(storeWishesToFirebase(uid, wishes));\n}\n\nexport function* wishSaga() {\n  yield takeEvery('SET_OWN_WISHES', setOwnWishes);\n  yield takeEvery('STORE_WISHES_TO_FIREBASE', storeWishes);\n  yield takeEvery('STORE_OWN_WISHES_TO_FIREBASE', storeWishesToFirebaseSaga);\n}","import { put, takeEvery, all } from 'redux-saga/effects';\nimport { userSaga } from './usersaga';\nimport { wishSaga } from './wishsaga';\n\nexport default function* rootSaga() {\n    yield all([\n      userSaga(),\n      wishSaga()\n    ])\n  }","import { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\n\nimport reducer from './state/reducers';\nimport rootSaga from './state/sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\n\n/* eslint-disable no-underscore-dangle */\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n/* eslint-enable */\n\nconst store = createStore(\n  reducer, /* preloadedState, */\n  composeEnhancers(applyMiddleware(sagaMiddleware)),\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import firebase from './firebase';\nimport { userLoaded } from '../../state/actions/user';\nimport store from '../../store';\nimport { User, FirebaseSnapshot } from '../../types/types';\n\nconst debug = require('debug')('authFirebase');\n\nconst obj = {\n  authChangeListener() {\n    firebase.auth().onAuthStateChanged((user: User) => {\n      debug('onAuthStateChanged. User logged in: ', user);\n\n      if (user) {\n        firebase.database().ref(`users/${user.uid}/name`).once('value', (snapshot) => {\n          const name = snapshot.val();\n          store.dispatch(userLoaded({ ...user, name}));\n        });\n        \n      } else {\n        store.dispatch(userLoaded(null));\n      }\n    });\n  },\n};\nexport default obj;\n","import React from 'react';\nimport {\n  BrowserRouter, Route, Switch, withRouter,\n} from 'react-router-dom';\nimport { Provider, connect } from 'react-redux';\nimport styled from 'styled-components';\n\nimport YourWishList from './components/yours/YourWishList';\nimport OthersWishListSelection from './components/otherwishlistselection/OthersWishListSelectionWrapper';\nimport OthersWishList from './components/others/OthersWishList';\nimport Header from './components/header/Header';\nimport Login from './components/login/Login';\nimport SetName from './components/setname/SetName';\n\nimport store from './store';\n\nimport authFirebase from './components/firebase/authFirebase';\nimport { ApplicationState } from './state/reducers';\nimport { UserState } from './state/reducers/types';\nimport Loading from './components/common/Loading';\n\ninterface AppProps {\n  user: UserState;\n}\n\n// To prevent route update blockin\nconst HeaderWithRouter = withRouter<any>(Header);\nconst AppComp = ({ user } : AppProps) => {\n  if (!user || !user.loaded) {\n    return <Loading />;\n  }\n  if (!user.uid) {\n    return <Login />;\n  }\n\n  if (!user.name) {\n    return <SetName />;\n  }\n  const MainWrapper = styled.div`\n    max-width: 870px;\n    margin: 0 auto;\n  `;\n  return (\n    <BrowserRouter>\n      <>\n        <HeaderWithRouter />\n        <Switch>\n          <Route path=\"/\" exact component={YourWishList} />\n          <Route path=\"/others\" component={OthersWishListSelection} />\n          <Route path=\"/other/:name\" component={OthersWishList} />\n        </Switch>\n      </>\n    </BrowserRouter>\n  );\n};\n\nconst mapStateToProps = ({ user }: ApplicationState) => ({ user });\nconst AppCompWrapper = connect(mapStateToProps)(AppComp);\n\nconst App = () => (\n  <Provider store={store}>\n    <AppCompWrapper />\n  </Provider>\n);\n\nauthFirebase.authChangeListener();\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './global.scss';\nimport './index.scss';\nimport App from './App';\n\n/** Lets try this for now - disables service workers */\nnavigator.serviceWorker.getRegistrations().then(function(registrations) {\n  for(let registration of registrations) {\n   registration.unregister()\n } })\n\n// if ('serviceWorker' in navigator) {\n//     window.addEventListener('load', function() {\n//       navigator.serviceWorker.register('/service-worker.js');\n//     });\n//   }\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}