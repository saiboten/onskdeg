{"version":3,"sources":["styles/colors.ts","components/common/ListRow.ts","components/common/Icon.tsx","components/common/IconButton.tsx","components/images/arrow-right.svg","components/yours/Wish.tsx","components/firebase/firebase.ts","components/common/Container.tsx","components/common/Button.ts","components/common/Link.ts","components/common/StyledInput.tsx","hooks/useUser.ts","hooks/useWishes.tsx","hooks/useInvites.ts","components/common/Spacer.tsx","util/guid.ts","components/common/Loading.tsx","util/getOgData.ts","components/yours/YourChild.tsx","hooks/useKohort.ts","components/common/StyledHeading.tsx","components/yours/InvitePopup.tsx","components/common/Label.ts","components/SelectName.tsx","components/yours/YourWishList.tsx","hooks/useChilds.ts","components/common/P.tsx","components/images/edit.svg","components/yours/Detail.tsx","hooks/useWish.ts","components/yours/YourWishDetails.tsx","components/selectwishlist/SelectWishList.tsx","components/images/link.svg","hooks/usePurchase.ts","components/common/StyledNotification.tsx","components/others/OtherWish.tsx","components/others/OthersWishList.tsx","components/others/OtherWishDetail.tsx","components/header/settings.svg","components/header/Header.tsx","constants.ts","components/firebase/loginProviders.ts","components/login/facebook-icon.svg","components/common/Spinner.tsx","components/login/ThirdPartyLogin.tsx","components/images/btn_google_signin_dark_normal_web.png","components/login/InternalLogin.tsx","components/common/FloatingCircles.tsx","components/login/Login.tsx","GlobalStyles.ts","components/childs/AddChild.tsx","components/group/AddKohort.tsx","components/Settings.tsx","components/LegacyWishes.tsx","components/common/StyledLabelInputPair.tsx","components/GroupAdmin.tsx","components/PrivacyPolicy.tsx","components/TermsOfService.tsx","components/DeleteMe.tsx","components/ChildAdmin.tsx","hooks/useKohorts.ts","components/ScrollToTop.tsx","App.tsx","index.tsx"],"names":["primary","primaryDark","Color","fade","string","primaryLight","saturate","lighten","negative","positive","neutral","ListRowStyles","colors","ListRow","styled","div","LeftSection","StyledIconButton","button","StyledSvg","svg","Icon","name","type","onClick","classFromProps","className","rest","fill","xlinkHref","IconButton","NegativeIconButton","NeutralIconButton","GoldIconButton","StyledActionButtons","moveIn","keyframes","StyledActionButtonsAnimated","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","id","d","SvgArrowRight","_ref","svgRef","title","titleId","props","width","height","viewBox","ref","ForwardRef","Link","RouterLink","Wish","ArrowRight","wish","deleteProp","delete","user","useState","confirm","setConfirm","deleteWish","to","require","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Container","textLeft","BorderStyles","BorderButton","BorderInput","input","ButtonNavigation","Button","ALink","a","UnstyledLink","NavLink","RouterNavLink","darken","StyledInput","fetcher","collection","userId","Promise","resolve","uid","groups","isChild","userDoc","firestore","doc","get","userData","exists","childs","data","set","useUser","useSWR","suspense","error","isLoading","isError","wishes","docRef","useWishes","email","then","myInvites","Spacer","createGuid","replace","c","r","Math","random","toString","animation","Spinner","getOgData","url","fetch","json","StyledChildren","YourChild","child","myUid","newWish","setNewWish","deleteId","newData","filter","e","mutate","handleSaveWish","preventDefault","undefined","startsWith","emptyWish","deleted","description","image","link","isSuggestion","update","forEach","group","groupRef","groupData","newsFeed","unshift","date","Timestamp","now","slice","Loading","StyledWrapper","onSubmit","placeholder","value","onChange","StyledCheckIcon","map","el","groupId","groupName","admin","members","invites","useKohort","kohort","StyledBigHeader","h1","StyledSubHeader","h2","StyledBlurredBackground","StyledInnerContent","StyledButton","InvitePopup","firebaseUser","firstInvite","loading","setLoading","m","newSet","Set","add","Array","from","childInfo","includes","style","marginRight","StyledLabel","label","StyledLabelInput","SelectName","displayName","setName","useEffect","htmlFor","autoComplete","form","StyledBottomOptions","StyledWarning","YourWishList","feedback","setFeedback","setChilds","childrenList","getChildData","childId","parent","all","useChilds","useInvites","storeWishesToFirebase","newWishObject","deleteThis","fallback","showNoEmailDisclaimer","marginLeft","P","p","SvgEdit","StyledEdit","Edit","Detail","children","fieldName","initialValue","storeData","setValue","edit","setEdit","autoFocus","onBlur","display","alignItems","wordBreak","flex","justifyContent","padding","useWish","wishId","find","StyledTitle","StyledDescription","StyledLink","YourWishDetails","useParams","wishid","storeWishDetails","updatedWish","newWishList","updateWishStore","wishDescription","price","field","toggle","href","StyledKohorts","StyledUl","ul","GroupUser","NewsFeedEntry","suggestedBy","suggestedByUser","format","toDate","LatestNews","GroupUsers","member","SelectWishList","SvgLink","purchase","purchaseId","checked","checkedBy","usePurchase","StyledNotificationBar","active","StyledNotification","text","StyledLinkIcon","LinkIcon","OtherWish","wishInfo","item","purchaseRef","purchaseData","isChecked","setTimeout","wishRef","wishesData","existingWishes","w","wishSuggestedByMe","transform","OthersWishList","suggestion","setSuggestion","existingData","ownWishes","suggestions","OtherWishDetail","purchaseUser","SvgSettings","StyledHeader","StyledSettingsIcon","SettingsIcon","othersActive","_","location","pathname","yoursActive","HeaderComponent","logout","console","log","H1","UserEmail","span","UserInfo","ActionButtons","CustomNavLink","auth","signOut","logOut","activeClassName","exact","isActive","facebookProvider","FacebookAuthProvider","googleProvider","GoogleAuthProvider","SvgFacebookIcon","x","y","enableBackground","xmlSpace","spinnerKeyframe","iconHeight","FacebookIcon","FbIcon","ButtonSpinner","ThirdPartyLogin","submittingFb","setSubmittingFb","submittingGoogle","setSubmittingGoogle","SmButton","stopPropagation","signInWithRedirect","src","SubmitButton","PasswordContainer","StyledPeek","InternalLogin","setUser","password","setPassword","setSubmitting","errorMessage","setErrorMessage","peek","setPeek","signInWithEmailAndPassword","catch","errorCode","code","message","StyledCircleContainer","getRandomInt","min","max","num","floor","scaleInAndOut","StyledCircle","size","top","left","scale","FloatingCircles","circles","index","StyledParagraph","LoginContainer","Login","getRedirectResult","path","component","GlobalStyle","createGlobalStyle","StyledForm","StyledRow","AddChild","submitting","created","setCreated","newChildDoc","newChild","event","AddKohort","setGroupName","setEmail","setInvites","groupCreated","setGroupCreated","db","childData","invite","docDetails","toLowerCase","ChildSetting","childUid","GroupSetting","flexDirection","Settings","Fragment","LegacyWishes","setWishes","database","once","snapshot","val","StyledLabelInputPair","GroupAdmin","newInvite","setNewInvite","newUid","setNewUid","kohortId","inviteRef","inviteData","disabled","test","PrivacyPolicy","TermsOfService","DeleteMe","alert","KohortMember","isParent","ChildAdmin","kohortData","setGroups","getGroupData","useKohorts","allusers","reduce","sum","next","push","userSet","filteredUserList","ScrollToTop","useLocation","React","window","scrollTo","App","setUid","setFirebaseUser","uidResolved","setUidResolved","onAuthStateChanged","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c2ffdabc.chunk.js","sourcesContent":["import Color from 'color';\n\nconst primary = \"#b49b57\";\nconst primaryDark = Color(primary).fade(.7).string();\nconst primaryLight = Color(primary).saturate(.5).lighten(.4).string();\n\nconst negative = \"#ff5656\";\nconst positive = \"#49b557\";\nconst neutral = \"#3988ea\";\n\nexport default {\n  primary,\n  primaryDark,\n  primaryLight,\n  negative,\n  positive,\n  neutral,\n}","import styled, { keyframes } from \"styled-components\";\nimport colors from \"../../styles/colors\";\n\nexport const ListRowStyles = `\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: ${colors.primaryDark};\n  color: white;\n  padding-left: 50px;\n  margin-bottom: 2px;\n  min-height: 52px;\n  text-align: left;\n`;\nexport const ListRow = styled.div`\n  ${ListRowStyles}\n`;\n\nexport const LeftSection = styled.div`\n  display: flex;\n  align-items: center;\n  flex-shrink: 1;\n  overflow: hidden;\n`;\n\nexport default ListRow;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst StyledIconButton = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n\n  height: 40px;\n  width: 40px;\n`;\n\nconst StyledSvg = styled.svg`\n  max-height: 30px;\n  max-width: 30px;\n`;\n\ninterface IconProps {\n  name: string;\n  type: \"button\" | \"submit\" | \"reset\" | undefined;\n  onClick: (args: any) => void;\n  className?: string;\n}\n/* eslint-disable react/button-has-type */\nexport default function Icon({\n  name,\n  type,\n  onClick,\n  className: classFromProps,\n  ...rest\n}: IconProps) {\n  return (\n    <StyledIconButton\n      type={type}\n      className={classFromProps}\n      onClick={onClick}\n      {...rest}\n    >\n      <StyledSvg fill=\"currentColor\">\n        <use xlinkHref={`/svg/sprite.svg#icon-${name}`} />\n      </StyledSvg>\n    </StyledIconButton>\n  );\n}\n/* eslint-enable react/button-has-type */\n","import Icon from \"./Icon\";\nimport styled, { keyframes } from \"styled-components\";\nimport colors from \"../../styles/colors\";\n\nexport const IconButton = styled(Icon)`\n  height: 52px;\n  width: 52px;\n  max-height: 52px;\n  max-width: 52px;\n`;\nexport const NegativeIconButton = styled(IconButton)`\n  background: ${colors.negative};\n`;\nexport const NeutralIconButton = styled(IconButton)`\n  background: ${colors.neutral};\n`;\nexport const GoldIconButton = styled(IconButton)`\n  color: ${colors.primaryLight};\n`;\n\nexport const StyledActionButtons = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-shrink: 0;\n`;\n\nconst moveIn = keyframes`\nfrom {\n  transform: translateX(100%);\n}\n\nto {\n  transform: translateX(0);\n}\n`;\n\nexport const StyledActionButtonsAnimated = styled(StyledActionButtons)`\n  animation: ${moveIn} 0.2s ease-in;\n`;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icomoon-ignore\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M636.8 396.8c3.2-6.4 3.2-16 0-25.6-3.2-3.2-3.2-6.4-6.4-9.6l-224-224c-12.8-12.8-32-12.8-44.8 0s-12.8 32 0 44.8l169.6 169.6h-371.2c-19.2 0-32 12.8-32 32s12.8 32 32 32h371.2l-169.6 169.6c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6l224-224c3.2-3.2 6.4-6.4 6.4-9.6z\"\n});\n\nfunction SvgArrowRight(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 768,\n    height: 768,\n    viewBox: \"0 0 768 768\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowRight);\nexport default __webpack_public_path__ + \"static/media/arrow-right.fa20fe33.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nimport firebase from \"../firebase/firebase\";\nimport { Wish as WishType } from \"../../types/types\";\nimport ListRow, { LeftSection } from \"../common/ListRow\";\nimport { ImageWrapper } from \"../common/Image\";\nimport {\n  NeutralIconButton,\n  NegativeIconButton,\n  GoldIconButton,\n  StyledActionButtons,\n  StyledActionButtonsAnimated,\n} from \"../common/IconButton\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport { ReactComponent as ArrowRight } from \"../images/arrow-right.svg\";\n\nexport const Link = styled(RouterLink)`\n  text-decoration: none;\n\n  &:visited,\n  &:link {\n    color: white;\n  }\n  &:hover {\n    color: grey;\n  }\n`;\n\ninterface P {\n  user: string;\n  wish: WishType;\n  delete: (wishId: string) => void;\n}\n\nconst StyledArrowRight = styled(ArrowRight)`\n  width: 2rem;\n  height: 2rem;\n  fill: #fff;\n  transform: translateY(4px);\n  margin-left: 1rem;\n`;\n\nexport const Wish = ({ wish, delete: deleteProp, user }: P) => {\n  const [confirm, setConfirm] = useState(false);\n\n  function deleteItem() {\n    setConfirm(true);\n  }\n\n  function cancel() {\n    setConfirm(false);\n  }\n\n  function deleteConfirmed() {\n    deleteProp(wish.id);\n  }\n\n  const deleteWish = confirm ? (\n    <StyledActionButtonsAnimated>\n      <NeutralIconButton type=\"button\" name=\"x\" onClick={cancel} />\n      <NegativeIconButton\n        type=\"button\"\n        name=\"check\"\n        onClick={deleteConfirmed}\n      />\n    </StyledActionButtonsAnimated>\n  ) : (\n    <StyledActionButtons>\n      <GoldIconButton type=\"button\" name=\"trash-2\" onClick={deleteItem} />\n    </StyledActionButtons>\n  );\n\n  return (\n    <ListRow>\n      <LeftSection>\n        <Link to={`/wish/${user}/${wish.id}`}>{wish.name}</Link>\n      </LeftSection>\n      {deleteWish}\n    </ListRow>\n  );\n};\n","import firebase from \"firebase\";\n// import \"firebase/firestore\";\n\n// const firebase = require(\"firebase\");\n// Required for side-effects\nrequire(\"firebase/firestore\");\nrequire(\"firebase/functions\");\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDRCFzLXgaM36t-0Vnhp2XbbQJrUjDmQAw\",\n  authDomain: \"auth.auth.xn--gavenske-84a.no\",\n  databaseURL: \"https://onskdeg.firebaseio.com\",\n  projectId: \"onskdeg\",\n  storageBucket: \"onskdeg.appspot.com\",\n  messagingSenderId: \"776764935060\",\n  appId: \"1:776764935060:web:3b84bf79abfad4c62cdd81\",\n};\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;\n","import styled from \"styled-components\";\n\ninterface ContainerProps {\n  textLeft?: boolean;\n}\n\nexport const Container = styled.div<ContainerProps>`\n  max-width: 870px;\n  margin: 0 auto;\n  font-size: 1.6rem;\n  padding: 0 0.5rem;\n\n  text-align: ${(props) => (props.textLeft ? \"left\" : \"center\")};\n`;\n","import styled from \"styled-components\";\nimport colors from \"../../styles/colors\";\n\nconst BorderStyles = `\n  border: 2px solid ${colors.primary};\n  padding: 7px 14px;\n  background: transparent;\n  border-radius: 8px;\n  outline: none;\n  font-size: 16px;\n  color: white;\n  max-width: 300px;\n  min-height: 48px;\n  margin-bottom: 16px;\n  cursor: pointer;\n`;\n\nexport const BorderButton = styled.button`\n  ${BorderStyles}\n`;\n\nexport const BorderInput = styled.input`\n  ${BorderStyles}\n`;\n\nexport const ButtonNavigation = styled.button`\n  background-color: #666;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  font-weight: 600;\n  font-family: \"Exo 2\", sans-serif;\n  text-align: center;\n  vertical-align: middle;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  white-space: nowrap;\n  overflow: hidden;\n  padding: 0 18px;\n  border: 0 none;\n  border-radius: 3px;\n  font-size: 13px;\n  height: 40px;\n  line-height: 40px;\n  text-decoration: none;\n  cursor: pointer;\n`;\n\nexport const Button = styled.button`\n  background-color: #666;\n  display: inline-block;\n  color: white;\n  font-weight: 600;\n  font-family: \"Exo 2\", sans-serif;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  padding: 0 18px;\n  border: 0 none;\n  border-radius: 3px;\n  font-size: 13px;\n  line-height: 40px;\n  text-decoration: none;\n  cursor: pointer;\n`;\n\nexport default {\n  BorderButton,\n  BorderInput,\n};\n","import styled from \"styled-components\";\nimport { Link as RouterLink, NavLink as RouterNavLink } from \"react-router-dom\";\nimport colors from \"../../styles/colors\";\nimport Color from \"color\";\n\nexport const Link = styled(RouterLink)`\n  text-decoration: none;\n  border-bottom: 2px solid ${colors.primary};\n  font-weight: 400;\n\n  &:visited,\n  &:link {\n    color: white;\n  }\n  &:hover {\n    color: grey;\n  }\n`;\n\nexport const ALink = styled.a`\n  text-decoration: none;\n  border-bottom: 2px solid ${colors.primary};\n  font-weight: 400;\n\n  &:visited,\n  &:link {\n    color: white;\n  }\n  &:hover {\n    color: grey;\n  }\n`;\n\nexport const UnstyledLink = styled(RouterLink)`\n  text-decoration: none;\n  font-weight: 400;\n\n  &:visited,\n  &:link {\n    color: white;\n  }\n  &:hover {\n    color: grey;\n  }\n`;\n\nexport const NavLink = styled(RouterNavLink)`\n  background: ${colors.primaryDark};\n  color: ${Color(\"white\").darken(0.3).string()};\n  text-decoration: none;\n  padding: 0.8rem;\n  &.selected {\n    color: white;\n    background: ${colors.primary};\n  }\n`;\n\nexport default {\n  Link,\n  NavLink,\n};\n","import styled from \"styled-components\";\n\nexport const StyledInput = styled.input`\n  height: 48px;\n  padding: 0 10px;\n  padding-left: 40px;\n  width: calc(100% - 1.6rem);\n  margin: 0 0.8rem;\n  border-radius: 10px;\n  border: none;\n  font-size: 1.6rem;\n  flex: 1;\n\n  &::placeholder {\n    font-size: 1.6rem;\n  }\n`;\n","import useSWR from \"swr\";\nimport firebase from \"../components/firebase/firebase\";\nimport { User } from \"../types/types\";\n\nconst fetcher = async (collection: \"user\", userId: string): Promise<User> => {\n  return await new Promise(async (resolve) => {\n    if (userId === \"\") {\n      resolve({\n        uid: \"\",\n        groups: [],\n        isChild: false,\n      });\n      return;\n    }\n\n    const userDoc = firebase.firestore().collection(collection).doc(userId);\n\n    const userData = await userDoc.get();\n\n    if (userData.exists) {\n      const user = {\n        uid: \"\",\n        childs: [],\n        groups: [],\n        isChild: false,\n        ...userData.data(),\n      };\n      resolve(user);\n    } else {\n      await userDoc.set({\n        uid: userId,\n        childs: [],\n        groups: [],\n        isChild: false,\n      });\n      resolve({\n        uid: userId,\n        childs: [],\n        groups: [],\n        isChild: false,\n      });\n    }\n  });\n};\n\nexport function useUser(user: string) {\n  const { data, error } = useSWR([\"user\", user], fetcher, { suspense: true });\n  return {\n    user: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n","import useSWR from \"swr\";\nimport firebase from \"../components/firebase/firebase\";\nimport { Wish } from \"../types/types\";\n\nconst fetcher = async (\n  wishes: \"wishes\",\n  userId: string\n): Promise<Wish[] | undefined> => {\n  return await new Promise(async (resolve) => {\n    if (userId === \"\") {\n      resolve([]);\n      return;\n    }\n\n    const docRef = firebase.firestore().collection(wishes).doc(userId);\n\n    const doc = await docRef.get();\n\n    if (doc.exists) {\n      resolve([...doc.data()?.wishes]);\n    } else {\n      await docRef.set({\n        wishes: [],\n      });\n      resolve([]);\n    }\n  });\n};\n\nexport function useWishes(user: string) {\n  const { data, error } = useSWR([\"wishes\", user], fetcher, { suspense: true });\n\n  return {\n    wishes: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n","import useSWR from \"swr\";\nimport firebase from \"../components/firebase/firebase\";\nimport { Invites } from \"../types/types\";\n\nconst fetcher = async (\n  collection: \"invites\",\n  email: string\n): Promise<Invites> => {\n  return await new Promise((resolve) => {\n    if (email === \"\") {\n      resolve({\n        myInvites: [],\n      });\n      return;\n    }\n\n    firebase\n      .firestore()\n      .collection(collection)\n      .doc(email)\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          const user = {\n            myInvites: [],\n            ...doc.data(),\n          };\n          resolve(user);\n        } else {\n          resolve({\n            myInvites: [],\n          });\n        }\n      });\n  });\n};\n\nexport function useInvites(email: string) {\n  const { data, error } = useSWR([\"invites\", email], fetcher, {\n    suspense: true,\n  });\n  return {\n    invites: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n","import styled from \"styled-components\";\n\nexport const Spacer = styled.div`\n  margin-bottom: 24px;\n`;\n","/*eslint-disable */\nexport function createGuid() {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c == \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n/* eslint-enable */\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst animation = keyframes`\n  0% {\n    top: 6px;\n    height: 51px;\n  }\n  50%, 100% {\n    top: 19px;\n    height: 26px;\n  }\n`;\n\nconst Spinner = styled.div`\n  display: inline-block;\n  position: relative;\n  width: 64px;\n  height: 64px;\n  div {\n    display: inline-block;\n    position: absolute;\n    left: 6px;\n    width: 13px;\n    background: #fff;\n    animation: ${animation} 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\n  }\n  div:nth-child(1) {\n    left: 6px;\n    animation-delay: -0.24s;\n  }\n  div:nth-child(2) {\n    left: 26px;\n    animation-delay: -0.12s;\n  }\n  div:nth-child(3) {\n    left: 45px;\n    animation-delay: 0;\n  }\n`;\n\nexport default () => (\n  <Spinner>\n    <div />\n    <div />\n    <div />\n  </Spinner>\n);\n","export type OgResponseData = {\n  image?: string;\n  url?: string;\n  description?: string;\n  title?: string;\n};\n\nexport async function getOgData(url: string): Promise<OgResponseData> {\n  return await fetch(\n    `https://us-central1-onskdeg.cloudfunctions.net/addMessage?url=${url}`\n  ).then((data) => {\n    return data.json();\n  });\n}\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Wish as WishType, Child, NewsEntryType } from \"../../types/types\";\nimport { StyledInput } from \"../common/StyledInput\";\nimport { Wish } from \"./Wish\";\nimport { StyledWrapper, StyledCheckIcon } from \"./YourWishList\";\nimport firebase from \"../firebase/firebase\";\nimport { useWishes } from \"../../hooks/useWishes\";\nimport { mutate } from \"swr\";\nimport { createGuid } from \"../../util/guid\";\nimport Loading from \"../common/Loading\";\nimport { useUser } from \"../../hooks/useUser\";\nimport { getOgData, OgResponseData } from \"../../util/getOgData\";\n\nconst StyledChildren = styled.div`\n  margin-bottom: 2.4rem;\n`;\n\ninterface Props {\n  child: Child;\n  myUid: string;\n}\n\nexport const YourChild = ({ child, myUid }: Props) => {\n  const [newWish, setNewWish] = useState(\"\");\n  const { wishes, isLoading } = useWishes(child.uid);\n  const { user } = useUser(myUid);\n\n  function storeWishesToFirebase(newData: Array<WishType>) {\n    mutate([\"wishes\", child?.uid || \"?\"], newData, false);\n    firebase\n      .firestore()\n      .collection(\"wishes\")\n      .doc(child?.uid || \"?\")\n      .set({\n        wishes: newData,\n      })\n      .then(() => {\n        mutate([\"wishes\", child?.uid]);\n      });\n  }\n\n  function deleteWish(deleteId: string) {\n    storeWishesToFirebase(\n      [...(wishes || [])].filter((e: WishType) => {\n        return e.id !== deleteId;\n      })\n    );\n  }\n\n  const wishToElement = (el: WishType) => {\n    return <Wish user={child.uid} key={el.id} delete={deleteWish} wish={el} />;\n  };\n\n  const handleSaveWish = async (e: React.MouseEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    let data: OgResponseData | undefined = undefined;\n\n    if (newWish.startsWith(\"https\")) {\n      data = await getOgData(newWish);\n    }\n\n    const emptyWish: WishType = {\n      name: data?.title || newWish,\n      deleted: false,\n      description: data?.description || \"\",\n      image: data?.image || \"\",\n      link: data?.url || \"\",\n      isSuggestion: false,\n      id: createGuid(),\n    };\n\n    firebase\n      .firestore()\n      .collection(\"wishes\")\n      .doc(child.uid)\n      .update({\n        wishes: [emptyWish, ...(wishes || [])],\n      });\n\n    user?.groups.forEach(async (group) => {\n      const groupRef = firebase.firestore().collection(\"groups\").doc(group);\n      const groupData = await groupRef.get();\n\n      const newsFeed: NewsEntryType[] = groupData.data()?.newsFeed || [];\n      newsFeed.unshift({\n        isSuggestion: false,\n        user: child.uid,\n        wish: newWish,\n        date: firebase.firestore.Timestamp.now(),\n      });\n\n      await groupRef.update({\n        newsFeed: newsFeed?.slice(0, 5) || [],\n      });\n    });\n\n    mutate([\"wishes\", child.uid]);\n    setNewWish(\"\");\n  };\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <StyledChildren>\n      <h2>{child.name}</h2>\n      <StyledWrapper onSubmit={handleSaveWish}>\n        <StyledInput\n          type=\"text\"\n          placeholder={`Legg inn nske for ${child.name}`}\n          value={newWish}\n          onChange={(e) => setNewWish(e.target.value)}\n        />\n        <StyledCheckIcon type=\"submit\" name=\"check\" onClick={() => null} />\n      </StyledWrapper>\n      {(wishes || []).length > 0 ? (\n        (wishes || []).map(wishToElement)\n      ) : (\n        <div>Ingen nsker lagt inn enda</div>\n      )}\n    </StyledChildren>\n  );\n};\n","import { Suspense } from \"react\";\nimport useSWR from \"swr\";\nimport firebase from \"../components/firebase/firebase\";\nimport { Kohort } from \"../types/types\";\n\nconst fetcher = async (groups: \"groups\", groupId: string): Promise<Kohort> => {\n  return await new Promise((resolve) => {\n    if (groupId === undefined || groupId === \"\") {\n      return {};\n    }\n\n    firebase\n      .firestore()\n      .collection(groups)\n      .doc(groupId)\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          resolve({\n            id: \"\",\n            groupName: \"\",\n            admin: \"\",\n            members: [],\n            invites: [],\n            ...doc.data(),\n          });\n        } else {\n          resolve({\n            id: \"\",\n            admin: \"\",\n            members: [],\n            invites: [],\n            groupName: \"\",\n          });\n        }\n      });\n  });\n};\n\nexport function useKohort(groupId: string) {\n  const { data, error } = useSWR([\"groups\", groupId], fetcher, {\n    suspense: true,\n  });\n  return {\n    kohort: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n","import styled from \"styled-components\";\n\nexport const StyledBigHeader = styled.h1`\n  font-size: 3rem;\n  font-weight: 500;\n`;\n\nexport const StyledSubHeader = styled.h2`\n  font-size: 2rem;\n  font-weight: 300;\n`;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { mutate } from \"swr\";\nimport { useKohort } from \"../../hooks/useKohort\";\nimport { useUser } from \"../../hooks/useUser\";\nimport { BorderButton } from \"../common/Button\";\nimport Loading from \"../common/Loading\";\nimport { Spacer } from \"../common/Spacer\";\nimport { StyledBigHeader } from \"../common/StyledHeading\";\nimport firebase from \"../firebase/firebase\";\n\ninterface Props {\n  invites: string[];\n  uid: string;\n  firebaseUser?: firebase.User;\n}\n\nconst StyledBlurredBackground = styled.div`\n  height: 100vh;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 3000;\n  transition: all 1s;\n\n  @supports (-webkit-backdrop-filter: blur(10px)) or\n    (backdrop-filter: blur(10px)) {\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n  }\n`;\n\nconst StyledInnerContent = styled.div`\n  width: 50%;\n  height: 50%;\n  background: #000;\n  color: #fff;\n  box-shadow: 0 2rem 4rem rgba(#000, 0.2);\n  border-radius: 3px;\n  overflow: hidden;\n  opacity: 1;\n  transform: translate(-50%, -50%) scale(0);\n  transition: all 0.6s 0.25s;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  @media (max-width: 450px) {\n    width: 100%;\n    height: 70vh;\n  }\n`;\n\nconst StyledButton = styled.div`\n  position: absolute;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n`;\n\nexport const InvitePopup = ({ invites, uid, firebaseUser }: Props) => {\n  const firstInvite = invites[0];\n\n  const { kohort } = useKohort(firstInvite);\n  const { user } = useUser(uid);\n  const [loading, setLoading] = useState(false);\n\n  async function joinGroup() {\n    setLoading(true);\n    // Remove invite\n    await firebase\n      .firestore()\n      .collection(\"invites\")\n      .doc(firebaseUser?.email || \"\")\n      .update({\n        myInvites: invites.filter((m) => m !== firstInvite),\n      });\n\n    const newSet = new Set<string>();\n\n    [...(kohort?.members || []), ...(user?.childs || []), uid];\n\n    kohort?.members.forEach((m) => newSet.add(m));\n    user?.childs?.forEach((m) => newSet.add(m));\n    newSet.add(uid);\n\n    // Join group in group collection\n    await firebase\n      .firestore()\n      .collection(\"groups\")\n      .doc(firstInvite)\n      .update({\n        members: Array.from(newSet),\n      });\n\n    // Add group to user\n    await firebase\n      .firestore()\n      .collection(\"user\")\n      .doc(user?.uid)\n      .update({\n        groups: [...(user?.groups || []), firstInvite],\n      });\n\n    user?.childs?.forEach(async (child) => {\n      const childInfo = await firebase\n        .firestore()\n        .collection(\"user\")\n        .doc(child)\n        .get();\n\n      if (childInfo.data()?.groups.includes(firstInvite)) {\n        // child already in group\n      } else {\n        firebase\n          .firestore()\n          .collection(\"user\")\n          .doc(child)\n          .update({\n            groups: [...(childInfo.data()?.groups || []), firstInvite],\n          });\n      }\n\n      setLoading(false);\n    });\n\n    mutate([\"invites\", firebaseUser?.email]);\n  }\n\n  async function declineGroupInvite() {\n    setLoading(true);\n    // todo decline\n    await firebase\n      .firestore()\n      .collection(\"invites\")\n      .doc(firebaseUser?.email || \"\")\n      .update({\n        myInvites: invites.filter((m) => m !== firstInvite),\n      });\n    mutate([\"invites\", firebaseUser?.email]);\n    setLoading(false);\n  }\n\n  return (\n    <StyledBlurredBackground>\n      <StyledInnerContent>\n        <Spacer />\n        <StyledBigHeader>\n          Du er invitert til en kohort med navn:{\" \"}\n          <strong>{kohort?.groupName}</strong>\n        </StyledBigHeader>\n        <Spacer />\n\n        <p>\n          Hvis du takker nei til invitasjonen m du f en ny invitasjon av\n          eieren av kohorten.\n        </p>\n\n        <p>Her kommer en liste med de som er med fra fr.</p>\n\n        <p>Vil du vre med?</p>\n        <StyledButton>\n          {loading ? (\n            <Loading />\n          ) : (\n            <>\n              <BorderButton\n                style={{ marginRight: \"1rem\" }}\n                onClick={declineGroupInvite}\n              >\n                Niks\n              </BorderButton>\n              <BorderButton onClick={joinGroup}>OK</BorderButton>\n            </>\n          )}\n        </StyledButton>\n      </StyledInnerContent>\n    </StyledBlurredBackground>\n  );\n};\n","import styled from \"styled-components\";\nimport colors from \"../../styles/colors\";\n\nexport const StyledLabel = styled.label`\n  color: ${colors.primary};\n  font-size: 14px;\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { Button } from \"./common/Button\";\nimport { Container } from \"./common/Container\";\nimport { StyledLabel } from \"./common/Label\";\nimport { StyledInput } from \"./common/StyledInput\";\nimport styled from \"styled-components\";\nimport { useUser } from \"../hooks/useUser\";\nimport firebase from \"./firebase/firebase\";\nimport { mutate } from \"swr\";\nimport { StyledBigHeader } from \"./common/StyledHeading\";\n\nconst StyledLabelInput = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\ninterface Props {\n  firebaseUser?: firebase.User;\n  uid: string;\n}\n\nexport const SelectName = ({ firebaseUser, uid }: Props) => {\n  const [name, setName] = useState(firebaseUser?.displayName || \"\");\n\n  useEffect(() => {\n    setName(firebaseUser?.displayName || \"\");\n  }, [firebaseUser?.displayName]);\n\n  async function handleSetName(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    await firebase.firestore().collection(\"user\").doc(uid).update({\n      name,\n    });\n    mutate([\"user\", uid]);\n  }\n\n  return (\n    <Container textLeft>\n      <StyledBigHeader>Navn</StyledBigHeader>\n      <p>Hei, hva heter du?</p>\n\n      <form onSubmit={handleSetName}>\n        <StyledLabel htmlFor=\"name\">Navn</StyledLabel>\n        <StyledLabelInput>\n          <StyledInput\n            autoComplete=\"off\"\n            id=\"name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          ></StyledInput>\n          <Button type=\"submit\">Lagre</Button>\n        </StyledLabelInput>\n      </form>\n    </Container>\n  );\n};\n","import React, { Suspense, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Wish } from \"./Wish\";\nimport firebase from \"../firebase/firebase\";\nimport Icon from \"../common/Icon\";\nimport { mutate } from \"swr\";\n\nimport {\n  Wish as WishType,\n  User,\n  FirebaseSnapshot,\n  Kohort,\n  NewsEntryType,\n} from \"../../types/types\";\nimport { Container } from \"../common/Container\";\nimport { BorderButton } from \"../common/Button\";\nimport { Link } from \"../common/Link\";\nimport { StyledInput } from \"../common/StyledInput\";\nimport { useUser } from \"../../hooks/useUser\";\nimport { useWishes } from \"../../hooks/useWishes\";\nimport { useInvites } from \"../../hooks/useInvites\";\nimport { Spacer } from \"../common/Spacer\";\nimport { useChilds } from \"../../hooks/useChilds\";\nimport { YourChild } from \"./YourChild\";\nimport { createGuid } from \"../../util/guid\";\nimport { InvitePopup } from \"./InvitePopup\";\nimport Loading from \"../common/Loading\";\nimport { SelectName } from \"../SelectName\";\nimport { StyledBigHeader } from \"../common/StyledHeading\";\nimport { getOgData, OgResponseData } from \"../../util/getOgData\";\n\nexport const StyledCheckIcon = styled(Icon)`\n  position: absolute;\n  color: black;\n  top: 0;\n  left: 15px;\n  height: 100%;\n  background-color: transparent;\n  border: none;\n  float: right;\n  cursor: pointer;\n`;\n\ninterface P {\n  user: User;\n  updateWishStore: (newWishes: Array<WishType>) => void;\n  storeWishesToFirebase: (newWishes: Array<WishType>) => void;\n  wishes: Array<WishType>;\n  firebaseUser: firebase.User;\n}\n\ninterface S {\n  newWish: string;\n  feedback: string;\n}\n\nexport const StyledWrapper = styled.form`\n  position: relative;\n  margin-bottom: 0.8rem;\n`;\n\nconst StyledBottomOptions = styled.div`\n  width: 100%;\n  text-align: left;\n`;\n\nconst StyledWarning = styled.div`\n  border: 5px red solid;\n  border-radius: 5px;\n  background: #fff;\n  color: black;\n  padding: 1rem;\n  margin: 1rem;\n`;\n\ninterface Props {\n  uid: string;\n  firebaseUser?: firebase.User;\n}\n\nexport const YourWishList = ({ uid, firebaseUser }: Props) => {\n  const [newWish, setNewWish] = useState(\"\");\n  const [feedback, setFeedback] = useState(\"\");\n  const { user } = useUser(uid);\n\n  const { wishes } = useWishes(user?.uid || \"?\");\n\n  const childs = useChilds(user?.uid || \"?\");\n\n  const { invites } = useInvites(firebaseUser?.email || \"\");\n\n  function storeWishesToFirebase(newData: Array<WishType>) {\n    mutate([\"wishes\", user?.uid || \"?\"], newData, false);\n    firebase\n      .firestore()\n      .collection(\"wishes\")\n      .doc(user?.uid || \"?\")\n      .set({\n        wishes: newData,\n      })\n      .then(() => {\n        mutate([\"wishes\", user?.uid]);\n      });\n  }\n\n  async function addWish(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n\n    if (newWish === \"\") {\n      setFeedback(\"nsket kan ikke vre tomt\");\n      return;\n    }\n\n    let data: OgResponseData | undefined = undefined;\n\n    if (newWish.startsWith(\"https\")) {\n      data = await getOgData(newWish);\n    }\n\n    const newWishObject: WishType = {\n      name: data?.title || newWish,\n      id: createGuid(),\n      image: data?.image || \"\",\n      deleted: false,\n      description: data?.description || \"\",\n      link: data?.url || \"\",\n      isSuggestion: false,\n    };\n\n    const newWishList = [newWishObject, ...(wishes || [])];\n\n    storeWishesToFirebase(newWishList);\n\n    user?.groups.forEach(async (group) => {\n      const groupRef = firebase.firestore().collection(\"groups\").doc(group);\n      const groupData = await groupRef.get();\n\n      const newsFeed: NewsEntryType[] = groupData.data()?.newsFeed || [];\n      newsFeed.unshift({\n        isSuggestion: false,\n        user: user.uid,\n        wish: newWish,\n        date: firebase.firestore.Timestamp.now(),\n      });\n\n      await groupRef.update({\n        newsFeed: newsFeed?.slice(0, 5) || [],\n      });\n    });\n\n    setFeedback(\"\");\n    setNewWish(\"\");\n  }\n\n  function deleteThis(deleteId: string) {\n    storeWishesToFirebase(\n      [...(wishes || [])].filter((e: WishType) => {\n        return e.id !== deleteId;\n      })\n    );\n  }\n\n  const wishToElement = (el: WishType) => {\n    return <Wish user={uid} key={el.id} delete={deleteThis} wish={el} />;\n  };\n\n  if (!user?.name) {\n    return (\n      <Suspense fallback={<Loading />}>\n        <SelectName uid={uid} firebaseUser={firebaseUser} />\n      </Suspense>\n    );\n  }\n\n  const showNoEmailDisclaimer = !firebaseUser?.email;\n\n  return (\n    <Container>\n      {(invites?.myInvites.length || 0) > 0 && (\n        <InvitePopup\n          firebaseUser={firebaseUser}\n          uid={uid}\n          invites={invites?.myInvites || []}\n        />\n      )}\n      <StyledBigHeader>Mine nsker</StyledBigHeader>\n\n      {showNoEmailDisclaimer && (\n        <StyledWarning>\n          Vi kunne ikke finne eposten din. Dette betyr at du ikke kan inviteres\n          til kohorter. Send din id til administrator slik at vedkommende kan\n          legge deg inn manuelt. Din id er: {uid}.\n        </StyledWarning>\n      )}\n\n      <StyledWrapper onSubmit={addWish}>\n        <StyledInput\n          type=\"text\"\n          placeholder=\"Legg inn nske her\"\n          value={newWish}\n          onChange={(e) => setNewWish(e.target.value)}\n        />\n        <StyledCheckIcon type=\"submit\" name=\"check\" onClick={() => null} />\n        {feedback && <div>{feedback}</div>}\n      </StyledWrapper>\n      <div>\n        {wishes?.filter((el) => !el.isSuggestion).map(wishToElement) || []}\n      </div>\n      <Spacer />\n      <Suspense fallback={<div>Laster barn</div>}>\n        {childs?.map((child) => {\n          return <YourChild key={child.uid} myUid={uid} child={child} />;\n        })}\n      </Suspense>\n      <Spacer />\n      <StyledBottomOptions>\n        <BorderButton>\n          <Link to={`/addchild`}>Legg til ekstra bruker</Link>\n        </BorderButton>\n        <BorderButton\n          style={{\n            marginLeft: \"1rem\",\n          }}\n        >\n          <Link to={`/legacy`}>Se tidligere nsker</Link>\n        </BorderButton>\n      </StyledBottomOptions>\n    </Container>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport firebase from \"../components/firebase/firebase\";\nimport { Child, Wish } from \"../types/types\";\nimport { useUser } from \"./useUser\";\n\nexport function useChilds(uid: string): Child[] | undefined {\n  const [childs, setChilds] = useState<Child[]>([]);\n  const { user } = useUser(uid);\n\n  useEffect(() => {\n    const childrenList = user?.childs || [];\n\n    const getChildData = async (childId: string): Promise<Child> => {\n      const child = await firebase\n        .firestore()\n        .collection(\"user\")\n        .doc(childId)\n        .get();\n      return {\n        uid: \"\",\n        name: \"Ukjent\",\n        parent: [],\n        groups: [],\n        isChild: true,\n        ...child.data(),\n      };\n    };\n\n    const getData = () => {\n      return Promise.all(childrenList.map((child) => getChildData(child)));\n    };\n\n    getData().then((data) => {\n      setChilds(data);\n    });\n  }, [user?.childs?.length]);\n\n  return childs;\n}\n","import styled from \"styled-components\";\n\nexport const P = styled.p`\n  margin-bottom: 1rem;\n`;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icomoon-ignore\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M640 438.4c-19.2 0-32 12.8-32 32v169.6c0 19.2-12.8 32-32 32h-448c-19.2 0-32-12.8-32-32v-448c0-19.2 12.8-32 32-32h169.6c19.2 0 32-12.8 32-32s-12.8-32-32-32h-169.6c-54.4 0-96 41.6-96 96v448c0 54.4 41.6 96 96 96h448c54.4 0 96-41.6 96-96v-169.6c0-19.2-12.8-32-32-32z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M726.4 169.6l-128-128c-12.8-12.8-32-12.8-44.8 0l-320 320c-6.4 6.4-9.6 12.8-9.6 22.4v128c0 19.2 12.8 32 32 32h128c9.6 0 16-3.2 22.4-9.6l320-320c12.8-12.8 12.8-32 0-44.8zM371.2 480h-83.2v-83.2l288-288 83.2 83.2-288 288z\"\n});\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 768,\n    height: 768,\n    viewBox: \"0 0 768 768\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.01fc8539.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\nimport { StyledInput } from \"../common/StyledInput\";\nimport styled from \"styled-components\";\nimport { Container } from \"../common/Container\";\nimport { P } from \"../common/P\";\nimport { Button } from \"../common/Button\";\nimport { ReactComponent as Edit } from \"../images/edit.svg\";\n\nconst StyledEdit = styled(Edit)`\n  height: 2rem;\n  width: 2rem;\n  fill: white;\n`;\n\ninterface DetailInput {\n  fieldName: string;\n  initialValue: string | number;\n  storeData: (\n    field: string,\n    value: string | number,\n    setEdit: (status: boolean) => void\n  ) => void;\n}\n\nconst StyledWrapper = styled.div`\n  text-align: left;\n  font-size: 1.5rem;\n`;\n\nexport const Detail: React.FC<DetailInput> = ({\n  children,\n  fieldName,\n  initialValue,\n  storeData,\n}) => {\n  const [value, setValue] = useState(initialValue);\n  const [edit, setEdit] = useState(false);\n\n  return (\n    <StyledWrapper>\n      {edit ? (\n        <StyledInput\n          value={value}\n          autoFocus\n          onBlur={() => storeData(fieldName, value, setEdit)}\n          onChange={(e) => setValue(e.target.value)}\n        />\n      ) : (\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"baseline\",\n          }}\n        >\n          <P\n            style={{\n              marginRight: \"1rem\",\n              wordBreak: \"break-all\",\n              flex: \"1\",\n            }}\n          >\n            {value && children}\n          </P>\n          <Button\n            onClick={() => setEdit(true)}\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              padding: \"1rem\",\n            }}\n          >\n            <StyledEdit />\n          </Button>\n        </div>\n      )}\n    </StyledWrapper>\n  );\n};\n","import useSWR from \"swr\";\nimport { useWishes } from \"./useWishes\";\n\nexport function useWish(user: string, wishId: string) {\n  const { wishes, isError, isLoading } = useWishes(user);\n  const wish = wishes?.find((m) => m.id === wishId);\n  return {\n    wish,\n    isLoading,\n    isError,\n  };\n}\n","import React, { useEffect } from \"react\";\nimport { Container } from \"../common/Container\";\nimport { User, Wish } from \"../../types/types\";\nimport styled from \"styled-components\";\nimport Loading from \"../common/Loading\";\nimport firebase from \"../firebase/firebase\";\nimport { Detail } from \"./Detail\";\nimport { StyledLabel } from \"../common/Label\";\nimport { useWish } from \"../../hooks/useWish\";\nimport { useParams } from \"react-router\";\nimport { useUser } from \"../../hooks/useUser\";\nimport { mutate } from \"swr\";\nimport { useWishes } from \"../../hooks/useWishes\";\nimport { ALink } from \"../common/Link\";\n\nconst StyledWrapper = styled.div`\n  text-align: left;\n  padding: 0 10px;\n`;\n\nconst StyledTitle = styled.div`\n  font-size: 24px;\n`;\n\nconst StyledDescription = styled.div`\n  font-size: 16px;\n`;\n\nconst StyledLink = styled.div`\n  font-size: 16px;\n`;\n\ninterface Params {\n  wishid: string;\n  uid: string;\n}\n\nexport function YourWishDetails() {\n  const { wishid, uid } = useParams<Params>();\n\n  const { user } = useUser(uid);\n\n  const { wishes } = useWishes(user?.uid || \"\");\n  const { wish } = useWish(user?.uid || \"?\", wishid);\n\n  async function updateWishStore(newData: Array<Wish>) {\n    await firebase\n      .firestore()\n      .collection(\"wishes\")\n      .doc(user?.uid || \"?\")\n      .set({\n        wishes: newData,\n      })\n      .then(() => {\n        mutate([\"wishes\", user?.uid]);\n      });\n  }\n\n  function storeWishDetails(updatedWish: Wish) {\n    const newWishList = wishes?.map((wish) => {\n      if (wish.id === updatedWish.id) {\n        return updatedWish;\n      }\n      return wish;\n    });\n\n    if (newWishList) {\n      updateWishStore(newWishList);\n    }\n  }\n\n  if (wish == null) {\n    return <Loading />;\n  }\n\n  const { name, description: wishDescription, link, price } = wish;\n\n  const storeData = (\n    field: string,\n    newData: string | number,\n    toggle: (hm: boolean) => void\n  ) => {\n    storeWishDetails({\n      ...wish,\n      [field]: newData,\n    });\n    toggle(false);\n  };\n\n  return (\n    <Container>\n      <StyledWrapper>\n        <StyledTitle>\n          <Detail fieldName=\"name\" storeData={storeData} initialValue={name}>\n            <p>{name}</p>\n          </Detail>\n        </StyledTitle>\n        <StyledDescription>\n          <StyledLabel>Beskrivelse</StyledLabel>\n          <Detail\n            fieldName=\"description\"\n            storeData={storeData}\n            initialValue={wishDescription}\n          >\n            <p>{wishDescription}</p>\n          </Detail>\n        </StyledDescription>\n        <StyledLink>\n          <StyledLabel>Link</StyledLabel>\n          <Detail fieldName=\"link\" storeData={storeData} initialValue={link}>\n            <ALink target=\"_blank\" href={link}>\n              {link}\n            </ALink>\n          </Detail>\n        </StyledLink>\n        <StyledLink>\n          <StyledLabel>Pris</StyledLabel>\n          <Detail\n            fieldName=\"price\"\n            storeData={storeData}\n            initialValue={price || 0}\n          >\n            <div>{price}</div>\n          </Detail>\n        </StyledLink>\n      </StyledWrapper>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { format } from \"date-fns\";\nimport { Container } from \"../common/Container\";\nimport { NewsEntryType } from \"../../types/types\";\nimport { useUser } from \"../../hooks/useUser\";\nimport { useKohort } from \"../../hooks/useKohort\";\nimport { Link } from \"../common/Link\";\nimport { StyledBigHeader, StyledSubHeader } from \"../common/StyledHeading\";\nimport { Spacer } from \"../common/Spacer\";\n\nconst StyledKohorts = styled.div`\n  border: 1px solid black;\n  border-radius: 0.5rem;\n  border-color: #fff;\n  padding: 1rem;\n`;\n\nconst StyledUl = styled.ul`\n  list-style-type: none;\n`;\n\nexport const GroupUser = ({ uid }: { uid: string }) => {\n  const { user } = useUser(uid);\n\n  return <Link to={`/other/${user?.uid}`}>{user?.name}</Link>;\n};\n\nconst NewsFeedEntry = ({\n  user: uid,\n  wish,\n  isSuggestion,\n  suggestedBy,\n  date,\n}: NewsEntryType) => {\n  const { user } = useUser(uid);\n  const { user: suggestedByUser } = useUser(suggestedBy || \"\");\n\n  return (\n    <div>\n      {isSuggestion\n        ? `${format(date.toDate(), \"dd.MM 'kl' HH:mm\")}: ${\n            suggestedByUser?.name\n          } foreslo et nske for ${user?.name}`\n        : `${format(date.toDate(), \"dd.MM 'kl' HH:mm\")}: ${\n            user?.name\n          } la inn ${wish} som nske`}\n    </div>\n  );\n};\n\nconst LatestNews = ({ newsFeed }: { newsFeed: NewsEntryType[] }) => {\n  return (\n    <div>\n      {newsFeed?.length === 0 && <div>Intet nytt under solen ...</div>}\n      {newsFeed.map((props) => (\n        <NewsFeedEntry key={`${props.date}-${props.wish || \"\"}`} {...props} />\n      ))}\n    </div>\n  );\n};\n\nexport const GroupUsers = ({\n  uid,\n  groupId,\n}: {\n  uid: string;\n  groupId: string;\n}) => {\n  const { kohort } = useKohort(groupId);\n\n  return (\n    <StyledKohorts>\n      <StyledBigHeader>\n        Kohort: <strong>{kohort?.groupName}</strong>\n      </StyledBigHeader>\n      <Spacer />\n      <StyledSubHeader>Siste nytt!</StyledSubHeader>\n      <LatestNews newsFeed={kohort?.newsFeed || []}></LatestNews>\n      <Spacer />\n      <StyledSubHeader>Brukere</StyledSubHeader>\n      <StyledUl>\n        {kohort?.members\n          .filter((member) => member !== uid)\n          .map((member) => {\n            return (\n              <li key={member}>\n                <GroupUser uid={member} />\n              </li>\n            );\n          })}\n      </StyledUl>\n    </StyledKohorts>\n  );\n};\n\ninterface Props {\n  uid: string;\n}\n\nexport const SelectWishList = function ({ uid }: Props) {\n  const { user } = useUser(uid);\n\n  return (\n    <Container textLeft>\n      {user?.groups.length === 0 && (\n        <div>\n          Du er ikke med i noen kohorter enda. Enten m du f en invitasjon fra\n          administrator i en annen kohort, eller{\" \"}\n          <Link to=\"/settings\">opprett en kokort her</Link>\n        </div>\n      )}\n\n      {user?.groups.map((group) => {\n        return <GroupUsers key={group} uid={uid} groupId={group} />;\n      })}\n    </Container>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icomoon-ignore\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M675.2 89.6c-73.6-73.6-192-73.6-265.6 0l-57.6 54.4c-12.8 12.8-12.8 32 0 44.8s32 12.8 44.8 0l54.4-54.4c51.2-48 128-48 179.2 0s51.2 131.2 3.2 179.2l-96 96c-3.2 3.2-9.6 9.6-12.8 12.8-57.6 41.6-137.6 32-179.2-25.6-9.6-12.8-32-16-44.8-6.4s-16 32-6.4 44.8c38.4 51.2 96 76.8 153.6 76.8 38.4 0 80-12.8 115.2-38.4 6.4-6.4 12.8-12.8 22.4-19.2l96-96c73.6-73.6 70.4-198.4-6.4-268.8z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M368 579.2l-54.4 54.4c-51.2 48-128 48-179.2 0s-51.2-131.2-3.2-179.2l96-96c3.2-3.2 9.6-9.6 12.8-12.8 28.8-19.2 60.8-28.8 96-25.6 35.2 6.4 64 22.4 83.2 51.2 9.6 12.8 32 16 44.8 6.4s16-32 6.4-44.8c-32-41.6-76.8-67.2-124.8-73.6-48-9.6-99.2 3.2-140.8 35.2-6.4 6.4-12.8 12.8-19.2 19.2l-96 96c-73.6 76.8-70.4 198.4 3.2 272 38.4 35.2 86.4 54.4 134.4 54.4s96-19.2 134.4-54.4l54.4-54.4c12.8-12.8 12.8-32 0-44.8s-35.2-16-48-3.2z\"\n});\n\nfunction SvgLink(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 768,\n    height: 768,\n    viewBox: \"0 0 768 768\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLink);\nexport default __webpack_public_path__ + \"static/media/link.fd914b98.svg\";\nexport { ForwardRef as ReactComponent };","// wishRef =\n\nimport useSWR from \"swr\";\nimport firebase from \"../components/firebase/firebase\";\nimport { Purchase } from \"../types/types\";\n\nconst fetcher = async (\n  purchase: \"purchase\",\n  purchaseId: string\n): Promise<Purchase | undefined> => {\n  return await new Promise((resolve) => {\n    firebase\n      .firestore()\n      .collection(\"purchase\")\n      .doc(purchaseId)\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          resolve({\n            checked: false,\n            checkedBy: undefined,\n            ...doc.data(),\n          });\n        } else {\n          resolve({\n            checked: false,\n          });\n        }\n      });\n  });\n};\n\nexport function usePurchase(purchaseId: string) {\n  const { data, error } = useSWR([\"purchase\", purchaseId], fetcher, {\n    suspense: true,\n  });\n  return {\n    purchase: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\ninterface Props {\n  active: boolean;\n}\n\nconst StyledNotificationBar = styled.div<Props>`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  border: 1px solid #000;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10;\n  background-color: rgba(180, 155, 87);\n  color: #fff;\n\n  transition: all 0.5s;\n  transform: ${(props) =>\n    props.active ? `translateY(0)` : `translateY(-50px)`};\n`;\n\nexport const StyledNotification = ({\n  text,\n  active,\n}: {\n  text: string;\n  active: boolean;\n}) => <StyledNotificationBar active={active}>{text}</StyledNotificationBar>;\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"../firebase/firebase\";\nimport Icon from \"../common/Icon\";\nimport ListRow, { LeftSection } from \"../common/ListRow\";\nimport styled from \"styled-components\";\n\nimport { Wish, Purchase } from \"../../types/types\";\nimport { ImageWrapper } from \"../common/Image\";\nimport {\n  StyledActionButtonsAnimated,\n  StyledActionButtons,\n  NeutralIconButton,\n  NegativeIconButton,\n} from \"../common/IconButton\";\nimport { ReactComponent as LinkIcon } from \"../images/link.svg\";\nimport { UnstyledLink } from \"../common/Link\";\nimport { usePurchase } from \"../../hooks/usePurchase\";\nimport { mutate } from \"swr\";\nimport { StyledNotification } from \"../common/StyledNotification\";\n\nconst StyledLinkIcon = styled(LinkIcon)`\n  fill: #fff;\n  height: 32px;\n  width: 32px;\n`;\n\nconst StyledLink = styled.a`\n  padding: 0 0.5rem;\n  transform: translateY(3px);\n`;\n\ninterface P {\n  // purchase: Purchase;\n  wishInfo: Wish;\n  user: string;\n  myUid: string;\n}\n\ninterface S {\n  image: string;\n}\n\nconst OtherWish = ({ wishInfo, user, myUid }: P) => {\n  const [feedback, setFeedback] = useState(\"\");\n  const { purchase } = usePurchase(wishInfo?.id);\n  const [confirm, setConfirm] = useState(false);\n\n  const item = purchase?.checked ? <del>{wishInfo.name}</del> : wishInfo.name;\n\n  async function handleBuyItem() {\n    const purchaseRef = firebase\n      .firestore()\n      .collection(\"purchase\")\n      .doc(wishInfo.id);\n\n    const purchaseData = await purchaseRef.get();\n\n    const isChecked = purchaseData.exists && purchaseData.data()?.checked;\n\n    await purchaseRef.set({\n      checked: isChecked ? false : true,\n      checkedBy: myUid,\n    });\n\n    if (isChecked) {\n      setFeedback(`Du solgte ${wishInfo.name}`);\n    } else {\n      setFeedback(`Du kjpte ${wishInfo.name}`);\n    }\n\n    setTimeout(() => {\n      setFeedback(\"\");\n    }, 3000);\n\n    mutate([\"purchase\", wishInfo.id]);\n  }\n\n  async function handleDeleteItem() {\n    const wishRef = firebase.firestore().collection(\"wishes\").doc(user);\n\n    const wishesData = await wishRef.get();\n\n    const existingWishes: Wish[] = wishesData.data()?.wishes;\n\n    wishRef.update({\n      wishes: existingWishes.filter((w) => w.id !== wishInfo.id),\n    });\n\n    mutate([\"wishes\", user]);\n  }\n\n  const wishSuggestedByMe = wishInfo.suggestedBy === myUid;\n\n  return (\n    <ListRow>\n      <StyledNotification active={feedback !== \"\"} text={feedback} />\n      <LeftSection>\n        <UnstyledLink\n          to={`/${wishSuggestedByMe ? \"wish\" : \"other\"}/${user}/${wishInfo.id}`}\n        >\n          {item} {wishInfo.price && `(${wishInfo.price})`}\n        </UnstyledLink>\n      </LeftSection>\n      <StyledActionButtons>\n        {wishInfo.link && (\n          <StyledLink href={wishInfo.link} target=\"_blank\">\n            <StyledLinkIcon />\n          </StyledLink>\n        )}\n\n        {confirm ? (\n          <div style={{ transform: \"translateX(8rem)\" }}>\n            <StyledActionButtonsAnimated>\n              <NeutralIconButton\n                type=\"button\"\n                name=\"x\"\n                onClick={() => setConfirm(false)}\n              />\n              <NegativeIconButton\n                type=\"button\"\n                name=\"check\"\n                onClick={handleDeleteItem}\n              />\n            </StyledActionButtonsAnimated>\n          </div>\n        ) : (\n          <div></div>\n        )}\n\n        {wishSuggestedByMe && (\n          <Icon\n            type=\"button\"\n            name={\"trash-2\"}\n            onClick={() => setConfirm(true)}\n          />\n        )}\n\n        <Icon type=\"button\" name={\"shopping-cart\"} onClick={handleBuyItem} />\n      </StyledActionButtons>\n    </ListRow>\n  );\n};\n\nexport default OtherWish;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport { Container } from \"../common/Container\";\nimport OtherWish from \"./OtherWish\";\nimport { useWishes } from \"../../hooks/useWishes\";\nimport { useParams } from \"react-router\";\nimport { useUser } from \"../../hooks/useUser\";\nimport { StyledBigHeader } from \"../common/StyledHeading\";\nimport { StyledInput } from \"../common/StyledInput\";\nimport { Spacer } from \"../common/Spacer\";\nimport { StyledCheckIcon } from \"../yours/YourWishList\";\nimport firebase from \"../firebase/firebase\";\nimport { NewsEntryType, Wish } from \"../../types/types\";\nimport { createGuid } from \"../../util/guid\";\nimport { StyledNotification } from \"../common/StyledNotification\";\nimport { mutate } from \"swr\";\nimport { getOgData, OgResponseData } from \"../../util/getOgData\";\n\ninterface Params {\n  uid: string;\n}\n\nexport const StyledWrapper = styled.form`\n  position: relative;\n  margin-bottom: 0.8rem;\n`;\n\nexport const OthersWishList = ({ myUid }: { myUid: string }) => {\n  const [feedback, setFeedback] = useState(\"\");\n  const [suggestion, setSuggestion] = useState(\"\");\n\n  const { uid } = useParams<Params>();\n  const { user } = useUser(uid);\n\n  const { wishes } = useWishes(uid);\n\n  async function handleAddSuggestion(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n\n    let data: OgResponseData | undefined = undefined;\n\n    if (suggestion.startsWith(\"https\")) {\n      data = await getOgData(suggestion);\n    }\n\n    const newWish: Wish = {\n      deleted: false,\n      description: data?.description || \"\",\n      id: createGuid(),\n      image: data?.image || \"\",\n      isSuggestion: true,\n      name: data?.title || suggestion,\n      link: data?.url || \"\",\n      suggestedBy: myUid,\n    };\n\n    const docRef = firebase.firestore().collection(\"wishes\").doc(uid);\n    const existingData = await (await docRef.get()).data()?.wishes;\n\n    docRef.update({\n      wishes: [newWish, ...existingData],\n    });\n\n    user?.groups.forEach(async (group) => {\n      const groupRef = firebase.firestore().collection(\"groups\").doc(group);\n      const groupData = await groupRef.get();\n\n      const newsFeed: NewsEntryType[] = groupData.data()?.newsFeed || [];\n      newsFeed.unshift({\n        isSuggestion: true,\n        suggestedBy: myUid,\n        user: uid,\n        date: firebase.firestore.Timestamp.now(),\n      });\n\n      await groupRef.update({\n        newsFeed: newsFeed?.slice(0, 5) || [],\n      });\n    });\n\n    setFeedback(`Lag til forslag ${suggestion}`);\n    setSuggestion(\"\");\n    mutate([\"wishes\", uid]);\n\n    setTimeout(() => {\n      setFeedback(\"\");\n    }, 3000);\n  }\n\n  const ownWishes = wishes?.filter((m) => !m.isSuggestion);\n\n  const suggestions = wishes?.filter((m) => m.isSuggestion);\n\n  return (\n    <Container>\n      <StyledNotification active={feedback !== \"\"} text={feedback} />\n      <StyledBigHeader>{`nskelisten til ${user?.name}`}</StyledBigHeader>\n      {ownWishes?.length === 0 && <p>Ingen nsker enda.</p>}\n      {ownWishes?.map((wish) => (\n        <OtherWish myUid={myUid} key={wish.id} user={uid} wishInfo={wish} />\n      ))}\n      <Spacer />\n      <StyledBigHeader>Forslag for {user?.name}</StyledBigHeader>\n      {suggestions?.map((wish) => (\n        <OtherWish myUid={myUid} key={wish.id} user={uid} wishInfo={wish} />\n      ))}\n      <Spacer />\n      <h3>Legg inn forslag til {user?.name}</h3>\n      <Spacer />\n      <StyledWrapper onSubmit={handleAddSuggestion}>\n        <StyledInput\n          type=\"text\"\n          placeholder=\"Legg inn forslag her\"\n          value={suggestion}\n          onChange={(e) => setSuggestion(e.target.value)}\n        />\n        <StyledCheckIcon type=\"submit\" name=\"check\" onClick={() => null} />\n      </StyledWrapper>\n    </Container>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { Wish, Purchase, Purchases, User } from \"../../types/types\";\nimport Loading from \"../common/Loading\";\nimport firebase from \"../firebase/firebase\";\nimport { StyledLabel } from \"../common/Label\";\nimport styled from \"styled-components\";\nimport { Container } from \"../common/Container\";\nimport { NavLink } from \"../common/Link\";\nimport { useWish } from \"../../hooks/useWish\";\nimport { useParams } from \"react-router\";\nimport { useUser } from \"../../hooks/useUser\";\nimport { usePurchase } from \"../../hooks/usePurchase\";\nimport { StyledBigHeader } from \"../common/StyledHeading\";\n\ninterface OtherWishDetailProps {\n  setWishes: (user: string, wishes: Wish[]) => void;\n  setPurchases: (user: string, purchases: Purchase[]) => void;\n  user: User;\n  match: any;\n}\n\ninterface Params {\n  uid: string;\n  wishid: string;\n}\n\nexport function OtherWishDetail() {\n  const { uid, wishid } = useParams<Params>();\n  const { user } = useUser(uid);\n  const { wish } = useWish(uid, wishid);\n  const { purchase } = usePurchase(wishid);\n\n  const { user: purchaseUser } = useUser(purchase?.checkedBy || \"\");\n\n  if (!wish) {\n    return <Loading />;\n  }\n\n  return (\n    <Container>\n      <StyledBigHeader>{wish.name}</StyledBigHeader>\n\n      {wish.description !== \"\" && (\n        <>\n          <StyledLabel>Beskrivelse</StyledLabel>\n          <div>{wish.description}</div>\n        </>\n      )}\n\n      {wish.link !== \"\" && (\n        <>\n          <StyledLabel>Link</StyledLabel>\n          <div>\n            <a href={wish.link}>Link</a>\n          </div>\n        </>\n      )}\n      {wish.price !== undefined && (\n        <>\n          <StyledLabel>Pris</StyledLabel>\n          <div>{wish.price}</div>\n        </>\n      )}\n      {purchase?.checked && <div>Dette ble kjpt av {purchaseUser?.name}</div>}\n    </Container>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icomoon-ignore\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M384 256c-70.4 0-128 57.6-128 128s57.6 128 128 128c70.4 0 128-57.6 128-128s-57.6-128-128-128zM384 448c-35.2 0-64-28.8-64-64s28.8-64 64-64c35.2 0 64 28.8 64 64s-28.8 64-64 64z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M649.6 492.8c3.2-6.4 9.6-12.8 22.4-12.8 54.4 0 96-41.6 96-96s-41.6-96-96-96h-6.4c-6.4 0-12.8-3.2-16-9.6 0-3.2 0-3.2-3.2-6.4-3.2-6.4-3.2-16 6.4-25.6 38.4-38.4 38.4-99.2 0-134.4v0c0 0 0 0 0 0-19.2-19.2-41.6-28.8-67.2-28.8 0 0 0 0 0 0-25.6 0-51.2 9.6-70.4 28.8-6.4 6.4-16 6.4-22.4 3.2-6.4 0-12.8-9.6-12.8-19.2 0-54.4-41.6-96-96-96s-96 41.6-96 96v6.4c0 6.4-3.2 12.8-9.6 16-3.2 0-3.2 0-6.4 3.2-6.4 3.2-16 0-25.6-6.4-38.4-38.4-99.2-38.4-134.4 0-38.4 38.4-38.4 99.2 3.2 137.6 6.4 6.4 6.4 16 3.2 25.6-3.2 6.4-12.8 12.8-22.4 12.8-54.4 0-96 41.6-96 96s41.6 96 96 96h6.4c9.6 0 16 6.4 19.2 12.8s3.2 16-6.4 25.6c-19.2 19.2-28.8 41.6-28.8 67.2s9.6 48 28.8 67.2c0 0 0 0 0 0 38.4 38.4 99.2 38.4 137.6-3.2 6.4-6.4 16-6.4 25.6-3.2s12.8 9.6 12.8 22.4c0 54.4 41.6 96 96 96s96-41.6 96-96v-6.4c0-9.6 6.4-16 12.8-19.2s16-3.2 25.6 6.4c38.4 38.4 99.2 38.4 134.4 0 38.4-38.4 38.4-99.2-3.2-137.6-3.2-6.4-6.4-16-3.2-22.4 0 0 0 0 0 0zM592 467.2c-12.8 32-6.4 67.2 19.2 96 6.4 6.4 9.6 12.8 9.6 22.4s-3.2 16-9.6 22.4c-6.4 6.4-12.8 9.6-22.4 9.6 0 0 0 0 0 0-9.6 0-16-3.2-25.6-12.8-25.6-25.6-60.8-32-92.8-16-32 12.8-51.2 44.8-51.2 76.8v6.4c0 19.2-12.8 32-32 32s-32-12.8-32-32c0 0 0-3.2 0-3.2 0-35.2-22.4-64-54.4-76.8-9.6-6.4-22.4-6.4-35.2-6.4-22.4 0-44.8 9.6-60.8 25.6-12.8 12.8-32 12.8-44.8 0 0 0 0 0 0 0v0c-6.4-6.4-9.6-12.8-9.6-22.4s3.2-16 12.8-25.6c25.6-25.6 32-60.8 16-92.8-12.8-32-44.8-51.2-76.8-51.2h-6.4c-19.2 0-32-12.8-32-32s12.8-32 32-32c0 0 3.2 0 3.2 0 35.2 0 64-22.4 76.8-54.4s6.4-67.2-19.2-96c-12.8-12.8-12.8-32 0-44.8s32-12.8 48 3.2c22.4 22.4 57.6 28.8 86.4 19.2 3.2 0 6.4 0 9.6-3.2 32-12.8 51.2-44.8 51.2-76.8v-6.4c0-19.2 12.8-32 32-32s32 12.8 32 35.2c0 35.2 19.2 64 51.2 76.8s67.2 6.4 96-19.2c6.4-6.4 12.8-9.6 22.4-9.6v0c9.6 0 16 3.2 22.4 9.6 0 0 0 0 0 0 12.8 12.8 12.8 32-3.2 48-22.4 22.4-28.8 57.6-19.2 86.4 0 3.2 0 6.4 3.2 9.6 12.8 32 44.8 51.2 76.8 51.2h6.4c19.2 0 32 12.8 32 32s-12.8 32-35.2 32c-32 0-64 19.2-76.8 51.2z\"\n});\n\nfunction SvgSettings(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 768,\n    height: 768,\n    viewBox: \"0 0 768 768\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSettings);\nexport default __webpack_public_path__ + \"static/media/settings.d0b1f1df.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport firebase from \"../firebase/firebase\";\nimport { APP_TITLE } from \"../../constants\";\nimport { NavLink, Link } from \"../common/Link\";\nimport { NavLink as RouterNavLink } from \"react-router-dom\";\nimport { Container } from \"../common/Container\";\nimport { ButtonNavigation } from \"../common/Button\";\nimport { useUser } from \"../../hooks/useUser\";\n\nimport { ReactComponent as SettingsIcon } from \"./settings.svg\";\n\nconst StyledHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.8rem;\n`;\n\nconst StyledSettingsIcon = styled(SettingsIcon)`\n  margin-left: 12px;\n  width: 32px;\n  height: 32px;\n  fill: #fff;\n`;\n\nfunction logOut(setFeedback: (n: string) => void, logout: () => void) {\n  firebase\n    .auth()\n    .signOut()\n    .then(\n      () => {\n        setFeedback(\"Du er n logget ut\");\n        logout();\n      },\n      (e) => {\n        console.log(e);\n        setFeedback(\"Noe gikk galt under utlogging.\");\n      }\n    );\n}\n\nconst othersActive = (_: any, location: any) =>\n  location.pathname.startsWith(\"/other\");\n\nconst yoursActive = (_: any, location: any) =>\n  location.pathname === \"/\" || location.pathname.startsWith(\"/wish\");\n\ninterface Props {\n  uid: string;\n}\n\nexport const HeaderComponent = ({ uid }: Props) => {\n  const { user } = useUser(uid);\n\n  function logout() {\n    console.log(\"TODO LOGOUT\");\n  }\n\n  const [feedback, setFeedback] = useState(\"\");\n\n  if (!user) {\n    return null;\n  }\n\n  const H1 = styled.h1`\n    color: white;\n  `;\n  const UserEmail = styled.span`\n    margin-right: 10px;\n  `;\n  const UserInfo = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin-bottom: 0.5rem;\n    padding-right: 0.5rem;\n  `;\n  const ActionButtons = styled.div`\n    display: flex;\n    width: 100%;\n  `;\n\n  const CustomNavLink = styled(NavLink)`\n    width: 50%;\n  `;\n\n  return (\n    <Container>\n      <H1>\n        <Link to=\"/\">{APP_TITLE}</Link>\n      </H1>\n      <UserInfo>\n        <UserEmail>{user?.name || \"Ukjent\"}</UserEmail>\n        <ButtonNavigation\n          type=\"button\"\n          onClick={() => logOut(setFeedback, logout)}\n        >\n          Logg ut\n        </ButtonNavigation>\n        <RouterNavLink activeClassName=\"selected\" exact to=\"/settings\">\n          <StyledSettingsIcon />\n        </RouterNavLink>\n        {feedback}\n      </UserInfo>\n      <StyledHeader>\n        <ActionButtons>\n          <CustomNavLink\n            activeClassName=\"selected\"\n            isActive={yoursActive}\n            exact\n            to=\"\"\n          >\n            Mine nsker\n          </CustomNavLink>\n          <CustomNavLink\n            activeClassName=\"selected\"\n            isActive={othersActive}\n            to=\"/others\"\n          >\n            Kohorter\n          </CustomNavLink>\n        </ActionButtons>\n      </StyledHeader>\n    </Container>\n  );\n};\n","export const APP_TITLE = 'GAVENSKE.NO';\n\n","import firebase from \"./firebase\";\n\nexport const facebookProvider = new firebase.auth.FacebookAuthProvider();\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Blue_1_\",\n  fill: \"#3C5A99\",\n  d: \"M248.082,262.307c7.854,0,14.223-6.369,14.223-14.225V18.812 c0-7.857-6.368-14.224-14.223-14.224H18.812c-7.857,0-14.224,6.367-14.224,14.224v229.27c0,7.855,6.366,14.225,14.224,14.225 H248.082z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"f\",\n  fill: \"#FFFFFF\",\n  d: \"M182.409,262.307v-99.803h33.499l5.016-38.895h-38.515V98.777c0-11.261,3.127-18.935,19.275-18.935 l20.596-0.009V45.045c-3.562-0.474-15.788-1.533-30.012-1.533c-29.695,0-50.025,18.126-50.025,51.413v28.684h-33.585v38.895h33.585 v99.803H182.409z\"\n});\n\nfunction SvgFacebookIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"266.893px\",\n    height: \"266.895px\",\n    viewBox: \"0 0 266.893 266.895\",\n    enableBackground: \"new 0 0 266.893 266.895\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFacebookIcon);\nexport default __webpack_public_path__ + \"static/media/facebook-icon.acfa9d2b.svg\";\nexport { ForwardRef as ReactComponent };","import styled, { keyframes } from 'styled-components';\n\nconst spinnerKeyframe = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst Spinner = styled.div`\n  display: flex;\n  width: 24px;\n  height: 24px;\n  justify-content: center;\n  align-items: center;\n  &::after {\n    content: \" \";\n    display: block;\n    width: 24px;\n    height: 24px;\n    transform: translateY(50%);\n    border-radius: 50%;\n    border: 3px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: ${spinnerKeyframe} 1.2s linear infinite;\n  }\n`;\n\nexport default Spinner;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport { facebookProvider, googleProvider } from \"../firebase/loginProviders\";\nimport firebase from \"../firebase/firebase\";\n\nimport { ReactComponent as FbIcon } from \"./facebook-icon.svg\";\nimport btn_google_signin_dark_normal_web from \"../images/btn_google_signin_dark_normal_web.png\";\nimport Spinner from \"../common/Spinner\";\nimport { Link } from \"../common/Link\";\nimport { BorderButton } from \"../common/Button\";\n\nconst iconHeight = \"30px\";\nconst FacebookIcon = styled(FbIcon)`\n  font-size: 1em;\n  height: ${iconHeight};\n  width: ${iconHeight};\n  margin-right: 6px;\n`;\n\nconst ButtonSpinner = styled(Spinner)`\n  margin: 0 auto;\n`;\n\nconst ThirdPartyLogin = () => {\n  const [submittingFb, setSubmittingFb] = useState(false);\n  const [submittingGoogle, setSubmittingGoogle] = useState(false);\n\n  function loginFacebook(e: React.MouseEvent<HTMLButtonElement>) {\n    e.preventDefault();\n    e.stopPropagation();\n    setSubmittingFb(true);\n    firebase.auth().signInWithRedirect(facebookProvider);\n  }\n\n  function loginGoogle(e: React.MouseEvent<HTMLButtonElement>) {\n    e.preventDefault();\n    e.stopPropagation();\n    setSubmittingGoogle(true);\n    firebase.auth().signInWithRedirect(googleProvider);\n  }\n\n  const SmButton = styled(BorderButton)`\n    display: flex;\n    align-items: center;\n    width: 100%;\n    justify-content: center;\n  `;\n\n  return (\n    <>\n      <SmButton onClick={loginFacebook}>\n        {submittingFb ? (\n          <ButtonSpinner />\n        ) : (\n          <>\n            <FacebookIcon />\n            Logg p med Facebook\n          </>\n        )}\n      </SmButton>\n      <SmButton onClick={loginGoogle}>\n        {submittingGoogle ? (\n          <ButtonSpinner />\n        ) : (\n          <img src={btn_google_signin_dark_normal_web} />\n        )}\n      </SmButton>\n      <Link to=\"/internal\">Passord/brukernavn?</Link>\n    </>\n  );\n};\n\nexport default ThirdPartyLogin;\n","export default \"data:image/png;base64,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\"","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from \"../common/Link\";\nimport colors from \"../../styles/colors\";\nimport { BorderInput } from \"../common/Button\";\nimport firebase from \"../firebase/firebase\";\nimport Icon from \"../common/Icon\";\n\nconst StyledInput = styled.input`\n  height: 2.5rem;\n  outline: none;\n  padding: 0 1rem;\n  margin-bottom: 12px;\n  border: 0;\n  -webkit-appearance: none;\n  background: ${colors.primaryDark};\n  color: white;\n  width: 100%;\n  &::placeholder {\n    color: grey;\n  }\n`;\n\nconst SubmitButton = styled(BorderInput)`\n  width: 100%;\n`;\n\nconst PasswordContainer = styled.div`\n  position: relative;\n`;\n\nconst StyledPeek = styled.button`\n  position: absolute;\n  border: 0;\n  background-color: transparent;\n  right: 15px;\n  top: -8px;\n  color: white;\n`;\n\nexport const InternalLogin = () => {\n  const [user, setUser] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [peek, setPeek] = useState(false);\n\n  function logIn(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n\n    setSubmitting(true);\n\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(user, password)\n      .catch((error: any) => {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n\n        if (errorCode) {\n          setErrorMessage(\"Klarte ikke  logge deg inn, beklager det.\");\n        }\n      });\n  }\n\n  function togglePeek() {\n    setPeek(!peek);\n  }\n\n  return (\n    <form onSubmit={logIn}>\n      <label htmlFor=\"username\" className=\"screen-reader-only\">\n        Brukernavn\n      </label>\n      <StyledInput\n        id=\"username\"\n        value={user}\n        onChange={(e) => setUser(e.target.value)}\n        placeholder=\"Brukernavn\"\n      />\n\n      <PasswordContainer>\n        <label htmlFor=\"password\" className=\"screen-reader-only\">\n          Passord\n        </label>\n        <StyledInput\n          id=\"password\"\n          type={peek ? \"text\" : \"password\"}\n          placeholder=\"Passord\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <StyledPeek type=\"button\" onClick={togglePeek}>\n          <Icon\n            type=\"button\"\n            name={peek ? \"eye-off\" : \"eye\"}\n            onClick={() => null}\n          />\n        </StyledPeek>\n      </PasswordContainer>\n\n      <SubmitButton type=\"submit\" value=\"Logg inn\" />\n      <p>{errorMessage}</p>\n      <Link to=\"/\">Google/Facebook</Link>\n    </form>\n  );\n};\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport colors from '../../styles/colors';\n\nconst StyledCircleContainer = styled.div`\nposition: relative;\nwidth: 100%;\nheight: 100%;\noverflow: hidden;\n`;\n\nfunction getRandomInt(min: number, max: number) {\n  var num = Math.floor((Math.random() * Math.floor(max)));\n  if (num < min) {\n    num += min;\n  }\n  return num;\n}\n\ninterface StyledCircleProps {\n  size: string;\n  top: string;\n  left: string;\n  scale: number;\n}\n\nconst scaleInAndOut = keyframes`\n  0% {\n    transform: scale(1) translateY(0px) translateX(50px);\n  }\n  25% {\n    transform: scale(1.2) translateY(200px) translateX(-50px)\n  }\n  50% {\n    transform: scale(1) translateY(300px) translateX(200px);\n  }\n  75% {\n    transform: scale(0.8) translateY(500px) translateX(-300px);\n  }\n`;\n\nconst StyledCircle = styled.div`\n  background-color: ${colors.primaryDark};\n  border-radius: 50%;\n  filter: opacity(.5);\n  position: absolute;\n  width: ${(props: StyledCircleProps) => props.size};\n  height: ${props => props.size};\n  top: ${props => props.top};\n  left: ${props => props.left};\n  animation: ${scaleInAndOut} ${props => props.scale}s linear infinite alternate;\n`;\n\nexport default function FloatingCircles() {\n  const circles = Array(15).fill(0).map(\n    (el, index) =>\n      <StyledCircle\n        key={index}\n        size={`${getRandomInt(50, 500)}px`}\n        top={`${getRandomInt(0, 100)}%`}\n        left={`${getRandomInt(0, 100)}%`}\n        scale={getRandomInt(5, 30)}\n        />);\n\n  return (\n    <StyledCircleContainer>\n      {circles}\n    </StyledCircleContainer>);\n}\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\n\nimport firebase from \"../firebase/firebase\";\nimport ThirdPartyLogin from \"./ThirdPartyLogin\";\nimport { InternalLogin } from \"./InternalLogin\";\nimport FloatingCircles from \"../common/FloatingCircles\";\n\nconst StyledParagraph = styled.p`\n  font-size: 3rem;\n  margin: 2rem;\n`;\n\nconst LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: white;\n  height: 100%;\n`;\n\nexport const Login = () => {\n  const [feedback, setFeedback] = useState(\"\");\n\n  useEffect(() => {\n    firebase\n      .auth()\n      .getRedirectResult()\n      .then(() => {\n        console.log(\"win?\");\n      })\n      .catch((error) => {\n        console.log(\"error. :-/\", error);\n        if (error) {\n          setFeedback(\n            `Klarte ikke  logge deg inn med facebook. Feil: ${error}`\n          );\n        }\n      });\n  }, []);\n\n  const H1 = styled.h1`\n    color: white;\n    font-weight: 400;\n    margin: 4rem 0;\n  `;\n\n  return (\n    <BrowserRouter>\n      <LoginContainer>\n        <H1>GAVENSKE.NO</H1>\n        <Switch>\n          <Route path=\"/internal\" component={InternalLogin} />\n          <Route component={ThirdPartyLogin} />\n        </Switch>\n        <StyledParagraph>{feedback}</StyledParagraph>\n        <FloatingCircles />\n      </LoginContainer>\n    </BrowserRouter>\n  );\n};\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n*,\n*::after,\n*::before {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml {\n  background-color: #262626;\n  min-height:100%;\n  font-size: 62.5%;\n}\n\nbody {\n  box-sizing: border-box;\n  margin: 0;\n  font-family: \"Exo 2\", sans-serif;\n  font-weight: 400;\n  line-height: 1.7;\n  color: white;\n  min-height:100%;\n}\n\n#root {\n  text-align: center;\n  height: 100vh;\n}\n\ninput, textarea {\n  font-family: 'Exo 2', sans-serif;\n  font-size: 1rem;\n}\n\n`;\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router\";\nimport styled from \"styled-components\";\nimport { useUser } from \"../../hooks/useUser\";\nimport { BorderButton } from \"../common/Button\";\nimport { Container } from \"../common/Container\";\nimport { StyledInput } from \"../common/StyledInput\";\nimport firebase from \"../firebase/firebase\";\nimport { mutate } from \"swr\";\nimport { Child } from \"../../types/types\";\nimport { Spacer } from \"../common/Spacer\";\nimport Loading from \"../common/Loading\";\nimport Spinner from \"../common/Spinner\";\n\nconst StyledForm = styled.form`\n  display: flex;\n  text-align: left;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  font-size: 3rem;\n`;\n\nconst StyledRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\ninterface Props {\n  uid: string;\n}\n\nexport function AddChild({ uid }: Props) {\n  const [name, setName] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [created, setCreated] = useState(false);\n  const { user } = useUser(uid);\n\n  async function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    setSubmitting(true);\n\n    const newChildDoc = firebase.firestore().collection(\"user\").doc();\n\n    const newChild: Child = {\n      name,\n      parent: [user?.uid || \"\"],\n      uid: newChildDoc.id,\n      isChild: true,\n      groups: [...(user?.groups || [])],\n    };\n\n    await newChildDoc.set(newChild);\n\n    await firebase\n      .firestore()\n      .collection(\"user\")\n      .doc(user?.uid || \"\")\n      .update({\n        childs: [...(user?.childs || []), newChildDoc.id],\n      });\n\n    user?.groups.forEach(async (group) => {\n      const groupData = await firebase\n        .firestore()\n        .collection(\"groups\")\n        .doc(group)\n        .get();\n\n      await firebase\n        .firestore()\n        .collection(\"groups\")\n        .doc(group)\n        .update({\n          members: [...(groupData.data()?.members || []), newChildDoc.id],\n        });\n    });\n\n    setCreated(true);\n    mutate([\"user\", uid]);\n  }\n\n  if (created) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <Container textLeft>\n      <h1>Legg til ekstra bruker</h1>\n      <Spacer />\n      <p>\n        Har du barn som du nsker  legge inn nsker for, eller nsker en felles\n        nskeliste for deg og din bedre halvdel? Opprett en ekstra bruker da\n        vel! Du kan dele brukeren etter opprettelse.\n      </p>\n      <Spacer />\n      <StyledForm onSubmit={handleSubmit}>\n        <StyledRow>\n          <StyledInput\n            type=\"text\"\n            placeholder=\"Navn\"\n            autoComplete={\"off\"}\n            name=\"name\"\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          />\n          {submitting ? (\n            <Spinner />\n          ) : (\n            <BorderButton type=\"submit\">OK</BorderButton>\n          )}\n        </StyledRow>\n      </StyledForm>\n    </Container>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Container } from \"../common/Container\";\nimport { StyledInput } from \"../common/StyledInput\";\nimport { StyledLabel } from \"../common/Label\";\nimport { Button } from \"../common/Button\";\nimport firebase from \"../firebase/firebase\";\nimport { useUser } from \"../../hooks/useUser\";\nimport styled from \"styled-components\";\nimport { Spacer } from \"../common/Spacer\";\nimport { Redirect } from \"react-router\";\nimport { StyledBigHeader } from \"../common/StyledHeading\";\n\ninterface Props {\n  uid: string;\n}\n\nconst StyledLabelInput = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst StyledUl = styled.ul`\n  padding-left: 20px;\n`;\n\nexport const AddKohort: React.FC<Props> = ({ uid }) => {\n  const [groupName, setGroupName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [invites, setInvites] = useState<string[]>([]);\n  const [groupCreated, setGroupCreated] = useState(false);\n\n  const { user } = useUser(uid);\n\n  async function handleAddGroup() {\n    const db = firebase.firestore();\n\n    const docRef = await db.collection(\"groups\").add({\n      invites,\n      admin: user?.uid,\n      groupName,\n      members: [user?.uid, ...(user?.childs || [])],\n    });\n\n    await docRef.update({\n      id: docRef.id,\n    });\n\n    // Add current user to kohort\n    await db\n      .collection(\"user\")\n      .doc(user?.uid)\n      .update({\n        groups: [...(user?.groups || []), docRef.id],\n      });\n\n    // Add current users children to kohort as default\n    user?.childs?.forEach(async (child) => {\n      const childData = await db.collection(\"user\").doc(child).get();\n\n      await db\n        .collection(\"user\")\n        .doc(child)\n        .update({\n          groups: [...(childData.data()?.groups || []), docRef.id],\n        });\n    });\n\n    // Add all invites to invites collection\n    invites.forEach(async (invite) => {\n      const doc = db.collection(\"invites\").doc(invite);\n      var docDetails = await doc.get();\n\n      doc.set({\n        myInvites: [...(docDetails.data()?.myInvites || []), docRef.id],\n      });\n    });\n\n    setGroupCreated(true);\n  }\n\n  if (groupCreated) {\n    return <Redirect to=\"/others?groupCreated=true\" />;\n  }\n\n  return (\n    <Container textLeft>\n      <StyledBigHeader>Opprett kohort</StyledBigHeader>\n      <StyledLabel>Navn p kohort</StyledLabel>\n      <StyledInput\n        autoComplete=\"off\"\n        id=\"groupName\"\n        value={groupName}\n        onChange={(e) => setGroupName(e.target.value)}\n      ></StyledInput>\n      <Spacer />\n      <h2>Legg til kohortmedlem</h2>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          setEmail(\"\");\n          setInvites([email.toLowerCase(), ...invites]);\n        }}\n      >\n        <StyledLabel htmlFor=\"email\">Epost</StyledLabel>\n        <StyledLabelInput>\n          <StyledInput\n            autoComplete=\"off\"\n            id=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          ></StyledInput>\n          <Button type=\"submit\">Legg til</Button>\n        </StyledLabelInput>\n      </form>\n      <Spacer />\n      <div>Inviterte brukere:</div>\n\n      {invites.length > 0 ? (\n        <StyledUl>\n          {invites.map((email: string) => {\n            return <li key={email}>{email}</li>;\n          })}\n        </StyledUl>\n      ) : (\n        <div>Ingen brukere lagt til</div>\n      )}\n      <Spacer />\n      <Button onClick={handleAddGroup}>Lagre gruppe</Button>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Container } from \"./common/Container\";\n\nimport { BorderButton, Button } from \"./common/Button\";\nimport { Link } from \"./common/Link\";\nimport { Spacer } from \"./common/Spacer\";\nimport { useKohort } from \"../hooks/useKohort\";\nimport { useUser } from \"../hooks/useUser\";\nimport { StyledBigHeader, StyledSubHeader } from \"./common/StyledHeading\";\n\nconst ChildSetting = ({ childUid }: { childUid: string }) => {\n  const { user } = useUser(childUid);\n\n  return (\n    <Link\n      style={{\n        marginRight: \"1rem\",\n      }}\n      to={`/settings/child/${user?.uid || \"\"}`}\n    >\n      <StyledSubHeader>{user?.name}</StyledSubHeader>\n    </Link>\n  );\n};\n\nconst GroupSetting = ({\n  myUid,\n  group: groupId,\n}: {\n  myUid: string;\n  group: string;\n}) => {\n  const { kohort } = useKohort(groupId);\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"space-between\",\n      }}\n    >\n      <StyledSubHeader>{kohort?.groupName}</StyledSubHeader>\n      <Spacer />\n      {kohort?.admin === myUid && (\n        <Link to={`/settings/kohort/${kohort.id}`}>Administrer gruppe</Link>\n      )}\n      <Spacer />\n      <Button>Forlate gruppen?</Button>\n    </div>\n  );\n};\n\ninterface Props {\n  uid: string;\n}\n\nexport const Settings = ({ uid }: Props) => {\n  const { user } = useUser(uid);\n\n  return (\n    <Container textLeft>\n      <h1>Innstillinger</h1>\n      <Spacer />\n      <BorderButton>\n        <Link to={`/addgroup`}>Opprett ny kohort</Link>\n      </BorderButton>\n      <StyledBigHeader>Administrer kohorter</StyledBigHeader>\n      {user?.groups.map((group) => (\n        <React.Fragment key={group}>\n          <GroupSetting myUid={uid} group={group} />\n          <Spacer />\n        </React.Fragment>\n      ))}\n      <StyledBigHeader>Administrer brukere</StyledBigHeader>\n      <div\n        style={{\n          display: \"flex\",\n        }}\n      >\n        {user?.childs?.map((childUid) => (\n          <ChildSetting childUid={childUid} />\n        ))}\n      </div>\n    </Container>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Container } from \"./common/Container\";\nimport firebase from \"./firebase/firebase\";\n\nexport const LegacyWishes = ({ uid }: { uid: string }) => {\n  const [wishes, setWishes] = useState<string[]>();\n\n  useEffect(() => {\n    firebase\n      .database()\n      .ref(\"/wishes/\" + uid)\n      .once(\"value\")\n      .then(function (snapshot) {\n        var wishes = snapshot.val() && snapshot.val().wishes;\n        setWishes(wishes.map((el: any) => el.name));\n      });\n  }, [uid]);\n  return (\n    <Container textLeft>\n      <h1>nsker fra gamledager</h1>\n      <ul>\n        {wishes?.map((wish, index) => (\n          <li key={index}>{wish}</li>\n        ))}\n      </ul>\n    </Container>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const StyledLabelInputPair = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n","import React, { useState } from \"react\";\nimport { Container } from \"./common/Container\";\n\nimport { BorderButton, Button } from \"./common/Button\";\nimport { Link } from \"./common/Link\";\nimport { Spacer } from \"./common/Spacer\";\nimport { useKohort } from \"../hooks/useKohort\";\nimport { useUser } from \"../hooks/useUser\";\nimport { Kohort } from \"../types/types\";\nimport { StyledBigHeader } from \"./common/StyledHeading\";\nimport { StyledLabel } from \"./common/Label\";\nimport { StyledInput } from \"./common/StyledInput\";\nimport { StyledLabelInputPair } from \"./common/StyledLabelInputPair\";\nimport firebase from \"./firebase/firebase\";\nimport { mutate } from \"swr\";\nimport { useParams } from \"react-router\";\n\nexport const GroupAdmin = ({ myUid }: { myUid: string }) => {\n  const [newInvite, setNewInvite] = useState(\"\");\n  const [newUid, setNewUid] = useState(\"\");\n  const { kohortId } = useParams<{ kohortId: string }>();\n  const { kohort } = useKohort(kohortId);\n\n  if (kohort?.admin !== myUid) return null;\n\n  function emailIsValid(email: string) {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n  }\n\n  async function handleAddUid(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    await firebase\n      .firestore()\n      .collection(\"groups\")\n      .doc(kohort?.id)\n      .update({\n        members: [...(kohort?.members || []), newUid],\n      });\n\n    // TODO notification\n\n    setNewUid(\"\");\n  }\n\n  async function handleAddEmail(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    const inviteRef = firebase.firestore().collection(\"invites\").doc(newInvite);\n\n    const inviteData = await inviteRef.get();\n    const set = new Set(inviteData.data()?.myInvites);\n    set.add(kohort?.id);\n\n    await inviteRef.set({\n      myInvites: Array.from(set),\n    });\n\n    await firebase\n      .firestore()\n      .collection(\"groups\")\n      .doc(kohort?.id)\n      .update({\n        invites: [...(kohort?.invites || []), newInvite],\n      });\n\n    setNewInvite(\"\");\n    mutate([\"groups\", kohort?.id]);\n  }\n\n  return (\n    <Container textLeft>\n      <StyledBigHeader>Administrer kohort {kohort.groupName}</StyledBigHeader>\n      <h3>Invitasjoner</h3>\n      {kohort.invites.map((invite) => {\n        return <div>{invite}</div>;\n      })}\n      <Spacer />\n      <h3>Legg til ny invitasjon</h3>\n      <form onSubmit={handleAddEmail}>\n        <StyledLabelInputPair>\n          <StyledInput\n            autoComplete=\"off\"\n            id=\"email\"\n            value={newInvite}\n            onChange={(e) => setNewInvite(e.target.value)}\n          ></StyledInput>\n          <Button disabled={!emailIsValid(newInvite)} type=\"submit\">\n            Legg til\n          </Button>\n        </StyledLabelInputPair>\n      </form>\n      <Spacer />\n      <h3>Legg til bruker med ID</h3>\n      <form onSubmit={handleAddUid}>\n        <StyledLabel htmlFor=\"email\">Bruker-ID</StyledLabel>\n        <StyledLabelInputPair>\n          <StyledInput\n            autoComplete=\"off\"\n            id=\"uid\"\n            value={newUid}\n            onChange={(e) => setNewUid(e.target.value)}\n          ></StyledInput>\n          <Button disabled={newUid === \"\"} type=\"submit\">\n            Legg til\n          </Button>\n        </StyledLabelInputPair>\n      </form>\n      <Spacer />\n      <Link to=\"/settings\">Tilbake til innstillinger</Link>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Container } from \"./common/Container\";\nimport { StyledBigHeader } from \"./common/StyledHeading\";\n\nexport const PrivacyPolicy = () => {\n  return (\n    <Container textLeft>\n      <StyledBigHeader>Personvern</StyledBigHeader>\n      <p>\n        Vi tar personvern p alvor, og samler kun inn flgende data, for \n        muliggjre invitasjoner i tjenesten: Epost.\n      </p>\n      <p>\n        Tjenesten bruker tjenester fra Google sin firebase-skytjeneste, det\n        betyr at data om brukere, nsker, kommentarer og annen informasjon\n        ligger lagret der, og flger Google sine personvernavtale som du finner\n        under.\n      </p>\n      Private policy for bruk av Google sine firebase-tjenester:{\" \"}\n      <a href=\"https://firebase.google.com/support/privacy\">firebase</a>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Container } from \"./common/Container\";\nimport { StyledBigHeader } from \"./common/StyledHeading\";\n\nexport const TermsOfService = () => {\n  return (\n    <Container textLeft>\n      <StyledBigHeader>Terms of Service/Vilkr for bruk</StyledBigHeader>\n      <p>Bruk som du vil! Men ikke gjr noe dumt.</p>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Button } from \"./common/Button\";\nimport { Container } from \"./common/Container\";\nimport { StyledBigHeader } from \"./common/StyledHeading\";\n\nexport const DeleteMe = () => {\n  function handleDelete() {\n    alert(\n      \"Erhm, denne funksjonen finnes egentlig, men send en melding til @saiboten p twitter, s kan jeg fikse!\"\n    );\n  }\n\n  return (\n    <Container textLeft>\n      <StyledBigHeader>Slett meg</StyledBigHeader>\n      <p>\n        I flge Europas Personvernforordningen GDPR har du krav p  f dine\n        personlige data slettet. Dersom du nsker dette, trykk bekreft under.\n      </p>\n      <p>Da vil din bruker slettes for alltid.</p>\n      <p>\n        PS: Det er ingen vei tilbake, s vr sikker p at dette er noe du\n        nsker.\n      </p>\n      <Button onClick={handleDelete}>Slett</Button>\n    </Container>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport { useKohorts } from \"../hooks/useKohorts\";\nimport { useUser } from \"../hooks/useUser\";\nimport { Kohort } from \"../types/types\";\nimport { Container } from \"./common/Container\";\nimport { StyledBigHeader } from \"./common/StyledHeading\";\n\ninterface KohortMemberProps {\n  uid: string;\n  childId: string;\n}\n\nconst KohortMember = ({ childId, uid }: KohortMemberProps) => {\n  const { user } = useUser(uid);\n\n  function handleUserClick() {}\n\n  const isParent = user?.childs?.includes(childId);\n\n  return (\n    <div>\n      {user?.name} {isParent && <span>Forelder!!</span>}\n    </div>\n  );\n};\n\ninterface Props {\n  myUid: string;\n}\n\nexport const ChildAdmin = ({ myUid }: Props) => {\n  const { childId } = useParams<{ childId: string }>();\n  const { user } = useUser(childId);\n  const kohortData = useKohorts(myUid);\n\n  const allusers = kohortData?.reduce(\n    (sum: string[], next: Kohort): string[] => {\n      next.members.forEach((m) => {\n        sum.push(m);\n      });\n\n      return sum;\n    },\n    []\n  );\n\n  const userSet = new Set<string>();\n  allusers?.forEach((m) => userSet.add(m));\n  const filteredUserList = Array.from(userSet)\n    .filter((m) => m !== childId)\n    .filter((m) => m !== myUid);\n\n  return (\n    <Container>\n      <StyledBigHeader>{user?.name}</StyledBigHeader>\n      {filteredUserList?.map((user) => (\n        <KohortMember uid={user} childId={childId} />\n      ))}\n    </Container>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport firebase from \"../components/firebase/firebase\";\nimport { Kohort } from \"../types/types\";\nimport { useUser } from \"./useUser\";\n\nexport function useKohorts(uid: string): Kohort[] | undefined {\n  const [groups, setGroups] = useState<Kohort[]>([]);\n  const { user } = useUser(uid);\n\n  useEffect(() => {\n    const groups = user?.groups || [];\n\n    const getGroupData = async (groupId: string): Promise<Kohort> => {\n      const group = await firebase\n        .firestore()\n        .collection(\"groups\")\n        .doc(groupId)\n        .get();\n      return {\n        admin: \"\",\n        groupName: \"\",\n        id: \"\",\n        invites: [],\n        members: [],\n        ...group.data(),\n      };\n    };\n\n    const getData = () => {\n      return Promise.all(groups.map((groupId) => getGroupData(groupId)));\n    };\n\n    getData().then((data) => {\n      setGroups(data);\n    });\n  }, [user?.groups?.length]);\n\n  return groups;\n}\n","import * as React from \"react\";\nimport { useLocation } from \"react-router\";\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n","import React, { useEffect, useState, Suspense } from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\n\nimport { YourWishList } from \"./components/yours/YourWishList\";\nimport { YourWishDetails } from \"./components/yours/YourWishDetails\";\n\nimport { SelectWishList } from \"./components/selectwishlist/SelectWishList\";\nimport { OthersWishList } from \"./components/others/OthersWishList\";\nimport { OtherWishDetail } from \"./components/others/OtherWishDetail\";\nimport { HeaderComponent } from \"./components/header/Header\";\nimport { Login } from \"./components/login/Login\";\nimport Loading from \"./components/common/Loading\";\nimport { GlobalStyle } from \"./GlobalStyles\";\nimport { AddChild } from \"./components/childs/AddChild\";\nimport { AddKohort } from \"./components/group/AddKohort\";\nimport firebase from \"./components/firebase/firebase\";\nimport { Settings } from \"./components/Settings\";\nimport { LegacyWishes } from \"./components/LegacyWishes\";\nimport { GroupAdmin } from \"./components/GroupAdmin\";\nimport { PrivacyPolicy } from \"./components/PrivacyPolicy\";\nimport { TermsOfService } from \"./components/TermsOfService\";\nimport { DeleteMe } from \"./components/DeleteMe\";\nimport { ChildAdmin } from \"./components/ChildAdmin\";\nimport ScrollToTop from \"./components/ScrollToTop\";\n\nconst App = () => {\n  const [uid, setUid] = useState<string | undefined>();\n  const [firebaseUser, setFirebaseUser] = useState<firebase.User | undefined>();\n  const [uidResolved, setUidResolved] = useState(false);\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user != null) {\n        setUid(user.uid);\n        setFirebaseUser(user);\n      } else {\n        setUid(\"\");\n        setFirebaseUser(undefined);\n      }\n      setUidResolved(true);\n    });\n  }, []);\n\n  if (!uidResolved) {\n    return <Loading />;\n  }\n\n  if (!uid) {\n    return (\n      <>\n        <GlobalStyle />\n        <Login />\n      </>\n    );\n  }\n\n  return (\n    <HashRouter>\n      <ScrollToTop />\n      <Suspense fallback={<Loading />}>\n        <GlobalStyle />\n        <HeaderComponent uid={uid} />\n        <Switch>\n          <Route path=\"/wish/:uid/:wishid\" exact>\n            <YourWishDetails />\n          </Route>\n          <Route path=\"/others\">\n            <SelectWishList uid={uid} />\n          </Route>\n          <Route path=\"/other/:uid/:wishid\">\n            <OtherWishDetail />\n          </Route>\n          <Route path=\"/other/:uid\">\n            <OthersWishList myUid={uid} />\n          </Route>\n          <Route path=\"/addchild\">\n            <AddChild uid={uid} />\n          </Route>\n          <Route path=\"/settings/kohort/:kohortId\">\n            <GroupAdmin myUid={uid} />\n          </Route>\n          <Route path=\"/settings/child/:childId\">\n            <ChildAdmin myUid={uid} />\n          </Route>\n          <Route path=\"/settings\">\n            <Settings uid={uid} />\n          </Route>\n          <Route path=\"/addgroup\">\n            <AddKohort uid={uid} />\n          </Route>\n          <Route path=\"/privacypolicy\">\n            <PrivacyPolicy />\n          </Route>\n          <Route path=\"/tos\">\n            <TermsOfService />\n          </Route>\n          <Route path=\"/deleteme\">\n            <DeleteMe />\n          </Route>\n          <Route path=\"/legacy\">\n            <LegacyWishes uid={uid} />\n          </Route>\n          <Route path=\"/\">\n            <YourWishList firebaseUser={firebaseUser} uid={uid} />\n          </Route>\n        </Switch>\n      </Suspense>\n    </HashRouter>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}