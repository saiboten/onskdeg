(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},111:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(33),c=n.n(i),s=(n(68),n(70),n(119)),o=n(117),u=n(118),l=n(109),d=n(19),h=n(13),f=n(14),b=n(17),m=n(15),p=n(16),v=n(3),g=n(5),O=n(6);function k(){var e=Object(g.a)(["\n  margin: 10px auto;\n  border: 1px solid black;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: white;\n  max-width: 900px;\n"]);return k=function(){return e},e}var w=O.a.div(k()),j=n(55),E=n.n(j),x=n(44),y=n.n(x);y.a.initializeApp({apiKey:"AIzaSyDRCFzLXgaM36t-0Vnhp2XbbQJrUjDmQAw",authDomain:"onskdeg.firebaseapp.com",databaseURL:"https://onskdeg.firebaseio.com",storageBucket:"onskdeg.appspot.com",messagingSenderId:"776764935060"});var S=y.a,_=n(61);n(80);function D(e){var t=e.name,n=e.type,a=e.onClick,i=Object(_.a)(e,["name","type","onClick"]);return r.a.createElement("button",Object.assign({type:n,className:"icon",onClick:a},i),r.a.createElement("svg",{className:"icon__icon"},r.a.createElement("use",{xlinkHref:"/svg/sprite.svg#icon-".concat(t)})))}function F(){var e=Object(g.a)(["\n  display: flex;\n  margin: 1rem;\n"]);return F=function(){return e},e}function N(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n"]);return N=function(){return e},e}var W=S.storage().ref(),I=n(22)("Wish");n(84);var U=O.a.div(N()),C=O.a.div(F()),R=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).state={edit:!1,text:e.wish.name,confirm:!1,image:""},n.click=n.click.bind(Object(v.a)(Object(v.a)(n))),n.focusLost=n.focusLost.bind(Object(v.a)(Object(v.a)(n))),n.updateText=n.updateText.bind(Object(v.a)(Object(v.a)(n))),n.deleteItem=n.deleteItem.bind(Object(v.a)(Object(v.a)(n))),n.cancel=n.cancel.bind(Object(v.a)(Object(v.a)(n))),n.deleteConfirmed=n.deleteConfirmed.bind(Object(v.a)(Object(v.a)(n))),n.onDrop=n.onDrop.bind(Object(v.a)(Object(v.a)(n))),I("props: ",e),e.wish.image&&W.child(e.wish.image).getDownloadURL().then(function(e){I("url: ",e),n.setState({image:e})}),n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({text:e.wish.name,confirm:e.wish.confirm})}},{key:"componentDidUpdate",value:function(){this.input&&this.input.focus()}},{key:"onDrop",value:function(e,t){var n=this;I("Looks like I dropped something",e,t);var a=this.props,r=a.wish,i=a.addImage,c="".concat(r.id,".").concat(e[0].name.split(".")[1]);W.child(c).put(e[0]).on("state_changed",function(){},function(){I("Error. Wups.")},function(){I("Success!"),W.child(c).getDownloadURL().then(function(e){I("url: ",e),n.setState({image:e})}),i(r,c)})}},{key:"updateText",value:function(e){this.setState({text:e.target.value})}},{key:"deleteItem",value:function(){this.setState({confirm:!0})}},{key:"cancel",value:function(){this.setState({confirm:!1})}},{key:"deleteConfirmed",value:function(){var e=this.props;(0,e.delete)(e.wish.id)}},{key:"focusLost",value:function(){var e=this.props,t=e.update,n=e.wish,a=this.state.text;this.setState({edit:!1}),t({name:a,id:n.id,checkedby:n.checkedby,checked:n.checked,image:n.image})}},{key:"click",value:function(){this.setState({edit:!0})}},{key:"render",value:function(){var e=this,t=this.props.wish,n=this.state,a=n.confirm,i=n.image,c=n.edit,s=n.text,o=t.image?r.a.createElement("img",{className:"wish__image",alt:"Awesome",src:i}):"",u=a?r.a.createElement(U,null,r.a.createElement(D,{type:"button",name:"x",onClick:this.cancel}),r.a.createElement(D,{type:"button",name:"check",onClick:this.deleteConfirmed})):r.a.createElement(U,null,r.a.createElement(D,{type:"button",name:"trash-2",onClick:this.deleteItem}),r.a.createElement(E.a,{className:"wish__wish-dropzone",onDrop:this.onDrop},r.a.createElement(D,{type:"button",name:"upload",onClick:function(){return null}}))),l=c?r.a.createElement("textarea",{className:"wish__wish-text wish__wish-text--active",ref:function(t){e.input=t},onBlur:this.focusLost,onChange:this.updateText,value:s}):r.a.createElement("textarea",{onClick:this.click,className:"wish__wish-text",defaultValue:s});return r.a.createElement("div",{className:"wish__one-wish"},r.a.createElement(C,null,l,u),o)}}]),t}(r.a.Component),L=n(18),T=function(e,t){return{type:"STORE_WISHES_TO_FIREBASE",uid:e,wishes:t}},A=function(e){return Object(L.a)({type:"SET_USER_WISHES"},e)},M=n(22)("YourWishList");n(86);var P=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).state={newWish:"",feedback:""},n.addWish=n.addWish.bind(Object(v.a)(Object(v.a)(n))),n.updateWishState=n.updateWishState.bind(Object(v.a)(Object(v.a)(n))),n.update=n.update.bind(Object(v.a)(Object(v.a)(n))),n.deleteThis=n.deleteThis.bind(Object(v.a)(Object(v.a)(n))),n.addImage=n.addImage.bind(Object(v.a)(Object(v.a)(n))),n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){M("componentDidMount");var e=this.props,t=e.user,n=e.updateWishStore;this.firebaseRef=S.database().ref("wishes/".concat(t.uid,"/wishes")),this.firebaseRef.on("value",function(e){n(e.val())})}},{key:"componentWillUnmount",value:function(){this.firebaseRef.off()}},{key:"createGuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}},{key:"updateWishState",value:function(e){this.setState({newWish:e.target.value})}},{key:"addWish",value:function(e){var t=this.props,n=(t.user,t.wishes),a=t.storeWishesToFirebase,r=this.state.newWish;if(e.preventDefault(),""!==r){M("Adding wish");var i=Object.assign([],n);i.unshift({name:r,checked:!1,checkedby:"",id:this.createGuid(),image:""}),a(i),this.setState({newWish:"",feedback:""})}else this.setState({feedback:"\xd8nsket kan ikke v\xe6re tomt"})}},{key:"update",value:function(e){M("Saving wishlist: ",e);var t=this.props,n=(t.user,t.wishes);(0,t.storeWishesToFirebase)(n.map(function(t){return t.id===e.id?{name:e.name,checked:e.checked,checkedby:e.checkedby?e.checkedby:"",id:e.id,image:e.image?e.image:""}:t}))}},{key:"addImage",value:function(e,t){M("Adding image to wish: ",e,t);var n=this.props,a=(n.user,n.wishes);(0,n.storeWishesToFirebase)(a.map(function(n){return n.id===e.id?{name:e.name,checked:e.checked,checkedby:e.checkedby?e.checkedby:"",id:e.id,image:t}:n}))}},{key:"deleteThis",value:function(e){M("Delete id: ",e);var t=this.props,n=(t.user,t.wishes),a=t.storeWishesToFirebase,r=Object.assign([],n),i=r.filter(function(t){return M(t.id),t.id!==e});M("Wish list after deletion: ",r),a(i)}},{key:"render",value:function(){var e=this;M("This.props. ",this.props);var t=this.props.wishes,n=this.state,a=n.newWish,i=n.feedback,c=t.map(function(t){return M("Creating wish based on this el: ",t),r.a.createElement(R,{key:t.id,update:e.update,delete:e.deleteThis,addImage:e.addImage,wish:t})});return M("Wishes: ",c),r.a.createElement(w,null,r.a.createElement("div",{className:"flex-row space-between"},r.a.createElement("h1",null,"Din \xf8nskeliste")),r.a.createElement("form",{onSubmit:this.addWish},r.a.createElement("div",{className:"your-wishlist_add-wish-wrapper"},r.a.createElement("textarea",{placeholder:"Legg inn nye \xf8nsker her",className:"your-wishlist_add-wish-textarea",value:a,onChange:this.updateWishState}),r.a.createElement(D,{type:"submit",name:"check",onClick:function(){return null}}),r.a.createElement("div",null,i))),r.a.createElement("div",{className:"your-wishlist__wishlist"},c))}}]),t}(r.a.Component),H=Object(d.b)(function(e){var t=e.wish,n=e.user;return M("User wishes",t[n.uid]),{wishes:t[n.uid]?t[n.uid]:[],user:n}},function(e){return{updateWishStore:function(t){e({type:"SET_OWN_WISHES",wishes:t})},storeWishesToFirebase:function(t){e({type:"STORE_OWN_WISHES_TO_FIREBASE",wishes:t})}}})(P),B=n(90);n(88);var z=function(e){var t=e.el,n=e.deleteMe;return r.a.createElement("div",{className:"added-user-link__wrapper flex-row space-between"},r.a.createElement(B.a,{className:"added-user-link__link button smallspace",to:"/other/".concat(t.uid)},t.name),r.a.createElement("button",{type:"button",className:"added-user-link__delete smallspace button",onClick:function(){return n(t.email)}},"Slett"))},V=n(46);function G(){var e=Object(g.a)(["\n  display: inline-block;\n  position: relative;\n  width: 64px;\n  height: 64px;\n  div {\n    display: inline-block;\n    position: absolute;\n    left: 6px;\n    width: 13px;\n    background: #fff;\n    animation: "," 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\n  }\n  div:nth-child(1) {\n    left: 6px;\n    animation-delay: -0.24s;\n  }\n  div:nth-child(2) {\n    left: 26px;\n    animation-delay: -0.12s;\n  }\n  div:nth-child(3) {\n    left: 45px;\n    animation-delay: 0;\n  }\n"]);return G=function(){return e},e}function K(){var e=Object(g.a)(["\n  0% {\n    top: 6px;\n    height: 51px;\n  }\n  50%, 100% {\n    top: 19px;\n    height: 26px;\n  }\n"]);return K=function(){return e},e}var X=Object(O.b)(K()),J=O.a.div(G(),X),Q=function(){return r.a.createElement(J,null,r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))};function Y(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 2rem;\n  border-bottom: 1px solid black;\n"]);return Y=function(){return e},e}var q=n(22)("OthersWishListSelection");n(91);var Z,$=O.a.div(Y()),ee=function(e){function t(e){var n;Object(h.a)(this,t),n=Object(b.a)(this,Object(m.a)(t).call(this,e));e.friends;return n.state={newUser:"",feedback:""},n.updateUserState=n.updateUserState.bind(Object(v.a)(Object(v.a)(n))),n.addUserClickEvent=n.addUserClickEvent.bind(Object(v.a)(Object(v.a)(n))),n.deleteUser=n.deleteUser.bind(Object(v.a)(Object(v.a)(n))),n.addUser=n.addUser.bind(Object(v.a)(Object(v.a)(n))),n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.user,n=e.updateFriendStore,a=t.uid;this.firebaseRef=S.database().ref("users/".concat(a,"/users")),this.firebaseRef.on("value",function(e){n(e.val())})}},{key:"componentWillUnmount",value:function(){this.firebaseRef.off()}},{key:"updateUserState",value:function(e){q("updateUserState"),this.setState({newUser:e.target.value})}},{key:"addUserClickEvent",value:function(e){q("addUserClickEvent",e);var t=this.state.newUser;e.preventDefault(),this.addUser(t),this.setState({newUser:""})}},{key:"addUser",value:function(e){(0,this.props.addFriend)(e)}},{key:"deleteUser",value:function(e){(0,this.props.deleteFriend)(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.newUser,a=t.feedback,i=this.props,c=i.friends,s=(i.newFriend,i.userNotFound),o=c.map(function(t){return r.a.createElement(z,{key:t.uid,deleteMe:e.deleteUser,el:t})});return r.a.createElement(w,null,r.a.createElement($,null,r.a.createElement("h1",null,"Se \xf8nskeliste til")),r.a.createElement("div",{className:"wishlist-selection__added-users-container"},o),r.a.createElement("form",{onSubmit:this.addUserClickEvent},r.a.createElement("p",null,"Legg til (legg inn epost)"),r.a.createElement("input",{value:n,onChange:this.updateUserState}),r.a.createElement("input",{className:"button button--padded",type:"submit",value:"OK"})),s&&r.a.createElement("p",null,"Fant ikke bruker"),r.a.createElement("p",null,a))}}]),t}(r.a.Component),te=(Z=function(e){var t=e.loaded,n=e.loading,a=e.load;return t||n||a(),!t},Object(V.a)(Z,Object(V.b)(Q)))(ee),ne=Object(d.b)(function(e){var t=e.user,n=e.friends,a=n.friends,r=n.loaded,i=n.loading;return{newFriend:n.newFriend,userNotFound:n.userNotFound,user:t,friends:a,loaded:r,loading:i}},function(e){return{load:function(){return e({type:"LOAD_FRIENDS"})},deleteFriend:function(t){e(function(e){return{type:"DELETE_FRIEND",email:e}}(t))},updateFriendStore:function(t){e(function(e){return{type:"SET_FRIENDS",newFriendList:e}}(t))},addFriend:function(t){e(function(e){return{type:"ADD_FRIEND",newFriendMail:e}}(t))}}})(te),ae=n(56),re=n.n(ae),ie=(n(100),S.storage().ref()),ce=n(22)("OtherWish"),se=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).state={image:""},e.wishInfo.image&&ie.child(e.wishInfo.image).getDownloadURL().then(function(e){ce("url: ",e),n.setState({image:e})}),n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.wishInfo,n=e.canDelete,a=e.deleteSuggestion,i=e.onClick,c=this.state.image,s=t.image?r.a.createElement("img",{className:"other-wish__image",alt:"Awesome",src:c}):"",o=t.checked?r.a.createElement("del",null,t.name):t.name,u=r.a.createElement(re.a,{className:"other-wish__linkify"},o),l=t.checked?r.a.createElement("div",{className:"smallspace"},"Tatt"):"",d=n?r.a.createElement("button",{type:"button",className:"button other-wish__button_delete-suggestion",onClick:a},"Slett"):"";return r.a.createElement("div",{className:"flex-column border"},r.a.createElement("div",{className:"flex-row other-wish__upper-half"},r.a.createElement("div",{className:"flex-column smallspace other-wish__wish-text"},u,s),r.a.createElement("div",{className:"other-wish__buy-or-sell-wrapper"},r.a.createElement(D,{type:"button",name:(t.checked,"shopping-cart"),onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return i(t.id)})}),d)),r.a.createElement("div",{className:"flex-column"},l))}}]),t}(r.a.Component);function oe(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return oe=function(){return e},e}var ue=O.a.div(oe()),le=n(22)("OthersWishList"),de=function(e){function t(e){var n;return Object(h.a)(this,t),n=Object(b.a)(this,Object(m.a)(t).call(this,e)),le("constructor"),n.state={hideSelected:!0,userState:"",feedback:""},n.check=n.check.bind(Object(v.a)(Object(v.a)(n))),n.toggleShowSelected=n.toggleShowSelected.bind(Object(v.a)(Object(v.a)(n))),n.shouldDisplayWish=n.shouldDisplayWish.bind(Object(v.a)(Object(v.a)(n))),n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){le("componentDidMount");var e=this.props,t=e.match.params.name,n=e.setWishes;this.firebaseRef=S.database().ref("wishes/".concat(t,"/wishes")),this.firebaseRef.on("value",function(e){n(t,e&&e.val())})}},{key:"componentWillUnmount",value:function(){this.firebaseRef&&this.firebaseRef.off()}},{key:"check",value:function(e){le("check",e);var t=this.props,n=t.user,a=t.match.params.name,r=this.props,i=r.wishes,c=r.storeWishes,s=i.map(function(t){return e===t.id?(console.log(t),{name:t.name,checked:!t.checked,id:t.id,checkedby:n.email,checkedTime:new Date,image:t.image||""}):t});console.log(s),c(a,s),this.setState({feedback:"Du kj\xf8pte eller solgte noe!"})}},{key:"toggleShowSelected",value:function(e){le("toggleShowSelected",e);var t=this.state.hideSelected;e.preventDefault(),this.setState({hideSelected:!t})}},{key:"shouldDisplayWish",value:function(e){var t=this.state.hideSelected;return le("Wish to be filtered: ",e),!e.checked||!t}},{key:"render",value:function(){var e=this,t=this.state,n=t.hideSelected,a=t.userState,i=t.feedback,c=this.props.wishes.filter(this.shouldDisplayWish).map(function(t){return r.a.createElement(se,{deleteSuggestion:function(){return null},canDelete:!1,key:t.id,onClick:e.check,wishInfo:t})});return r.a.createElement(w,null,r.a.createElement("div",{className:"flex-row space-between"},r.a.createElement("h1",{className:"shrink overflow-hidden"},"\xd8nskelisten til ",a)),r.a.createElement(ue,null,r.a.createElement(D,{type:"button",name:n?"eye":"eye-off",onClick:this.toggleShowSelected})),r.a.createElement("p",null,i),c)}}]),t}(r.a.Component),he=Object(d.b)(function(e,t){var n=e.wish,a=e.user,r=t.match.params.name;return{wishes:n[r]||[],name:r,user:a}},function(e){return{setWishes:function(t,n){e(A({uid:t,wishes:n}))},storeWishes:function(t,n){e(T(t,n))}}})(de),fe=n(59),be=function(e){return{type:"USER_LOADED",user:e}},me=n(116),pe=n(36),ve=n.n(pe),ge="#b49b57",Oe=ve()(ge).fade(.7).string(),ke={gold:ge,goldDark:Oe};function we(){var e=Object(g.a)(["\n  background: ",";\n  color: ",";\n  text-decoration: none;\n  padding: .8rem;\n  &.selected {\n    color: white;\n    background: ",";\n  }\n"]);return we=function(){return e},e}function je(){var e=Object(g.a)(["\n  text-decoration: none;\n  border-bottom: 2px solid ",";\n  font-weight: 400;\n  &:visited {\n    color: white;\n  }\n  &:hover {\n    color: grey;\n  }\n"]);return je=function(){return e},e}var Ee=Object(O.a)(B.a)(je(),ge),xe=Object(O.a)(me.a)(we(),Oe,ve()("white").darken(.3).string(),ge);function ye(){var e=Object(g.a)(["\n    width: 50%;\n  "]);return ye=function(){return e},e}function Se(){var e=Object(g.a)(["\n    display: flex;\n    width: 100%;\n  "]);return Se=function(){return e},e}function _e(){var e=Object(g.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin-bottom: .5rem;\n  "]);return _e=function(){return e},e}function De(){var e=Object(g.a)(["\n    margin-right: 10px;\n  "]);return De=function(){return e},e}function Fe(){var e=Object(g.a)(["\n    color: white;\n  "]);return Fe=function(){return e},e}function Ne(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return Ne=function(){return e},e}var We=O.a.div(Ne());var Ie=Object(d.b)(function(e){return{user:e.user}},function(e){return{logout:function(){e({type:"LOG_OUT"})}}})(function(e){var t=e.user,n=e.logout,i=Object(a.useState)(""),c=Object(fe.a)(i,2),s=c[0],o=c[1];if(!t||!t.uid)return null;var u=O.a.h1(Fe()),l=O.a.span(De()),d=O.a.div(_e()),h=O.a.div(Se()),f=Object(O.a)(xe)(ye());return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null,"GAVE\xd8NSKE.NO"),r.a.createElement(d,null,r.a.createElement(l,null,t?t.email:"Ukjent"),r.a.createElement("button",{type:"button",className:"button-navigation button--square",onClick:function(){return function(e,t){S.auth().signOut().then(function(){e("Du er n\xe5 logget ut"),t()},function(t){console.log(t),e("Noe gikk galt under utlogging.")})}(o,n)}},"Logg ut"),s),r.a.createElement(We,null,r.a.createElement(h,null,r.a.createElement(f,{activeClassName:"selected",exact:!0,to:""},"Mine \xf8nsker"),r.a.createElement(f,{activeClassName:"selected",to:"/others"},"Vennelister"))))}),Ue=new S.auth.FacebookAuthProvider;function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Re=r.a.createElement("path",{id:"Blue_1_",fill:"#3C5A99",d:"M248.082,262.307c7.854,0,14.223-6.369,14.223-14.225V18.812 c0-7.857-6.368-14.224-14.223-14.224H18.812c-7.857,0-14.224,6.367-14.224,14.224v229.27c0,7.855,6.366,14.225,14.224,14.225 H248.082z"}),Le=r.a.createElement("path",{id:"f",fill:"#FFFFFF",d:"M182.409,262.307v-99.803h33.499l5.016-38.895h-38.515V98.777c0-11.261,3.127-18.935,19.275-18.935 l20.596-0.009V45.045c-3.562-0.474-15.788-1.533-30.012-1.533c-29.695,0-50.025,18.126-50.025,51.413v28.684h-33.585v38.895h33.585 v99.803H182.409z"});n.p;function Te(){var e=Object(g.a)(['\n  display: flex;\n  width: 24px;\n  height: 24px;\n  justify-content: center;\n  align-items: center;\n  &::after {\n    content: " ";\n    display: block;\n    width: 24px;\n    height: 24px;\n    transform: translateY(50%);\n    border-radius: 50%;\n    border: 3px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: '," 1.2s linear infinite;\n  }\n"]);return Te=function(){return e},e}function Ae(){var e=Object(g.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return Ae=function(){return e},e}var Me=Object(O.b)(Ae()),Pe=O.a.div(Te(),Me);function He(){var e=Object(g.a)(["\n  ","\n"]);return He=function(){return e},e}function Be(){var e=Object(g.a)(["\n  ","\n"]);return Be=function(){return e},e}var ze="\n  border: 2px solid ".concat(ke.gold,";\n  padding: 7px 14px;\n  background: transparent;\n  border-radius: 8px;\n  outline: none;\n  font-size: 16px;\n  color: white;\n  max-width: 300px;\n  min-height: 48px;\n  margin-bottom: 16px;\n"),Ve=O.a.button(Be(),ze),Ge=O.a.input(He(),ze);function Ke(){var e=Object(g.a)(["\n      display: flex;\n      align-items: center;\n      width: 100%;"]);return Ke=function(){return e},e}function Xe(){var e=Object(g.a)(["\n  margin: 0 auto;\n"]);return Xe=function(){return e},e}function Je(){var e=Object(g.a)(["\n  font-size: 1em;\n  height: ",";\n  width: ",";\n  margin-right: 6px;\n"]);return Je=function(){return e},e}var Qe=n(22)("ThirdPartyLogin"),Ye=Object(O.a)(function(e){return r.a.createElement("svg",Ce({version:1.1,id:"Layer_1",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"266.893px",height:"266.895px",viewBox:"0 0 266.893 266.895",enableBackground:"new 0 0 266.893 266.895",xmlSpace:"preserve"},e),Re,Le)})(Je(),"30px","30px"),qe=Object(O.a)(Pe)(Xe()),Ze=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).state={submitting:!1},n.loginFacebook=n.loginFacebook.bind(Object(v.a)(Object(v.a)(n))),n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"loginFacebook",value:function(e){Qe("loginFacebook",e),e.preventDefault(),e.stopPropagation(),this.setState({submitting:!0}),S.auth().signInWithRedirect(Ue)}},{key:"render",value:function(){var e=Object(O.a)(Ve)(Ke());return r.a.createElement(r.a.Fragment,null,r.a.createElement(e,{onClick:this.loginFacebook},this.state.submitting?r.a.createElement(qe,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,null),"Logg p\xe5 med facebook")),r.a.createElement(Ee,{to:"/internal"},"Passord/brukernavn?"))}}]),t}(r.a.Component);function $e(){var e=Object(g.a)(["\n  width: 100%;\n"]);return $e=function(){return e},e}function et(){var e=Object(g.a)(["\n  height: 2.5rem;\n  outline: none;\n  padding: 0 1rem;\n  margin-bottom: 12px;\n  border: 0;\n  -webkit-appearance: none;\n  background: ",";\n  color: white;\n  width: 100%;\n  &::placeholder {\n    color: grey;\n  }\n"]);return et=function(){return e},e}var tt=n(22)("InternalLogin"),nt=O.a.input(et(),ke.goldDark),at=Object(O.a)(Ge)($e()),rt=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).state={user:"",password:"",submitting:!1,errorMessage:""},n.updateUserState=n.updateUserState.bind(Object(v.a)(Object(v.a)(n))),n.updatePasswordState=n.updatePasswordState.bind(Object(v.a)(Object(v.a)(n))),n.logIn=n.logIn.bind(Object(v.a)(Object(v.a)(n))),n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"updateUserState",value:function(e){tt("updateUserState",e),this.setState({user:e.target.value})}},{key:"updatePasswordState",value:function(e){tt("updatePasswordState",e),this.setState({password:e.target.value})}},{key:"logIn",value:function(e){var t=this;tt("logIn",e);var n=this.state,a=n.user,r=n.password;tt("Logging user in with the following credentials: ",a,r),e.preventDefault(),this.setState({submitting:!0}),S.auth().signInWithEmailAndPassword(a,r).catch(function(e){var n=e.code,a=e.message;tt("Errorcode: ",n,"errorMessage",a),n&&t.setState({errorMessage:"Klarte ikke \xe5 logge deg inn, beklager det."})})}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.logIn},r.a.createElement("label",{htmlFor:"username",className:"screen-reader-only"},"Brukernavn"),r.a.createElement(nt,{id:"username",value:this.state.user,onChange:this.updateUserState,placeholder:"Brukernavn"}),r.a.createElement("label",{htmlFor:"password",className:"screen-reader-only"},"Passord"),r.a.createElement(nt,{id:"password",type:"text",placeholder:"Passord",value:this.state.password,onChange:this.updatePasswordState}),r.a.createElement(at,{type:"submit",value:"Logg inn"}),r.a.createElement("p",null,this.state.errorMessage),r.a.createElement(Ee,{to:"/"},"Google/Facebook"))}}]),t}(r.a.Component);function it(){var e=Object(g.a)(["\n      color: white;\n      font-weight: 400;\n    "]);return it=function(){return e},e}function ct(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: white;\n"]);return ct=function(){return e},e}function st(){var e=Object(g.a)(["\n  font-size: 3rem;\n  margin: 2rem;\n"]);return st=function(){return e},e}var ot=n(22)("SelectUser");n(111);var ut=O.a.p(st()),lt=O.a.div(ct()),dt=function(e){function t(e){var n;return Object(h.a)(this,t),n=Object(b.a)(this,Object(m.a)(t).call(this,e)),ot("constructor"),n.state={user:"",password:"",feedback:"",submitting:!1},n.loginFacebook=n.loginFacebook.bind(Object(v.a)(Object(v.a)(n))),n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;ot("componentDidMount"),S.auth().getRedirectResult().then(function(){ot("Login was apparently successful")}).catch(function(t){ot("Facebook login failed: ",t),t&&e.setState({feedback:"Klarte ikke \xe5 logge deg inn med facebook, beklager det."})})}},{key:"loginFacebook",value:function(e){ot("loginFacebook",e),e.preventDefault(),e.stopPropagation(),this.setState({submitting:!0}),S.auth().signInWithRedirect(Ue)}},{key:"render",value:function(){var e=this.state.feedback,t=O.a.h1(it());return r.a.createElement(o.a,null,r.a.createElement(lt,null,r.a.createElement(t,null,"\xd8NSK DEG NOE"),r.a.createElement(u.a,null,r.a.createElement(l.a,{path:"/internal",component:rt}),r.a.createElement(l.a,{component:Ze})),r.a.createElement(ut,null,e)))}}]),t}(r.a.Component),ht=Object(d.b)(function(e){return{user:e.user}},null)(dt),ft=n(26),bt=n(58),mt={loaded:!1,uid:void 0,email:void 0},pt=n(22)("userReducer"),vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(pt("Input: state: ",e,". Action: ",t),t.type){case"USER_LOADED":if(t.user){var n=t.user,a=n.uid,r=n.email;return Object(L.a)({},e,{uid:a,email:r,loaded:!0})}return Object(L.a)({},e,{loaded:!0});case"LOG_OUT":return mt;default:return Object(L.a)({},e)}},gt=n(34),Ot={},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALL_WISHES":return Object.assign({},t.wishes);case"SET_USER_WISHES":var n=t.uid;return Object(L.a)({},e,Object(gt.a)({},n,t.wishes));default:return e}},wt={loaded:!1,loading:!1,friends:[],userNotFound:!1,newFriend:void 0},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_FRIENDS":return Object(L.a)({},e,{loading:!0});case"SET_FRIENDS":return Object(L.a)({},e,{friends:t.newFriendList});case"FRIENDS_LOADED":return Object(L.a)({},e,{friends:t&&t.data&&t.data.filter(function(e){return e}),loading:!1,loaded:!0});case"FRIEND_NOT_FOUND":return Object(L.a)({},e,{userNotFound:!0});case"FRIEND_FOUND_AND_ADDED":var n=t.newFriend;return Object(L.a)({},e,{userNotFound:!1,newFriend:n});default:return Object(L.a)({},e)}},Et=Object(ft.c)({user:vt,wish:kt,friends:jt}),xt=n(60),yt=n(21),St=n.n(yt),_t=n(7),Dt=function(e){return e.user},Ft=function(e){return e.friends.friends},Nt=St.a.mark(Tt),Wt=St.a.mark(At),It=St.a.mark(Pt),Ut=St.a.mark(Bt),Ct=St.a.mark(zt),Rt=St.a.mark(Vt);function Lt(e){return new Promise(function(t){S.database().ref("users/".concat(e.uid,"/users")).once("value",function(e){if(null!=e){var n=e.val();t(n)}})})}function Tt(){var e,t;return St.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(_t.c)(Dt);case 2:return e=n.sent,n.next=5,Object(_t.a)(Lt,e);case 5:return t=n.sent,n.next=8,Object(_t.b)({type:"FRIENDS_LOADED",data:t});case 8:case"end":return n.stop()}},Nt,this)}function At(e){var t,n,a;return St.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.wishes,r.next=3,Object(_t.c)(Dt);case 3:return n=r.sent,a=n.uid,r.next=7,Object(_t.b)(A({uid:a,wishes:t}));case 7:case"end":return r.stop()}},Wt,this)}function Mt(e){var t=e.uid,n=e.wishes;S.database().ref("wishes/".concat(t,"/wishes")).set(n)}function Pt(e){var t,n,a;return St.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(_t.c)(Dt);case 2:return t=r.sent,n=t.uid,a=e.wishes,r.next=7,Object(_t.b)(T(n,a));case 7:case"end":return r.stop()}},It,this)}function Ht(e){return new Promise(function(t,n){S.database().ref("userlist").once("value",function(n){if(null!=n){var a=n.val().filter(function(t){return t.email===e});1==a.length?t(a.reduce(function(e){return e})):t()}})})}function Bt(e){var t,n,a,r,i,c;return St.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(_t.c)(Dt);case 2:return t=s.sent,s.next=5,Object(_t.c)(Ft);case 5:return n=s.sent,a=t.uid,r=e.newFriendMail,s.next=10,Ht(r);case 10:if(!(i=s.sent)){s.next=18;break}return c=[i].concat(Object(xt.a)(n)),S.database().ref("users/".concat(a,"/users")).set(c),s.next=16,Object(_t.b)({type:"FRIEND_FOUND_AND_ADDED",newFriend:i});case 16:s.next=20;break;case 18:return s.next=20,Object(_t.b)({type:"FRIEND_NOT_FOUND"});case 20:case"end":return s.stop()}},Ut,this)}function zt(e){var t,n,a,r,i;return St.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(_t.c)(Dt);case 2:return t=c.sent,c.next=5,Object(_t.c)(Ft);case 5:n=c.sent,a=t.uid,r=e.email,i=n.filter(function(e){return e.email!==r}),S.database().ref("users/".concat(a,"/users")).set(i);case 10:case"end":return c.stop()}},Ct,this)}function Vt(){return St.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_t.d)("LOAD_FRIENDS",Tt);case 2:return e.next=4,Object(_t.d)("SET_OWN_WISHES",At);case 4:return e.next=6,Object(_t.d)("STORE_WISHES_TO_FIREBASE",Mt);case 6:return e.next=8,Object(_t.d)("STORE_OWN_WISHES_TO_FIREBASE",Pt);case 8:return e.next=10,Object(_t.d)("ADD_FRIEND",Bt);case 10:return e.next=12,Object(_t.d)("DELETE_FRIEND",zt);case 12:case"end":return e.stop()}},Rt,this)}var Gt=Vt,Kt=Object(bt.a)(),Xt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ft.d,Jt=Object(ft.e)(Et,Xt(Object(ft.a)(Kt)));Kt.run(Gt);var Qt=Jt,Yt=n(22)("authFirebase"),qt={authChangeListener:function(){S.auth().onAuthStateChanged(function(e){Yt("onAuthStateChanged. User logged in: ",e),e?(Qt.dispatch(be(e)),S.database().ref("/userlist").once("value").then(function(t){var n=t.val(),a=0===n.filter(function(t){return t.email===e.email}).length;void 0===n?((n=[]).push({email:e.email,uid:e.uid}),Yt("Users to be stored after new user added",n),S.database().ref("/userlist").set(n)):a&&(n.push({email:e.email,uid:e.uid}),Yt("Adding user ",e,"Users: ",n),S.database().ref("/userlist").set(n))})):Qt.dispatch(be(null))})}},Zt=Object(s.a)(Ie),$t=Object(d.b)(function(e){return{user:e.user}})(function(e){var t=e.user;return t&&t.loaded?t.uid?r.a.createElement(o.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Zt,null),r.a.createElement(u.a,null,r.a.createElement(l.a,{path:"/",exact:!0,component:H}),r.a.createElement(l.a,{path:"/others",component:ne}),r.a.createElement(l.a,{path:"/other/:name",component:he})))):r.a.createElement(ht,null):r.a.createElement(Q,null)});qt.authChangeListener();var en=function(){return r.a.createElement(d.a,{store:Qt},r.a.createElement($t,null))};"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js")}),c.a.render(r.a.createElement(en,null),document.getElementById("root"))},63:function(e,t,n){e.exports=n(115)},68:function(e,t,n){},70:function(e,t,n){},80:function(e,t,n){},84:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){},91:function(e,t,n){}},[[63,2,1]]]);
//# sourceMappingURL=main.b5481466.chunk.js.map