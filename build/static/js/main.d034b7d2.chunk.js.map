{"version":3,"sources":["components/firebase/firebase.ts","styles/colors.ts","components/common/ListRow.ts","components/common/Icon.tsx","components/common/IconButton.ts","components/wish/Wish.tsx","state/actions/wish.ts","components/common/container/Container.tsx","components/yours/YourWishList.tsx","components/common/Loading.tsx","components/yours/YourWishDetails.tsx","components/otherwishlistselection/addeduserlink/AddedUserLink.tsx","components/common/spinnerWhileLoading.tsx","components/otherwishlistselection/OthersWishListSelectionWrapper.tsx","state/actions/friends.ts","components/others/OtherWish.tsx","components/others/OthersWishList.tsx","state/actions/purchase.ts","state/actions/user.ts","components/common/Link.ts","components/header/Header.tsx","constants.ts","components/firebase/facebooklogin.ts","components/login/facebook-icon.svg","components/common/Spinner.tsx","components/common/Button.ts","components/login/ThirdPartyLogin.tsx","components/login/InternalLogin.tsx","components/common/FloatingCircles.tsx","components/login/Login.tsx","components/setname/SetName.tsx","state/reducers/user.ts","state/reducers/wish.ts","state/reducers/friends.ts","state/reducers/purchase.ts","state/reducers/index.ts","state/selectors/selectors.ts","state/sagas/usersaga.ts","state/sagas/wishsaga.ts","state/sagas/purchases.ts","state/sagas/index.ts","store.ts","components/firebase/authFirebase.ts","App.tsx","index.tsx"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","storageBucket","messagingSenderId","colors","primary","primaryDark","Color","fade","string","primaryLight","saturate","lighten","negative","positive","neutral","ListRowStyles","concat","ListRow","styled","div","_templateObject","Icon","_ref","name","type","onClick","classFromProps","className","rest","Object","objectWithoutProperties","classes","react_default","a","createElement","assign","fill","xlinkHref","IconButton","IconButton_templateObject","NegativeIconButton","_templateObject2","NeutralIconButton","_templateObject3","GoldIconButton","_templateObject4","storageRef","storage","ref","debug","require","Link","RouterLink","Wish_templateObject","Wish","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","edit","text","wish","confirm","image","click","bind","assertThisInitialized","focusLost","updateText","deleteItem","cancel","deleteConfirmed","onDrop","child","getDownloadURL","then","url","setState","nextProps","input","focus","acceptedFiles","rejectedFiles","_this2","_this$props","addImage","imageName","id","split","put","on","e","target","value","_this$props2","deleteProp","delete","_this$props3","update","description","accomplished","accompllishedby","deleted","link","_this3","_this$state","imageState","alt","src","StyledActionButtons","Wish_templateObject2","moveIn","keyframes","Wish_templateObject3","StyledActionButtonsAnimated","Wish_templateObject4","deleteWish","ImageWrapper","c","onBlur","onChange","defaultValue","_templateObject5","LeftSection","_templateObject6","common_ListRow","Wish_Link","to","React","Component","setWishes","wishes","storeWishesToFirebase","uid","setWishesForUser","data","objectSpread","Container","Container_templateObject","YourWishList","newWish","feedback","addWish","updateWishState","deleteThis","user","updateWishStore","firebaseRef","database","snapshot","val","off","replace","r","Math","random","toString","preventDefault","newWishList","unshift","createGuid","map","_this$props4","deleteId","_this$props5","filteredNewWishList","filter","wishesEl","el","wish_Wish","key","container_Container","onSubmit","placeholder","Icon_Icon","connect","dispatch","newData","animation","Loading_templateObject","Spinner","Loading_templateObject2","Loading","StyledTitle","YourWishDetails_templateObject","StyledDescription","YourWishDetails_templateObject2","StyledLink","YourWishDetails_templateObject3","StyledWishComplete","YourWishDetails_templateObject4","OthersWishListWrapper","_ref2","ownProps","console","log","w","match","params","wishid","reduce","useEffect","NameLink","AddedUserLink_templateObject","AddedUserLink","deleteMe","email","spinnerWhileLoading","isLoading","branch","renderComponent","OthersWishListSelectionWrapper_templateObject","OthersWishListSelection","friends","newUser","updateUserState","addUserClickEvent","deleteUser","addUser","updateFriendStore","newUserMail","addFriend","deleteFriend","userNotFound","usersLinks","addeduserlink_AddedUserLink","WithSpinner","loaded","loading","load","_ref2$friends","newFriend","deleteFriendAction","newFriendList","setFriends","newFriendMail","addFriendAction","OtherWish","wishInfo","canDelete","deleteSuggestion","purchase","imageTag","item","checked","linkifyed","Linkify_default","checkedByElem","_onClick","apply","arguments","ActionButtonsContainer","OthersWishList_templateObject","OthersWishList","hideSelected","check","toggleShowSelected","shouldDisplayWish","setPurchases","wishRef","purchaseRef","purchases","purchaseItem","sellItem","friend","filteredWishes","others_OtherWish","checkedby","_ref3","_ref$friends","friendsFiltered","u","length","storeWishes","itemid","purchaseItemAction","sellItemAction","userLoaded","Link_templateObject","NavLink","RouterNavLink","Link_templateObject2","darken","StyledHeader","Header_templateObject","othersActive","location","pathname","startsWith","logout","_useState","useState","_useState2","slicedToArray","setFeedback","H1","h1","Header_templateObject2","UserEmail","span","Header_templateObject3","UserInfo","Header_templateObject4","ActionButtons","Header_templateObject5","CustomNavLink","Header_templateObject6","auth","signOut","logOut","Header_StyledHeader","activeClassName","exact","isActive","provider","FacebookAuthProvider","_extends","i","source","prototype","hasOwnProperty","facebook_icon_ref","d","__webpack_require__","p","spinnerKeyframe","Spinner_templateObject","Spinner_templateObject2","BorderStyles","BorderButton","button","Button_templateObject","BorderInput","Button_templateObject2","FacebookIcon","version","xmlnsXlink","x","y","width","height","viewBox","enableBackground","xmlSpace","ThirdPartyLogin_templateObject","ButtonSpinner","ThirdPartyLogin_templateObject2","ThirdPartyLogin","submitting","loginFacebook","stopPropagation","signInWithRedirect","facebook","SmButton","ThirdPartyLogin_templateObject3","Fragment","Link_Link","StyledInput","InternalLogin_templateObject","SubmitButton","InternalLogin_templateObject2","PasswordContainer","InternalLogin_templateObject3","StyledPeek","InternalLogin_templateObject4","InternalLogin","password","errorMessage","peek","updatePasswordState","logIn","togglePeek","signInWithEmailAndPassword","catch","error","errorCode","code","message","htmlFor","StyledCircleContainer","FloatingCircles_templateObject","getRandomInt","min","max","num","floor","scaleInAndOut","FloatingCircles_templateObject2","StyledCircle","FloatingCircles_templateObject3","size","top","left","scale","FloatingCircles","circles","Array","index","StyledParagraph","Login_templateObject","LoginContainer","Login_templateObject2","Login","getRedirectResult","Login_templateObject3","BrowserRouter","Switch","Route","path","component","SetNameContainer","SetName_templateObject","setTheName","setNameAction","setName","_useState3","_useState4","setEmail","submit","disabled","initialState","undefined","userReducer","action","_action$user","defineProperty","reducer","purchaseReducer","onskdegReducers","combineReducers","loadUserList","setNameAndEmail","userSaga","getUserList","currentUser","Promise","resolve","once","resolveVal","regenerator_default","wrap","_context","prev","next","select","userSelect","sent","stop","_marked","getFriendByEmail","mail","reject","usersObj","filteredList","keys","newUserList","_context2","friendsSelect","toConsumableArray","set","_marked2","_context3","_marked3","_context4","_marked4","_context5","takeEvery","_marked5","setOwnWishes","storeWishesToFirebaseSaga","wishSaga","wishsaga_marked","wishsaga_marked2","wishsaga_marked3","purchaseSaga","checkedtime","Date","now","purchases_marked","purchases_marked2","rootSaga","all","sagas_marked","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","run","obj","authChangeListener","onAuthStateChanged","HeaderWithRouter","withRouter","Header","AppCompWrapper","login_Login","SetName","App_templateObject","YourWishDetails","authFirebase","App","es","navigator","serviceWorker","getRegistrations","registrations","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","unregister","err","return","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d034b7d2.chunk.js","sourcesContent":["import firebase from 'firebase';\n\nconst config = {\n  apiKey: 'AIzaSyDRCFzLXgaM36t-0Vnhp2XbbQJrUjDmQAw',\n  authDomain: 'onskdeg.firebaseapp.com',\n  databaseURL: 'https://onskdeg.firebaseio.com',\n  storageBucket: 'onskdeg.appspot.com',\n  messagingSenderId: '776764935060',\n};\nfirebase.initializeApp(config);\nexport default firebase;\n","import Color from 'color';\n\nconst primary = \"#b49b57\";\nconst primaryDark = Color(primary).fade(.7).string();\nconst primaryLight = Color(primary).saturate(.5).lighten(.4).string();\n\nconst negative = \"#ff5656\";\nconst positive = \"#49b557\";\nconst neutral = \"#3988ea\";\n\nexport default {\n  primary,\n  primaryDark,\n  primaryLight,\n  negative,\n  positive,\n  neutral,\n}","import styled from 'styled-components';\nimport colors from '../../styles/colors';\n\nexport const ListRowStyles = `\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: ${colors.primaryDark};\n  color: white;\n  padding-left: 50px;\n  margin-bottom: 2px;\n  height: 52px;\n  white-space: nowrap;\n`;\nexport const ListRow = styled.div`\n  ${ListRowStyles}\n`;\n\nexport default ListRow;","import React from 'react';\n\nimport './Icon.scss';\n\ninterface IconProps {\n  name: string;\n  type: string;\n  onClick: (args: any) => void;\n  className?: string;\n}\n/* eslint-disable react/button-has-type */\nexport default function Icon({ name, type, onClick, className: classFromProps, ...rest }: IconProps) {\n  const classes = classFromProps ? `${classFromProps} icon` : 'icon';\n  return (\n    <button type={type} className={classes} onClick={onClick} {...rest}>\n      <svg className=\"icon__icon\" fill=\"currentColor\">\n        <use xlinkHref={`/svg/sprite.svg#icon-${name}`} />\n      </svg>\n    </button>\n  );\n}\n/* eslint-enable react/button-has-type */\n","import Icon from \"./Icon\";\nimport styled from \"styled-components\";\nimport colors from \"../../styles/colors\";\n\nexport const IconButton = styled(Icon)`\n  height: 52px;\n  width: 52px;\n  max-height: 52px;\n  max-width: 52px;\n`;\nexport const NegativeIconButton = styled(IconButton)`\n  background: ${colors.negative};\n`;\nexport const NeutralIconButton = styled(IconButton)`\n  background: ${colors.neutral};\n`;\nexport const GoldIconButton = styled(IconButton)`\n  color: ${colors.primaryLight};\n`;\n","import React from 'react';\nimport Dropzone from 'react-dropzone';\nimport styled, { keyframes } from 'styled-components';\n\nimport firebase from '../firebase/firebase';\nimport Icon from '../common/Icon';\nimport { Wish as WishType } from '../../types/types';\nimport colors from '../../styles/colors';\nimport ListRow from '../common/ListRow';\nimport { NeutralIconButton, NegativeIconButton, GoldIconButton } from '../common/IconButton';\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst storageRef = firebase.storage().ref();\n\nconst debug = require('debug')('Wish');\n\nrequire('./wish.scss');\n\nexport const Link = styled(RouterLink)`\n  text-decoration: none;\n\n  &:visited, &:link {\n    color: white;\n  }\n  &:hover {\n    color: grey;\n  }\n`;\n\ninterface P {\n  wish: WishType\n  addImage: (wish: WishType, imageName: string) => void;\n  delete: (wishId: string) => void;\n  update: (wish: WishType) => void;\n}\n\ninterface S {\n  edit: boolean,\n  text: string,\n  confirm: boolean,\n  image: string\n}\n\nclass Wish extends React.Component<P, S> {\n\n  input: any;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      edit: false,\n      text: props.wish.name,\n      confirm: false,\n      image: '',\n    };\n    this.click = this.click.bind(this);\n    this.focusLost = this.focusLost.bind(this);\n    this.updateText = this.updateText.bind(this);\n    this.deleteItem = this.deleteItem.bind(this);\n    this.cancel = this.cancel.bind(this);\n    this.deleteConfirmed = this.deleteConfirmed.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    debug('props: ', props);\n\n    if (props.wish.image) {\n      storageRef.child(props.wish.image).getDownloadURL().then((url) => {\n        debug('url: ', url);\n        this.setState({\n          image: url,\n        });\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps: any) {\n    this.setState({\n      text: nextProps.wish.name,\n      confirm: nextProps.wish.confirm,\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.input) {\n      this.input.focus();\n    }\n  }\n\n  onDrop(acceptedFiles: any, rejectedFiles: any) {\n    debug('Looks like I dropped something', acceptedFiles, rejectedFiles);\n    const { wish, addImage } = this.props;\n\n    const imageName = `${wish.id}.${acceptedFiles[0].name.split('.')[1]}`;\n\n    const uploadTask = storageRef.child(imageName)\n      .put(acceptedFiles[0]);\n\n    uploadTask.on('state_changed', () => {\n    }, () => {\n      debug('Error. Wups.');\n    }, () => {\n      debug('Success!');\n      storageRef.child(imageName).getDownloadURL().then((url) => {\n        debug('url: ', url);\n        this.setState({\n          image: url,\n        });\n      });\n      addImage(wish, imageName);\n    });\n  }\n\n  updateText(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      text: e.target.value,\n    });\n  }\n\n  deleteItem() {\n    this.setState({\n      confirm: true,\n    });\n  }\n\n  cancel() {\n    this.setState({\n      confirm: false,\n    });\n  }\n\n  deleteConfirmed() {\n    const { delete: deleteProp, wish } = this.props;\n    deleteProp(wish.id);\n  }\n\n  focusLost() {\n    const { update, wish } = this.props;\n    const { text } = this.state;\n\n    this.setState({\n      edit: false,\n    });\n    update({\n      name: text,\n      id: wish.id,\n      image: wish.image,\n      description: wish.description,\n      accomplished: wish.accomplished,\n      accompllishedby: wish.accompllishedby,\n      deleted: wish.deleted,\n      link: wish.link\n    });\n  }\n\n  click() {\n    this.setState({\n      edit: true,\n    });\n  }\n\n  render() {\n    const { wish } = this.props;\n    const {\n      confirm, image: imageState, edit, text,\n    } = this.state;\n\n    const image = wish.image ? (<img className=\"wish__image wish__image--thumbnail\" alt=\"Awesome\" src={imageState} />) : '';\n\n    const StyledActionButtons = styled.div`\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      flex-shrink: 0;\n    `;\n\n    const moveIn = keyframes`\n      from {\n        transform: translateX(100%);\n      }\n\n      to {\n        transform: translateX(0);\n      }\n    `;\n\n    const StyledActionButtonsAnimated = styled(StyledActionButtons)`\n      animation: ${moveIn} .2s ease-in;\n    `;\n\n    const deleteWish = confirm\n      ? (\n        <StyledActionButtonsAnimated>\n          <NeutralIconButton type=\"button\" name=\"x\" onClick={this.cancel} />\n          <NegativeIconButton type=\"button\" name=\"check\" onClick={this.deleteConfirmed} />\n        </StyledActionButtonsAnimated>)\n      : (\n        <StyledActionButtons>\n          <GoldIconButton type=\"button\" name=\"trash-2\" onClick={this.deleteItem} />\n        </StyledActionButtons>\n      );\n\n    const html = edit\n      ? (<input\n        type=\"text\"\n        className=\"wish__wish-text wish__wish-text--active\"\n        ref={(c) => { this.input = c; }}\n        onBlur={this.focusLost}\n        onChange={this.updateText}\n        value={text}\n      />\n      )\n      : (<input type=\"text\" onClick={this.click} className=\"wish__wish-text\" defaultValue={text} />);\n\n    const ImageWrapper = styled.div`\n      max-width: 36px;\n      max-height: 36px;\n      overflow: hidden;\n      position: absolute;\n      left: 8px;\n      top: 8px;\n    `;\n    const LeftSection = styled.div`\n      display: flex;\n      align-items: center;\n      flex-shrink: 1;\n      overflow: hidden;\n    `;\n    return (\n      <ListRow>\n        <LeftSection>\n          <ImageWrapper>{image}</ImageWrapper>\n          <Link to={`/wish/${wish.id}`}>{text}</Link>\n        </LeftSection>\n        {deleteWish}\n      </ListRow>\n    );\n  }\n}\n\nexport default Wish;\n","import { Wish } from \"../../types/types\";\n\nexport const setWishes = (wishes: Array<Wish>) => (\n  {\n    type: 'SET_OWN_WISHES',\n    wishes,\n  }\n);\n\nexport const storeOwnWishesToFirebase = (wishes: Array<Wish>) => (\n  {\n    type: 'STORE_OWN_WISHES_TO_FIREBASE',\n    wishes,\n  }\n);\n\nexport const storeWishesToFirebase = (uid: string, wishes: Array<Wish>) => (\n  {\n    type: 'STORE_WISHES_TO_FIREBASE',\n    uid,\n    wishes,\n  }\n);\n\nexport const setWishesForUser = (data: any) => (\n  {\n    type: 'SET_USER_WISHES',\n    ...data,\n  }\n);","import styled from 'styled-components';\n\nconst Container = styled.div`\n  max-width: 870px;\n  margin: 0 auto;\n`;\n\nexport default Container;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Wish from '../wish/Wish';\nimport firebase from '../firebase/firebase';\nimport Icon from '../common/Icon';\n\nimport { setWishes, storeOwnWishesToFirebase } from '../../state/actions/wish';\nimport { Wish as WishType, User, FirebaseSnapshot } from '../../types/types';\nimport Container from '../common/container/Container';\n\nconst debug = require('debug')('YourWishList');\n\nrequire('./yourwishlist.scss');\n\ninterface P {\n  user: User;\n  updateWishStore: (newWishes: Array<WishType>) => void;\n  storeWishesToFirebase: (newWishes: Array<WishType>) => void;\n  wishes: Array<WishType>;\n}\n\ninterface S {\n  newWish: string;\n  feedback: string;\n}\n\nclass YourWishList extends React.Component<P,S> {\n\n  firebaseRef: any;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      newWish: '',\n      feedback: '',\n    };\n\n    this.addWish = this.addWish.bind(this);\n    this.updateWishState = this.updateWishState.bind(this);\n    this.update = this.update.bind(this);\n    this.deleteThis = this.deleteThis.bind(this);\n    this.addImage = this.addImage.bind(this);\n  }\n\n  componentDidMount() {\n    debug('componentDidMount');\n    const { user, updateWishStore } = this.props;\n\n    this.firebaseRef = firebase.database().ref(`wishes/${user.uid}/wishes`);\n\n    this.firebaseRef.on('value', (snapshot: FirebaseSnapshot) => {\n      updateWishStore(snapshot.val());\n    });\n  }\n\n  componentWillUnmount() {\n    this.firebaseRef.off();\n  }\n\n  /*eslint-disable */\n  createGuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n    return v.toString(16);\n    });\n  }\n  /* eslint-enable */\n\n\n  updateWishState(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      newWish: e.target.value,\n    });\n  }\n\n  addWish(e: React.FormEvent<HTMLFormElement>) {\n    const { user, wishes, storeWishesToFirebase } = this.props;\n    const { newWish } = this.state;\n\n    e.preventDefault();\n\n    if (newWish === '') {\n      this.setState({\n        feedback: 'nsket kan ikke vre tomt',\n      });\n      return;\n    }\n\n    debug('Adding wish');\n    const newWishList = Object.assign([], wishes);\n    newWishList.unshift({\n      name: newWish,\n      id: this.createGuid(),\n      image: '',\n      accomplished: false,\n      accompllishedby: '',\n      deleted: false,\n      description: '',\n      link: ''\n    });\n\n    storeWishesToFirebase(newWishList);\n\n    this.setState({\n      newWish: '',\n      feedback: '',\n    });\n  }\n\n  update(wish: WishType) {\n    debug('Saving wishlist: ', wish);\n    const { user, wishes, storeWishesToFirebase } = this.props;\n\n    const newWishList = wishes.map((e) => {\n      if (e.id === wish.id) {\n        return {\n          name: wish.name,\n          id: wish.id,\n          image: wish.image ? wish.image : '',\n          ...wish\n        };\n      }\n      return e;\n    });\n    storeWishesToFirebase(newWishList);\n  }\n\n  addImage(wish: WishType, image: string) {\n    debug('Adding image to wish: ', wish, image);\n    const { wishes, storeWishesToFirebase } = this.props;\n    const newWishList = wishes.map((e) => {\n      if (e.id === wish.id) {\n        return {\n          name: wish.name,\n          id: wish.id,\n          image,\n          ...wish\n        };\n      }\n      return e;\n    });\n    storeWishesToFirebase(newWishList);\n  }\n\n  deleteThis(deleteId: string) {\n    debug('Delete id: ', deleteId);\n    const { user, wishes, storeWishesToFirebase } = this.props;\n    const newWishList = Object.assign([], wishes);\n\n    const filteredNewWishList = newWishList.filter((e: WishType) => {\n      debug(e.id);\n      return e.id !== deleteId;\n    });\n\n    debug('Wish list after deletion: ', newWishList);\n\n    storeWishesToFirebase(filteredNewWishList);\n  }\n\n  render() {\n    debug('This.props. ', this.props);\n    const { wishes } = this.props;\n    const { newWish, feedback } = this.state;\n\n    const wishesEl = wishes.map((el: WishType) => {\n      debug('Creating wish based on this el: ', el);\n      return (\n        <Wish\n          key={el.id}\n          update={this.update}\n          delete={this.deleteThis}\n          addImage={this.addImage}\n          wish={el}\n        />);\n    });\n\n    debug('Wishes: ', wishesEl);\n    \n    return (\n      <Container>\n        <form onSubmit={this.addWish}>  \n          <div className=\"your-wishlist__add-wish-wrapper\">\n            <input\n              type=\"text\"\n              placeholder=\"Legg inn nye nsker her\"\n              className=\"your-wishlist__add-wish-textarea\"\n              value={newWish}\n              onChange={this.updateWishState}\n            />\n            <Icon type=\"submit\" name=\"check\" onClick={() => null} className=\"your-wishlist__add-wish-submit\" />\n            <div>{feedback}</div>\n          </div>\n        </form>\n\n        <div className=\"your-wishlist__wishlist\">\n          {wishesEl}\n        </div>\n      </Container>\n    );\n  }\n}\n\nexport default connect(\n  ({ wish: { wishes }, user }: { wish: any, user: User}) => {\n    debug('User wishes', wishes[user.uid]);\n    return {\n      wishes: wishes[user.uid] ? wishes[user.uid] : [],\n      user,\n    };\n  },\n  dispatch => ({\n    updateWishStore: (newData: Array<WishType>) => {\n      dispatch(setWishes(newData));\n    },\n    storeWishesToFirebase: (newData: Array<WishType>) => {\n      dispatch(storeOwnWishesToFirebase(newData));\n    },\n  }),\n)(YourWishList);\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst animation = keyframes`\n  0% {\n    top: 6px;\n    height: 51px;\n  }\n  50%, 100% {\n    top: 19px;\n    height: 26px;\n  }\n`;\n\nconst Spinner = styled.div`\n  display: inline-block;\n  position: relative;\n  width: 64px;\n  height: 64px;\n  div {\n    display: inline-block;\n    position: absolute;\n    left: 6px;\n    width: 13px;\n    background: #fff;\n    animation: ${animation} 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\n  }\n  div:nth-child(1) {\n    left: 6px;\n    animation-delay: -0.24s;\n  }\n  div:nth-child(2) {\n    left: 26px;\n    animation-delay: -0.12s;\n  }\n  div:nth-child(3) {\n    left: 45px;\n    animation-delay: 0;\n  }\n`;\n\nexport default () => (\n  <Spinner>\n    <div />\n    <div />\n    <div />\n  </Spinner>\n);\n","import React, { useEffect } from 'react';\nimport Container from '../common/container/Container';\nimport { Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { ApplicationState } from '../../state/reducers';\nimport spinnerWhileLoading from '../common/spinnerWhileLoading';\nimport { User, Wish } from '../../types/types';\nimport styled from 'styled-components';\nimport { setWishes } from '../../state/actions/wish';\nimport Loading from '../common/Loading';\nimport firebase from '../firebase/firebase';\n\nconst StyledTitle = styled.div`\n`;\n\nconst StyledDescription = styled.div`\n`;\n\nconst StyledLink = styled.div`\n`;\n\nconst StyledWishComplete = styled.div`\n\n`;\n\nfunction YourWishDetails({ wish, user, updateWishStore }: { wish: Wish, user: User, updateWishStore: Function}) {\n    useEffect(() => {\n        const firebaseRef = firebase.database().ref(`wishes/${user.uid}/wishes`);\n\n        firebaseRef.on('value', (snapshot: any) => {\n            updateWishStore(snapshot.val());\n        });\n\n        return () => {\n            firebaseRef.off();\n        }\n    }, [])\n\n    if(wish == null) {\n        return <Loading />\n    }\n\n    return (\n    <Container>\n        <StyledTitle>{wish.name}</StyledTitle>\n        <StyledDescription>\n            <div>Beskrivelse</div>\n            <div>Viktig at de er bl.</div>\n        </StyledDescription>\n        <StyledLink>https://testlink.no/bla</StyledLink>\n        <StyledWishComplete>\n            <button type=\"text\">Jeg har oppfylt nsket</button>\n        </StyledWishComplete>\n    </Container>);\n}\n  \n  const OthersWishListWrapper = connect(\n    ({ wish, user }: { wish: any, user: User}, ownProps: any ) => {\n        console.log(wish[user.uid]);\n        return {\n          wish: wish[user.uid] ? wish[user.uid].filter((w: Wish) => w.id === ownProps.match.params.wishid).reduce((w: Wish) => w) : [],\n          user,\n        };\n      },\n    (dispatch: Dispatch, ownProps: any) => ({\n        updateWishStore: (newData: Array<Wish>) => {\n            dispatch(setWishes(newData));\n          },\n      }))(YourWishDetails);\n  \n  export default OthersWishListWrapper;","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport ListRow from '../../common/ListRow';\nimport { GoldIconButton } from '../../common/IconButton';\n\nrequire('./addeduserlink.css');\n\ninterface NewUser {\n  name: string;\n  email: string;\n  uid: string;\n}\n\nconst NameLink = styled(Link)`\n  text-decoration: none;\n  color: white;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  &:visited {\n    color: white;\n  }\n`;\n\ninterface Props {\n  el: NewUser;\n  deleteMe: (email: string) => void;\n}\nconst AddedUserLink = ({ el, deleteMe }: Props) => (\n  <ListRow>\n    <NameLink to={`/other/${el.uid}`}>{el.name}</NameLink>\n    <GoldIconButton\n      type=\"button\"\n      name=\"trash-2\"\n      className=\"added-user-link__delete smallspace button\"\n      onClick={() => deleteMe(el.email)}\n    >\n      {'Slett'}\n    </GoldIconButton>\n  </ListRow>\n  );\n\nexport default AddedUserLink;\n","import { branch, renderComponent } from 'recompose';\nimport Spinner from './Loading';\n\nexport default (isLoading: any) => branch(\n  isLoading,\n  renderComponent(Spinner), // `Spinner` is a React component\n);\n","import { connect } from 'react-redux';\nimport React from 'react';\nimport { any, array } from 'prop-types';\nimport styled from 'styled-components';\n\nimport AddedUserLink from './addeduserlink/AddedUserLink';\nimport store from '../../store';\nimport Container from '../common/container/Container';\nimport firebase from '../firebase/firebase';\nimport { loadFriends, setFriends } from '../../state/actions/friends';\nimport spinnerWhileLoading from '../common/spinnerWhileLoading';\nimport { User, FirebaseSnapshot } from '../../types/types';\nimport { deleteFriend as deleteFriendAction, addFriend as addFriendAction } from '../../state/actions/friends';\n\nconst debug = require('debug')('OthersWishListSelection');\n\nrequire('./otherswishlistselection.css');\n\nconst StyledHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 2rem;\n  border-bottom: 1px solid black;\n`;\n\ninterface P {\n  user: User;\n  friends: Array<User>;\n  addFriend: (newFriendMail: string) => void;\n  deleteFriend: (email: string) => void;\n  updateFriendStore: (newFriendList: Array<User>) => void;\n  newFriend: User;\n  userNotFound: boolean;\n}\n\ninterface S {\n  newUser: string;\n  feedback: string;\n}\n\nclass OthersWishListSelection extends React.Component<P,S> {\n\n  firebaseRef: any;\n\n  constructor(props: any) {\n    super(props);\n    const { friends } = props;\n    const initialUsers = friends || [];\n\n    this.state = {\n      newUser: '',\n      feedback: '',\n    };\n    this.updateUserState = this.updateUserState.bind(this);\n    this.addUserClickEvent = this.addUserClickEvent.bind(this);\n    this.deleteUser = this.deleteUser.bind(this);\n    this.addUser = this.addUser.bind(this);\n  }\n\n  componentDidMount() {\n    const { user, updateFriendStore } = this.props;\n    const { uid } = user;\n\n    this.firebaseRef = firebase.database().ref(`users/${uid}/friends`);\n    this.firebaseRef.on('value', (snapshot: FirebaseSnapshot) => {\n      updateFriendStore(snapshot.val());\n    });\n  }\n\n  componentWillUnmount() {\n    this.firebaseRef.off();\n  }\n\n  updateUserState(e: React.ChangeEvent<HTMLInputElement>) {\n    debug('updateUserState');\n\n    this.setState({ newUser: e.target.value });\n  }\n\n  addUserClickEvent(e: React.FormEvent<HTMLFormElement>) {\n    debug('addUserClickEvent', e);\n    const { newUser } = this.state;\n\n    e.preventDefault();\n    this.addUser(newUser);\n    this.setState({\n      newUser: ''\n    })\n  }\n\n  addUser(newUserMail: string) {\n    const { addFriend } = this.props;\n    addFriend(newUserMail);\n  }\n\n  deleteUser(email: string) {\n    const { deleteFriend } = this.props;\n    deleteFriend(email);\n  }\n\n  render() {\n    const { newUser, feedback } = this.state;\n    const { friends, userNotFound } = this.props;\n\n    const usersLinks = friends != null ? friends.map(el => (<AddedUserLink key={el.uid} deleteMe={this.deleteUser} el={el} />)) : null;\n\n    return (\n      <Container>\n        <div className=\"wishlist-selection__added-users-container\">\n          {usersLinks}\n        </div>\n\n        <form onSubmit={this.addUserClickEvent}>\n          <p>Legg til (legg inn epost)</p>\n          <input value={newUser} onChange={this.updateUserState} />\n          <input className=\"button button--padded\" type=\"submit\" value=\"OK\" />\n        </form>\n\n        {userNotFound && <p>Fant ikke bruker</p>}\n        <p>{feedback}</p>\n      </Container>\n    );\n  }\n}\n\nconst WithSpinner = spinnerWhileLoading(({ loaded, loading, load }: { loaded: boolean, loading: boolean, load: () => void}) => {\n  if (!loaded && !loading) {\n    load();\n  }\n  return !loaded;\n})(OthersWishListSelection);\n\nexport default connect(\n  ({ user, friends: { friends, loaded, loading, newFriend, userNotFound } }: { user: User, friends: { friends: Array<User>, loaded: boolean, loading: boolean, newFriend: User, userNotFound: boolean } }) => (\n    {\n      newFriend,\n      userNotFound,\n      user,\n      friends,\n      loaded,\n      loading\n    }\n  ),\n  dispatch => ({\n    load: () => dispatch(loadFriends()),\n    deleteFriend: (email: string) => {\n      dispatch(deleteFriendAction(email));\n    },\n    updateFriendStore(newFriendList: Array<User>) {\n      dispatch(setFriends(newFriendList));\n    },\n    addFriend(newFriendMail: string) {\n      dispatch(addFriendAction(newFriendMail));\n    }\n  }),\n)(WithSpinner);\n","import { User } from \"../../types/types\";\n\nexport const loadFriends = () => ({\n  type: 'LOAD_FRIENDS',\n});\n\nexport const addFriend = (newFriendMail: string) => ({\n  type: 'ADD_FRIEND',\n  newFriendMail\n})\n\nexport const deleteFriend = (email: string) => ({\n  type: 'DELETE_FRIEND',\n  email\n})\n\nexport const setFriends = (newFriendList: Array<User>) => ({\n  type: \"SET_FRIENDS\",\n  newFriendList\n})","import React from 'react';\nimport Linkify from 'react-linkify';\nimport firebase from '../firebase/firebase';\nimport Icon from '../common/Icon';\n\nimport './otherwish.css';\nimport { Wish, Purchase } from '../../types/types';\n\nconst storageRef = firebase.storage().ref();\n\nconst debug = require('debug')('OtherWish');\n\ninterface P {\n  purchase: Purchase;\n  wishInfo: Wish;\n  canDelete: boolean;\n  deleteSuggestion: () => void;\n  onClick: Function;\n};\n\ninterface S {\n  image: string;\n}\n\nclass OtherWish extends React.Component<P,S> {\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      image: '',\n    };\n\n    if (props.wishInfo.image) {\n      storageRef.child(props.wishInfo.image).getDownloadURL().then((url) => {\n        debug('url: ', url);\n        this.setState({\n          image: url,\n        });\n      });\n    }\n  }\n\n  render() {\n    const {\n      wishInfo, canDelete, deleteSuggestion, onClick, purchase\n    } = this.props;\n    const { image } = this.state;\n\n    const imageTag = wishInfo.image\n      ? (<img className=\"other-wish__image\" alt=\"Awesome\" src={image} />) : '';\n\n    const item = purchase.checked\n      ? (\n        <del>{wishInfo.name}</del>\n      )\n      : wishInfo.name;\n    const linkifyed = (\n      <Linkify className=\"other-wish__linkify\">{item}</Linkify>\n    );\n    const checkedByElem = purchase.checked\n      ? (\n        <div className=\"smallspace\">Tatt</div>) : '';\n\n    const deleteThis = canDelete\n      ? (\n        <button\n          type=\"button\"\n          className=\"button other-wish__button_delete-suggestion\"\n          onClick={deleteSuggestion}\n        >\n          {'Slett'}\n        </button>\n      ) : '';\n\n    return (\n      <div className=\"flex-column border\">\n        <div className=\"flex-row other-wish__upper-half\">\n          <div className=\"flex-column smallspace other-wish__wish-text\">\n            {linkifyed}\n            {imageTag}\n          </div>\n          <div className=\"other-wish__buy-or-sell-wrapper\">\n\n            <Icon type=\"button\" name={purchase.checked ? 'shopping-cart' : 'shopping-cart'} onClick={() => onClick(wishInfo.id)} />\n            {deleteThis}\n          </div>\n        </div>\n        <div className=\"flex-column\">\n          {checkedByElem}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OtherWish;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport styled from 'styled-components';\n\nimport Container from '../common/container/Container';\nimport firebase from '../firebase/firebase';\n// import Comments from './Comments';\n// import Suggestions from '../suggestions/Suggestions';\nimport OtherWish from './OtherWish';\nimport { setWishesForUser, storeWishesToFirebase } from '../../state/actions/wish';\nimport { setPurchasesForUser, purchaseItem as purchaseItemAction, sellItem as sellItemAction } from '../../state/actions/purchase';\nimport Icon from '../common/Icon';\nimport { User, Wish, Purchases } from '../../types/types';\nimport { ApplicationState } from '../../state/reducers';\nimport spinnerWhileLoading from '../common/spinnerWhileLoading';\nimport { loadFriends } from '../../state/actions/friends';\n\nconst ActionButtonsContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`;\n\nconst debug = require('debug')('OthersWishList');\n\ninterface Props {\n  match: { params: { name: string }};\n  setWishes: (name: string, newWishList: Array<Wish>) => void;\n  setPurchases: (name: string, purchasesForUser: Purchases) => void;\n  storeWishes: (name: string, newWishList: Array<Wish>) => void;\n  purchaseItem: (uid: string, itemid: string) => void;\n  sellItem: (uid: string, itemid: string) => void;\n  user: User;\n  wishes: Array<Wish>;\n  friend: User;\n  purchases: Purchases;\n}\ninterface State {\n  hideSelected: boolean;\n  feedback: string;\n}\nclass OthersWishList extends React.Component<Props, State> {\n  wishRef?: firebase.database.Reference;\n  purchaseRef?: firebase.database.Reference;\n\n  constructor(props: any) {\n    super(props);\n    debug('constructor');\n    this.state = {\n      hideSelected: true, feedback: '',\n    };\n    this.check = this.check.bind(this);\n    this.toggleShowSelected = this.toggleShowSelected.bind(this);\n    this.shouldDisplayWish = this.shouldDisplayWish.bind(this);\n  }\n\n  componentDidMount() {\n    debug('componentDidMount');\n    const { match: { params: { name } }, setWishes, setPurchases } = this.props;\n\n    this.wishRef = firebase.database().ref(`wishes/${name}/wishes`);\n    this.purchaseRef = firebase.database().ref(`purchases/${name}`);\n\n    this.wishRef.on('value', (snapshot) => {\n      setWishes(name, snapshot && snapshot.val());\n    });\n\n    this.purchaseRef.on('value', (snapshot) => {\n      setPurchases(name, snapshot && snapshot.val());\n    });\n\n  }\n\n  componentWillUnmount() {\n    this.wishRef && this.wishRef.off();\n  }\n\n  check(id: string) {\n    const { purchases, purchaseItem, sellItem, match: { params: { name } } } = this.props;\n    if(purchases[id].checked) {\n      sellItem(name, id);\n      this.setState({ feedback: 'Solgt!' });\n    }\n    else {\n      purchaseItem(name, id);\n      this.setState({ feedback: 'Kjpt!' });\n    }\n    \n    \n  }\n\n  toggleShowSelected(e: React.MouseEvent<HTMLElement>) {\n    debug('toggleShowSelected', e);\n    const { hideSelected } = this.state;\n\n    e.preventDefault();\n    this.setState({\n      hideSelected: !hideSelected,\n    });\n  }\n\n  shouldDisplayWish(el: Wish, purchases: Purchases) {\n    const {\n      hideSelected,\n    } = this.state;\n\n    debug('Wish to be filtered: ', el);\n    return !(purchases[el.id] && purchases[el.id].checked) || !hideSelected;\n  }\n\n  render() {\n    const {\n      hideSelected, feedback,\n    } = this.state;\n    const { wishes, friend, purchases } = this.props;\n\n    const filteredWishes = wishes.filter((el) => this.shouldDisplayWish(el, purchases)).map(wishInfo => (\n      <OtherWish deleteSuggestion={() => null} canDelete={false} key={wishInfo.id} onClick={this.check} wishInfo={wishInfo} purchase={purchases[wishInfo.id] ? purchases[wishInfo.id] : { checked: false, checkedby: '' }} />));\n\n    return (\n      <Container>\n\n        <div className=\"flex-row space-between\">\n          <h1 className=\"shrink overflow-hidden\">\n            {`nskelisten til ${friend.name}`}\n          </h1>\n        </div>\n        <ActionButtonsContainer>\n          <Icon type=\"button\" name={hideSelected ? 'eye' : 'eye-off'} onClick={this.toggleShowSelected} />\n        </ActionButtonsContainer>\n        <p>{feedback}</p>\n\n        {filteredWishes}\n\n        {/* <Suggestions username={userState} userUid={params.name} />\n        <hr />\n        <Comments params={params} /> */}\n\n      </Container>\n    );\n  } \n}\n\nconst mapStateToProps = ({ purchase, wish, user, friends: { loading, loaded, friends } }: ApplicationState, { match: { params: { name } } }: any) => {\n  const friendsFiltered = friends.filter(u => u.uid === name);\n\n  return {\n    wishes: wish.wishes[name] || [],\n    purchases: purchase.purchases[name] || {},\n    user,\n    loading,\n    loaded,\n    friend: friendsFiltered.length > 0 ? friendsFiltered.reduce(e => e) : {}\n  }\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  load: () => dispatch(loadFriends()),\n  setWishes(uid: string, newWishList: Array<Wish>) {\n    dispatch(setWishesForUser({ uid, wishes: newWishList }));\n  },\n  setPurchases(uid: string, purchases: Purchases) {\n    dispatch(setPurchasesForUser({uid, purchases}))\n  },\n  storeWishes(uid: string, newWishList: Array<Wish>) {\n    dispatch(storeWishesToFirebase(uid, newWishList));\n  },\n  purchaseItem(uid: string, itemid: string) {\n    dispatch(purchaseItemAction(uid, itemid));\n  },\n  sellItem(uid: string, itemid: string) {\n    dispatch(sellItemAction(uid, itemid));\n  }\n});\n\nconst WithSpinner = spinnerWhileLoading(({ loaded, loading, load }: { loaded: boolean, loading: boolean, load: () => void}) => {\n  if (!loaded && !loading) {\n    load();\n  }\n  return !loaded;\n})(OthersWishList);\n\nconst OthersWishListWrapper = connect(mapStateToProps, mapDispatchToProps)(WithSpinner);\n\nexport default OthersWishListWrapper;\n","export const setPurchasesForUser = (data: any) => (\n    {\n      type: 'SET_USER_PURCHASES',\n      ...data,\n    }\n  );\n  \nexport const purchaseItem = (uid: string, itemid: string) => (\n    {\n      type: 'PURCHASE_ITEM',\n      uid,\n      itemid\n    }\n  );\n\n  export const sellItem = (uid: string, itemid: string) => (\n    {\n      type: 'SELL_ITEM',\n      uid,\n      itemid\n    }\n  );","import { User } from \"../../types/types\";\n\nexport const setNameAndEmail = (name: string, email?: string) => ({\n  type: 'SET_NAME_AND_EMAIL',\n  name,\n  email\n});\n\nexport const userLoaded = (user: User | null) => (\n  {\n    type: 'USER_LOADED',\n    user,\n  }\n);\n\nexport const logout = () => (\n  {\n    type: 'LOG_OUT',\n  }\n);\n","import styled from 'styled-components';\nimport { Link as RouterLink, NavLink as RouterNavLink } from 'react-router-dom';\nimport colors from '../../styles/colors';\nimport Color from 'color';\n\nexport const Link = styled(RouterLink)`\n  text-decoration: none;\n  border-bottom: 2px solid ${colors.primary};\n  font-weight: 400;\n\n  &:visited, &:link {\n    color: white;\n  }\n  &:hover {\n    color: grey;\n  }\n`;\n\nexport const NavLink = styled(RouterNavLink)`\n  background: ${colors.primaryDark};\n  color: ${Color('white').darken(.3).string()};\n  text-decoration: none;\n  padding: .8rem;\n  &.selected {\n    color: white;\n    background: ${colors.primary};\n  }\n`;\n\nexport default {\n  Link,\n  NavLink,\n};\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\n\nimport firebase from '../firebase/firebase';\nimport { logout as logoutAction } from '../../state/actions/user';\nimport { ApplicationState } from '../../state/reducers';\nimport { UserState } from '../../state/reducers/types';\nimport { APP_TITLE } from '../../constants';\nimport { NavLink } from '../common/Link';\nimport Container from '../common/container/Container';\n\nconst StyledHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: .8rem;\n`;\n\nfunction logOut(setFeedback: (n: string) => void, logout: () => void) {\n  firebase.auth().signOut().then(() => {\n    setFeedback('Du er n logget ut');\n    logout();\n  }, (e) => {\n    console.log(e);\n    setFeedback('Noe gikk galt under utlogging.');\n  });\n}\n\nconst othersActive = (match: any, location: any) => location.pathname.startsWith(\"/other\");\n\nexport interface HeaderProps {\n  user?: UserState;\n  logout: () => void;\n}\nconst HeaderComponent = ({ user, logout }: HeaderProps) => {\n  const [feedback, setFeedback] = useState('');\n\n  if (!user || !user.uid) {\n    return null;\n  }\n\n  const H1 = styled.h1`\n    color: white;\n  `;\n  const UserEmail = styled.span`\n    margin-right: 10px;\n  `;\n  const UserInfo = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin-bottom: .5rem;\n    padding-right: .5rem;\n  `;\n  const ActionButtons = styled.div`\n    display: flex;\n    width: 100%;\n  `;\n  const CustomNavLink = styled(NavLink)`\n    width: 50%;\n  `;\n  return (\n    <Container>\n      <H1>{APP_TITLE}</H1>\n      <UserInfo>\n        <UserEmail>{user ? user.email : 'Ukjent'}</UserEmail>\n        <button type=\"button\" className=\"button-navigation button--square\" onClick={() => logOut(setFeedback, logout)}>Logg ut</button>\n        {feedback}\n      </UserInfo>\n      <StyledHeader>\n        <ActionButtons>\n          <CustomNavLink activeClassName=\"selected\" exact to=\"\">Mine nsker</CustomNavLink>\n          <CustomNavLink activeClassName=\"selected\" isActive={othersActive} to=\"/others\">Vennelister</CustomNavLink>\n        </ActionButtons>\n      </StyledHeader>\n    </Container>\n  );\n};\n\nconst mapStateToProps = ({ user }: ApplicationState) => ({ user });\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  logout() {\n    dispatch(logoutAction());\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderComponent);\n","export const APP_TITLE = 'GAVENSKE.NO';\n\n","import firebase from './firebase';\n\nconst provider = new firebase.auth.FacebookAuthProvider();\nexport default provider;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  id: \"Blue_1_\",\n  fill: \"#3C5A99\",\n  d: \"M248.082,262.307c7.854,0,14.223-6.369,14.223-14.225V18.812 c0-7.857-6.368-14.224-14.223-14.224H18.812c-7.857,0-14.224,6.367-14.224,14.224v229.27c0,7.855,6.366,14.225,14.224,14.225 H248.082z\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  id: \"f\",\n  fill: \"#FFFFFF\",\n  d: \"M182.409,262.307v-99.803h33.499l5.016-38.895h-38.515V98.777c0-11.261,3.127-18.935,19.275-18.935 l20.596-0.009V45.045c-3.562-0.474-15.788-1.533-30.012-1.533c-29.695,0-50.025,18.126-50.025,51.413v28.684h-33.585v38.895h33.585 v99.803H182.409z\"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    version: 1.1,\n    id: \"Layer_1\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"266.893px\",\n    height: \"266.895px\",\n    viewBox: \"0 0 266.893 266.895\",\n    enableBackground: \"new 0 0 266.893 266.895\",\n    xmlSpace: \"preserve\"\n  }, props), _ref, _ref2);\n};\n\nexport default __webpack_public_path__ + \"static/media/facebook-icon.3ae13bc8.svg\";\nexport { SvgComponent as ReactComponent };","import styled, { keyframes } from 'styled-components';\n\nconst spinnerKeyframe = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst Spinner = styled.div`\n  display: flex;\n  width: 24px;\n  height: 24px;\n  justify-content: center;\n  align-items: center;\n  &::after {\n    content: \" \";\n    display: block;\n    width: 24px;\n    height: 24px;\n    transform: translateY(50%);\n    border-radius: 50%;\n    border: 3px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: ${spinnerKeyframe} 1.2s linear infinite;\n  }\n`;\n\nexport default Spinner;\n","import styled from 'styled-components';\nimport colors from '../../styles/colors';\n\nconst BorderStyles = `\n  border: 2px solid ${colors.primary};\n  padding: 7px 14px;\n  background: transparent;\n  border-radius: 8px;\n  outline: none;\n  font-size: 16px;\n  color: white;\n  max-width: 300px;\n  min-height: 48px;\n  margin-bottom: 16px;\n  cursor: pointer;\n`;\n\nexport const BorderButton = styled.button`\n  ${BorderStyles}\n`;\n\nexport const BorderInput = styled.input`\n  ${BorderStyles}\n`;\n\nexport default {\n  BorderButton,\n  BorderInput,\n}","import React from 'react';\nimport styled from 'styled-components';\n\nimport facebook from '../firebase/facebooklogin';\nimport firebase from '../firebase/firebase';\n\nimport { ReactComponent as FbIcon } from './facebook-icon.svg';\nimport Spinner from '../common/Spinner';\nimport { Link } from '../common/Link';\nimport { BorderButton } from '../common/Button';\nimport { User } from '../../types/types';\n\nconst debug = require('debug')('ThirdPartyLogin');\n\nconst iconHeight = '30px';\nconst FacebookIcon = styled(FbIcon)`\n  font-size: 1em;\n  height: ${iconHeight};\n  width: ${iconHeight};\n  margin-right: 6px;\n`;\n\nconst ButtonSpinner = styled(Spinner)`\n  margin: 0 auto;\n`;\n\ninterface State {\n  submitting: boolean;\n}\nclass ThirdPartyLogin extends React.Component<{}, State> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      submitting: false\n    };\n    this.loginFacebook = this.loginFacebook.bind(this);\n  }\n\n  loginFacebook(e: React.MouseEvent<HTMLButtonElement>) {\n    debug('loginFacebook', e);\n\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({ submitting: true });\n    firebase.auth().signInWithRedirect(facebook);\n  }\n\n  render() {\n    const SmButton = styled(BorderButton)`\n      display: flex;\n      align-items: center;\n      width: 100%;`;\n    \n    return (\n      <>\n        <SmButton\n          onClick={this.loginFacebook}\n        >\n          { this.state.submitting ?\n            <ButtonSpinner />\n            : <>\n              <FacebookIcon />\n              Logg p med Facebook\n            </>\n          }\n          \n        </SmButton>\n        <Link to=\"/internal\">Passord/brukernavn?</Link>\n      </>\n    );\n  }\n}\n\nexport default ThirdPartyLogin;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from '../common/Link';\nimport colors from '../../styles/colors';\nimport { BorderInput } from '../common/Button';\nimport firebase from '../firebase/firebase';\nimport { string } from 'prop-types';\nimport Icon from '../common/Icon';\n\nconst debug = require('debug')('InternalLogin');\n\n\nconst StyledInput = styled.input`\n  height: 2.5rem;\n  outline: none;\n  padding: 0 1rem;\n  margin-bottom: 12px;\n  border: 0;\n  -webkit-appearance: none;\n  background: ${colors.primaryDark};\n  color: white;\n  width: 100%;\n  &::placeholder {\n    color: grey;\n  }\n`;\n\nconst SubmitButton = styled(BorderInput)`\n  width: 100%;\n`;\n\nconst PasswordContainer = styled.div`\n  position: relative;\n`;\n\nconst StyledPeek = styled.button`\n    position: absolute;\n    border: 0;\n    background-color: transparent;\n    right: 15px;\n    top: -8px;\n    color: white;\n`;\n\ninterface State {\n  user: string;\n  password: string;\n  submitting: boolean;\n  errorMessage: string;\n  peek: boolean;\n}\nclass InternalLogin extends React.Component<{}, State> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      user: '',\n      password: '',\n      submitting: false,\n      errorMessage: '',\n      peek: false\n    };\n    this.updateUserState = this.updateUserState.bind(this);\n    this.updatePasswordState = this.updatePasswordState.bind(this);\n    this.logIn = this.logIn.bind(this);\n    this.togglePeek = this.togglePeek.bind(this);\n  }\n  updateUserState(e: React.ChangeEvent<HTMLInputElement>) {\n    debug('updateUserState', e);\n\n    this.setState({\n      user: e.target.value,\n    });\n  }\n\n  updatePasswordState(e: React.ChangeEvent<HTMLInputElement>) {\n    debug('updatePasswordState', e);\n\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  logIn(e: React.FormEvent<HTMLFormElement>) {\n    debug('logIn', e);\n    const { user, password } = this.state;\n\n    debug('Logging user in with the following credentials: ', user, password);\n    e.preventDefault();\n\n    this.setState({\n      submitting: true\n    });\n\n    firebase.auth().signInWithEmailAndPassword(user, password).catch((error: any) => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n\n      debug('Errorcode: ', errorCode, 'errorMessage', errorMessage);\n\n      if (errorCode) {\n        this.setState({\n          errorMessage: 'Klarte ikke  logge deg inn, beklager det.',\n        });\n      }\n    });\n  }\n\n  togglePeek() {\n    this.setState(({ peek }) => ({ peek: !peek }));\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.logIn}>\n        <label htmlFor=\"username\" className=\"screen-reader-only\">Brukernavn</label>\n        <StyledInput id=\"username\" value={this.state.user} onChange={this.updateUserState} placeholder=\"Brukernavn\" />\n\n        <PasswordContainer>\n          <label htmlFor=\"password\" className=\"screen-reader-only\">Passord</label>\n          <StyledInput\n            id=\"password\"\n            type={this.state.peek ? \"text\" : \"password\"}\n            placeholder=\"Passord\"\n            value={this.state.password}\n            onChange={this.updatePasswordState}\n          />\n          <StyledPeek type=\"button\" onClick={this.togglePeek}><Icon type=\"button\" name={this.state.peek ? 'eye-off' : 'eye'} onClick={() => null} /></StyledPeek>\n        </PasswordContainer>\n\n        <SubmitButton type=\"submit\" value=\"Logg inn\" />\n        <p>{this.state.errorMessage}</p>\n        <Link to=\"/\">Google/Facebook</Link>\n      </form>\n    );\n  }\n}\n\nexport default InternalLogin;\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport colors from '../../styles/colors';\n\nconst StyledCircleContainer = styled.div`\nposition: relative;\nwidth: 100%;\nheight: 100%;\noverflow: hidden;\n`;\n\nfunction getRandomInt(min: number, max: number) {\n  var num = Math.floor((Math.random() * Math.floor(max)));\n  if (num < min) {\n    num += min;\n  }\n  return num;\n}\n\ninterface StyledCircleProps {\n  size: string;\n  top: string;\n  left: string;\n  scale: number;\n}\n\nconst scaleInAndOut = keyframes`\n  0% {\n    transform: scale(1) translateY(0px) translateX(50px);\n  }\n  25% {\n    transform: scale(1.2) translateY(200px) translateX(-50px)\n  }\n  50% {\n    transform: scale(1) translateY(300px) translateX(200px);\n  }\n  75% {\n    transform: scale(0.8) translateY(500px) translateX(-300px);\n  }\n`;\n\nconst StyledCircle = styled.div`\n  background-color: ${colors.primaryDark};\n  border-radius: 50%;\n  filter: opacity(.5);\n  position: absolute;\n  width: ${(props: StyledCircleProps) => props.size};\n  height: ${props => props.size};\n  top: ${props => props.top};\n  left: ${props => props.left};\n  animation: ${scaleInAndOut} ${props => props.scale}s linear infinite alternate;\n`;\n\nexport default function FloatingCircles() {\n  const circles = Array(15).fill(0).map(\n    (el, index) =>\n      <StyledCircle\n        key={index}\n        size={`${getRandomInt(50, 500)}px`}\n        top={`${getRandomInt(0, 100)}%`}\n        left={`${getRandomInt(0, 100)}%`}\n        scale={getRandomInt(5, 30)}\n        />);\n\n  return (\n    <StyledCircleContainer>\n      {circles}\n    </StyledCircleContainer>);\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { Switch, Route, BrowserRouter } from 'react-router-dom';\n\nimport firebase from '../firebase/firebase';\nimport { User } from '../../types/types';\nimport ThirdPartyLogin from './ThirdPartyLogin';\nimport InternalLogin from './InternalLogin';\nimport FloatingCircles from '../common/FloatingCircles';\n\nconst debug = require('debug')('SelectUser');\n\nconst StyledParagraph = styled.p`\nfont-size: 3rem;\nmargin: 2rem;\n`;\n\nrequire('./selectuser.scss');\n\nconst LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: white;\n  height: 100%;\n`;\n\ninterface Props {\n  user: User;\n}\ninterface State {\n  user: string;\n  password: string;\n  feedback: string;\n  submitting: boolean;\n}\nclass Login extends React.Component<Props, State> {\n  constructor(props: any) {\n    super(props);\n    debug('constructor');\n    this.state = {\n      user: '',\n      password: '',\n      feedback: '',\n      submitting: false,\n    };\n  }\n\n  componentDidMount() {\n\n    debug('componentDidMount');\n\n    firebase.auth().getRedirectResult().then(() => {\n      debug('Login was apparently successful');\n    }).catch((error) => {\n      debug('Facebook login failed: ', error);\n\n      if (error) {\n        this.setState({\n          feedback: `Klarte ikke  logge deg inn med facebook. Feil: ${error}`,\n        });\n      }\n    });\n  }\n\n  render() {\n    const { feedback } = this.state;\n\n    const H1 = styled.h1`\n      color: white;\n      font-weight: 400;\n      margin: 4rem 0;\n    `;\n\n    \n\n    return (\n      <BrowserRouter>\n        <LoginContainer>\n          <H1>GAVENSKE.NO</H1>\n          <Switch>\n            <Route path=\"/internal\" component={InternalLogin} />\n            <Route component={ThirdPartyLogin} />\n          </Switch>\n          <StyledParagraph>{feedback}</StyledParagraph>\n          <FloatingCircles />\n        </LoginContainer>\n      </BrowserRouter>\n    );\n  }\n}\n\nconst mapStateToProps = ({ user }: { user: User }) => (\n  {\n    user,\n  });\n\nexport default connect(\n  mapStateToProps, null,\n)(Login);\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { setNameAndEmail as setNameAction } from '../../state/actions/user';\nimport { User } from '../../types/types';\n\nconst SetNameContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: white;\n  height: 100%;\n`;\n\nfunction submit(e: React.FormEvent<HTMLFormElement>, setTheName: (thename: string, email: string) => void, name: string, email: string) {\n  e.preventDefault();\n  setTheName(name, email);\n}\n\nexport function SetNameFunc({ setTheName, user }: { setTheName: (name: string) => void, user: User }) {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState(user.email);\n\n  return (\n    <SetNameContainer>\n      <form onSubmit={(e) => submit(e, setTheName, name, email)}>\n        <label htmlFor=\"name\">Velg navn</label>\n        <input type=\"text\" id=\"name\" value={name} onChange={(e: any) => setName(e.target.value)} />\n        <label htmlFor=\"email\">Epost</label>\n        <input disabled={!(user.email === null || user.email === '')} type=\"text\" id=\"email\" value={email} onChange={(e: any) => setEmail(e.target.value)} />\n        <input type=\"submit\" value=\"OK\" />\n      </form>\n\n    </SetNameContainer>);\n}\n\nexport default connect(({ user }: { user: User }) => ({\n  user\n}),\n  dispatch => ({\n    setTheName(name: string, email?: string) {\n      dispatch(setNameAction(name, email));\n    }\n  }))(SetNameFunc);","import { Reducer } from \"redux\";\nimport { UserState } from \"./types\";\n\nconst initialState: UserState = {\n  loaded: false,\n  uid: undefined,\n  email: undefined\n};\nconst debug = require('debug')('userReducer');\n\n\nconst userReducer: Reducer<UserState> = (state = initialState, action) => {\n  debug('Input: state: ', state, '. Action: ', action);\n\n  switch (action.type) {\n    case 'USER_LOADED': {\n      if (action.user) {\n        const { uid, email, name } = action.user;\n        return {\n          ...state,\n          uid,\n          email,\n          name,\n          loaded: true,\n        };\n      }\n      return {\n        ...state,\n        loaded: true,\n      };\n    }\n    case 'LOG_OUT': {\n      return initialState;\n    }\n    default:\n      return { ...state };\n  }\n};\n\nexport default userReducer;\n","import { Reducer } from 'redux';\nimport { WishState } from './types';\n\nconst initialState: WishState = {\n  loading: false,\n  wishes: {\n\n  }\n};\n\nconst userReducer: Reducer<WishState> = (state = initialState, action) => {\n  switch (action.type) {\n    case 'LOADING_STARTED': {\n      return {\n        ...state,\n        loading: true\n      }\n    }\n    case 'SET_USER_WISHES': {\n      const { uid, wishes } = action;\n      return {\n        ...state,\n        wishes: {\n          [uid]: action.wishes,\n        }\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","import { Reducer } from 'redux';\nimport { FriendsState } from './types';\n\nconst initialState: FriendsState = {\n  loaded: false,\n  loading: false,\n  friends: [],\n  userNotFound: false,\n  newFriend: undefined\n};\n\nconst reducer: Reducer<FriendsState> = (state = initialState, action) => {\n  switch (action.type) {\n    case 'LOAD_FRIENDS': {\n      return {\n        ...state,\n        loading: true,\n      };\n    }\n    case 'SET_FRIENDS': {\n      return {\n        ...state,\n        friends: action.newFriendList != null ? action.newFriendList : [],\n      };\n    }\n    case 'FRIENDS_LOADED': {\n      return {\n        ...state,\n        friends: action.data != null ? action.data : [],\n        loading: false,\n        loaded: true,\n      };\n    }\n    case 'FRIEND_NOT_FOUND': {\n      return {\n        ...state,\n        userNotFound: true\n      };\n    }\n    default:\n      return { ...state };\n  }\n};\n\nexport default reducer;","import { Reducer } from 'redux';\nimport { PurchaseState } from './types';\n\nconst initialState: PurchaseState = {\n  loading: false,\n  purchases: {\n\n  }\n};\n\nconst purchaseReducer: Reducer<PurchaseState> = (state = initialState, action) => {\n  switch (action.type) {\n    case 'LOADING_STARTED': {\n      return {\n        ...state,\n        loading: true\n      }\n    }\n    case 'SET_USER_PURCHASES': {\n      const { uid, purchases } = action;\n      return {\n        ...state,\n        purchases: {\n            ...state.purchases,\n            [uid]: purchases,\n        }\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default purchaseReducer;\n","import { combineReducers } from 'redux';\nimport user from './user';\n// import suggestion from './suggestion';\nimport wish from './wish';\nimport friends from './friends';\nimport purchase from './purchase';\nimport { UserState, WishState, FriendsState, PurchaseState } from './types';\n\nexport interface ApplicationState {\n  user: UserState,\n  wish: WishState,\n  friends: FriendsState,\n  purchase: PurchaseState\n} \n\nconst onskdegReducers = combineReducers<ApplicationState>({\n  user,\n  // suggestion,\n  wish,\n  friends,\n  purchase\n} as any);\n\nexport default onskdegReducers;\n","export const user = (state: any) => state.user;\nexport const friends = (state: any) => {\n  return state.friends.friends;\n};\n","import {\n    put, takeEvery, select, call,\n} from 'redux-saga/effects';\nimport firebase from '../../components/firebase/firebase';\nimport { user as userSelect, friends as friendsSelect } from '../selectors/selectors';\nimport { User } from '../../types/types';\n\nfunction getUserList(currentUser: User) {\n    return new Promise(((resolve) => {\n        firebase.database().ref(`users/${currentUser.uid}/friends`).once('value', (snapshot) => {\n            if (snapshot == null) {\n                return;\n            }\n            const resolveVal = snapshot.val();\n            resolve(resolveVal);\n        });\n    }));\n}\n\nfunction* loadUserList() {\n    const currentUser = yield select(userSelect);\n    const data = yield call(getUserList, currentUser);\n    yield put({ type: 'FRIENDS_LOADED', data });\n}\n\nfunction getFriendByEmail(mail: string) {\n    return new Promise((resolve, reject) => {\n        firebase.database().ref(`users`).once('value', (snapshot) => {\n            if (snapshot == null) {\n                return;\n            }\n            const usersObj = snapshot.val();\n            const userlistKeys = Object.keys(usersObj);\n            const userlist = userlistKeys.map(key => usersObj[key]);\n\n            const filteredList: Array<User> = userlist.filter((user: User) => user.email === mail);\n\n            if (filteredList.length == 1) {\n                resolve(filteredList.reduce((e: User) => e));\n            }\n            else {\n                resolve();\n            }\n        });\n    });\n}\n\nfunction* addFriend(input: any) {\n    const user = yield select(userSelect);\n    const friends = yield select(friendsSelect);\n    const { uid } = user;\n    const { newFriendMail }: { newFriendMail: string } = input;\n    const newFriend = yield getFriendByEmail(newFriendMail);\n    if (newFriend) {\n        const newUserList = [newFriend, ...friends];\n        firebase.database().ref(`users/${uid}/friends`).set(newUserList);\n        yield put({ type: 'FRIEND_FOUND_AND_ADDED', newFriend });\n    }\n    else {\n        yield put({ type: 'FRIEND_NOT_FOUND' });\n    }\n\n}\n\nfunction* deleteFriend(input: any) {\n    const user = yield select(userSelect);\n    const friends = yield select(friendsSelect);\n    const { uid } = user;\n    const { email } = input;\n\n    const newUserList = friends.filter((friend: User) => friend.email !== email);\n    firebase.database().ref(`users/${uid}/friends`).set(newUserList);\n}\n\nfunction* setNameAndEmail(input: any) {\n    const { name, email } = input;\n\n    const user = yield select(userSelect);\n    firebase.database().ref(`users/${user.uid}/name`).set(name);\n    if (email) {\n        firebase.database().ref(`users/${user.uid}/email`).set(email);\n    }\n    yield put({\n        type: 'USER_LOADED',\n        user: {\n            ...user,\n            name\n        }\n    });\n}\n\nexport function* userSaga() {\n    yield takeEvery('LOAD_FRIENDS', loadUserList);\n    yield takeEvery('ADD_FRIEND', addFriend);\n    yield takeEvery('DELETE_FRIEND', deleteFriend);\n    yield takeEvery('SET_NAME_AND_EMAIL', setNameAndEmail);\n}\n\n","import {\n  put, takeEvery, select,\n} from 'redux-saga/effects';\nimport firebase from '../../components/firebase/firebase';\nimport { user as userSelect, friends as friendsSelect } from '../selectors/selectors';\nimport { setWishesForUser, storeWishesToFirebase } from '../actions/wish';\n\nfunction* setOwnWishes(input: any) {\n  const { wishes } = input;\n  const { uid } = yield select(userSelect);\n\n  yield put(setWishesForUser({ uid, wishes }));\n}\n\nfunction storeWishes(input: any) {\n  const { uid, wishes } = input;\n  firebase.database().ref(`wishes/${uid}/wishes`).set(wishes);\n}\n\nfunction* storeWishesToFirebaseSaga(input: any) {\n  const currentUser = yield select(userSelect);\n  const { uid } = currentUser;\n  const { wishes } = input;\n  yield put(storeWishesToFirebase(uid, wishes));\n}\n\nexport function* wishSaga() {\n  yield takeEvery('SET_OWN_WISHES', setOwnWishes);\n  yield takeEvery('STORE_WISHES_TO_FIREBASE', storeWishes);\n  yield takeEvery('STORE_OWN_WISHES_TO_FIREBASE', storeWishesToFirebaseSaga);\n}\n","import {\n    put, takeEvery, select,\n} from 'redux-saga/effects';\nimport firebase from '../../components/firebase/firebase';\nimport { user as userSelect } from '../selectors/selectors';\n\nfunction* purchaseItem(input: any) {\n    const currentUser = yield select(userSelect);\n    const { uid, itemid } = input;\n    firebase.database().ref(`purchases/${uid}/${itemid}`).set({\n        checked: true,\n        checkedby: currentUser.email,\n        checkedtime: Date.now()\n    })\n}\n\nfunction sellItem(input: any) {\n    const { uid, itemid } = input;\n    firebase.database().ref(`purchases/${uid}/${itemid}`).set({\n        checked: false,\n        checkedby: '',\n        checkedtime: ''\n    })\n}\n\nexport function* purchaseSaga() {\n    yield takeEvery('PURCHASE_ITEM', purchaseItem);\n    yield takeEvery('SELL_ITEM', sellItem);\n}","import { put, takeEvery, all } from 'redux-saga/effects';\nimport { userSaga } from './usersaga';\nimport { wishSaga } from './wishsaga';\nimport { purchaseSaga } from './purchases';\n\nexport default function* rootSaga() {\n    yield all([\n      userSaga(),\n      wishSaga(),\n      purchaseSaga()\n    ])\n  }","import { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\n\nimport reducer from './state/reducers';\nimport rootSaga from './state/sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\n\n/* eslint-disable no-underscore-dangle */\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n/* eslint-enable */\n\nconst store = createStore(\n  reducer, /* preloadedState, */\n  composeEnhancers(applyMiddleware(sagaMiddleware)),\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import firebase from './firebase';\nimport { userLoaded } from '../../state/actions/user';\nimport store from '../../store';\nimport { User, FirebaseSnapshot } from '../../types/types';\n\nconst debug = require('debug')('authFirebase');\n\nconst obj = {\n  authChangeListener() {\n    firebase.auth().onAuthStateChanged((user: User) => {\n      debug('onAuthStateChanged. User logged in: ', user);\n\n      if (user) {\n        firebase.database().ref(`users/${user.uid}/name`).once('value', (snapshot) => {\n          const name = snapshot.val();\n          store.dispatch(userLoaded({ ...user, name}));\n        });\n        \n      } else {\n        store.dispatch(userLoaded(null));\n      }\n    });\n  },\n};\nexport default obj;\n","import React from 'react';\nimport {\n  BrowserRouter, Route, Switch, withRouter,\n} from 'react-router-dom';\nimport { Provider, connect } from 'react-redux';\nimport styled from 'styled-components';\n\nimport YourWishList from './components/yours/YourWishList';\nimport YourWishDetails from './components/yours/YourWishDetails';\n\nimport OthersWishListSelection from './components/otherwishlistselection/OthersWishListSelectionWrapper';\nimport OthersWishList from './components/others/OthersWishList';\nimport Header from './components/header/Header';\nimport Login from './components/login/Login';\nimport SetName from './components/setname/SetName';\n\nimport store from './store';\n\nimport authFirebase from './components/firebase/authFirebase';\nimport { ApplicationState } from './state/reducers';\nimport { UserState } from './state/reducers/types';\nimport Loading from './components/common/Loading';\n\ninterface AppProps {\n  user: UserState;\n}\n\n// To prevent route update blockin\nconst HeaderWithRouter = withRouter<any>(Header);\nconst AppComp = ({ user } : AppProps) => {\n  if (!user || !user.loaded) {\n    return <Loading />;\n  }\n  if (!user.uid) {\n    return <Login />;\n  }\n\n  if (!user.name) {\n    return <SetName />;\n  }\n  const MainWrapper = styled.div`\n    max-width: 870px;\n    margin: 0 auto;\n  `;\n  return (\n    <BrowserRouter>\n      <>\n        <HeaderWithRouter />\n        <Switch>\n          <Route path=\"/\" exact component={YourWishList} />\n          <Route path=\"/wish/:wishid\" exact component={YourWishDetails} />\n          <Route path=\"/others\" component={OthersWishListSelection} />\n          <Route path=\"/other/:name\" component={OthersWishList} />\n        </Switch>\n      </>\n    </BrowserRouter>\n  );\n};\n\nconst mapStateToProps = ({ user }: ApplicationState) => ({ user });\nconst AppCompWrapper = connect(mapStateToProps)(AppComp);\n\nconst App = () => (\n  <Provider store={store}>\n    <AppCompWrapper />\n  </Provider>\n);\n\nauthFirebase.authChangeListener();\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './global.scss';\nimport './index.scss';\nimport App from './App';\n\n/** Lets try this for now - disables service workers */\nnavigator.serviceWorker.getRegistrations().then(function(registrations) {\n  for(let registration of registrations) {\n   registration.unregister()\n } })\n\n// if ('serviceWorker' in navigator) {\n//     window.addEventListener('load', function() {\n//       navigator.serviceWorker.register('/service-worker.js');\n//     });\n//   }\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}