{"version":3,"sources":["components/firebase/firebase.ts","styles/colors.ts","components/common/ListRow.ts","components/common/Image.ts","components/common/Icon.tsx","components/common/IconButton.ts","components/wish/Wish.tsx","state/actions/wish.ts","components/common/container/Container.tsx","components/yours/YourWishList.tsx","components/common/Loading.tsx","components/yours/YourWishDetails.tsx","components/otherwishlistselection/addeduserlink/AddedUserLink.tsx","components/common/spinnerWhileLoading.tsx","components/otherwishlistselection/OthersWishListSelectionWrapper.tsx","state/actions/friends.ts","components/others/OtherWish.tsx","components/others/OthersWishList.tsx","state/actions/purchase.ts","state/actions/user.ts","components/common/Link.ts","components/header/Header.tsx","constants.ts","components/firebase/facebooklogin.ts","components/login/facebook-icon.svg","components/common/Spinner.tsx","components/common/Button.ts","components/login/ThirdPartyLogin.tsx","components/login/InternalLogin.tsx","components/common/FloatingCircles.tsx","components/login/Login.tsx","components/setname/SetName.tsx","state/reducers/user.ts","state/reducers/wish.ts","state/reducers/friends.ts","state/reducers/purchase.ts","state/reducers/index.ts","state/selectors/selectors.ts","state/sagas/usersaga.ts","state/sagas/wishsaga.ts","state/sagas/purchases.ts","state/sagas/index.ts","store.ts","components/firebase/authFirebase.ts","App.tsx","index.tsx"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","storageBucket","messagingSenderId","colors","primary","primaryDark","Color","fade","string","primaryLight","saturate","lighten","negative","positive","neutral","ListRowStyles","concat","ListRow","styled","div","_templateObject","LeftSection","_templateObject2","ImageWrapper","Image_templateObject","Icon","_ref","name","type","onClick","classFromProps","className","rest","Object","objectWithoutProperties","classes","react_default","a","createElement","assign","fill","xlinkHref","IconButton","IconButton_templateObject","NegativeIconButton","IconButton_templateObject2","NeutralIconButton","_templateObject3","GoldIconButton","_templateObject4","StyledActionButtons","_templateObject5","moveIn","keyframes","_templateObject6","StyledActionButtonsAnimated","_templateObject7","storageRef","storage","ref","debug","require","Link","RouterLink","Wish_templateObject","Wish","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","edit","text","wish","confirm","image","click","bind","assertThisInitialized","focusLost","updateText","deleteItem","cancel","deleteConfirmed","onDrop","child","getDownloadURL","then","url","setState","nextProps","input","focus","acceptedFiles","rejectedFiles","_this2","_this$props","addImage","imageName","id","split","put","on","e","target","value","_this$props2","deleteProp","delete","_this$props3","update","description","accomplished","accompllishedby","deleted","link","_this$state","imageState","alt","src","deleteWish","common_ListRow","Wish_Link","to","React","Component","setWishes","wishes","storeWishesToFirebase","uid","setWishesForUser","data","objectSpread","Container","Container_templateObject","YourWishList","newWish","feedback","addWish","updateWishState","deleteThis","user","updateWishStore","firebaseRef","database","snapshot","val","off","replace","c","r","Math","random","toString","preventDefault","newWishList","unshift","createGuid","map","_this$props4","deleteId","_this$props5","filteredNewWishList","filter","wishesEl","el","wish_Wish","key","container_Container","onSubmit","placeholder","onChange","Icon_Icon","connect","dispatch","newData","animation","Loading_templateObject","Spinner","Loading_templateObject2","Loading","StyledTitle","YourWishDetails_templateObject","StyledDescription","YourWishDetails_templateObject2","StyledLink","YourWishDetails_templateObject3","StyledWishComplete","YourWishDetails_templateObject4","OthersWishListWrapper","_ref2","ownProps","console","log","w","match","params","wishid","reduce","useEffect","NameLink","AddedUserLink_templateObject","AddedUserLink","deleteMe","email","spinnerWhileLoading","isLoading","branch","renderComponent","OthersWishListSelectionWrapper_templateObject","OthersWishListSelection","friends","newUser","updateUserState","addUserClickEvent","deleteUser","addUser","updateFriendStore","newUserMail","addFriend","deleteFriend","userNotFound","usersLinks","addeduserlink_AddedUserLink","StyledForm","form","OthersWishListSelectionWrapper_templateObject2","WithSpinner","loaded","loading","load","_ref2$friends","newFriend","deleteFriendAction","newFriendList","setFriends","newFriendMail","addFriendAction","OtherWish","wishInfo","purchase","imageTag","item","checked","linkifyed","Linkify_default","checkedByElem","OtherWish_templateObject","_onClick","apply","arguments","ActionButtonsContainer","OthersWishList_templateObject","OthersWishList","hideSelected","check","toggleShowSelected","shouldDisplayWish","setPurchases","wishRef","purchaseRef","purchases","purchaseItem","sellItem","friend","filteredWishes","others_OtherWish","deleteSuggestion","canDelete","checkedby","OthersWishList_ActionButtonsContainer","_ref3","_ref$friends","friendsFiltered","u","length","storeWishes","itemid","purchaseItemAction","sellItemAction","userLoaded","Link_templateObject","NavLink","RouterNavLink","Link_templateObject2","darken","StyledHeader","Header_templateObject","othersActive","location","pathname","startsWith","logout","_useState","useState","_useState2","slicedToArray","setFeedback","H1","h1","Header_templateObject2","UserEmail","span","Header_templateObject3","UserInfo","Header_templateObject4","ActionButtons","Header_templateObject5","CustomNavLink","Header_templateObject6","auth","signOut","logOut","Header_StyledHeader","activeClassName","exact","isActive","provider","FacebookAuthProvider","_extends","i","source","prototype","hasOwnProperty","facebook_icon_ref","d","__webpack_require__","p","spinnerKeyframe","Spinner_templateObject","Spinner_templateObject2","BorderStyles","BorderButton","button","Button_templateObject","BorderInput","Button_templateObject2","FacebookIcon","version","xmlnsXlink","x","y","width","height","viewBox","enableBackground","xmlSpace","ThirdPartyLogin_templateObject","ButtonSpinner","ThirdPartyLogin_templateObject2","ThirdPartyLogin","submitting","loginFacebook","stopPropagation","signInWithRedirect","facebook","SmButton","ThirdPartyLogin_templateObject3","Fragment","Link_Link","StyledInput","InternalLogin_templateObject","SubmitButton","InternalLogin_templateObject2","PasswordContainer","InternalLogin_templateObject3","StyledPeek","InternalLogin_templateObject4","InternalLogin","password","errorMessage","peek","updatePasswordState","logIn","togglePeek","signInWithEmailAndPassword","catch","error","errorCode","code","message","htmlFor","StyledCircleContainer","FloatingCircles_templateObject","getRandomInt","min","max","num","floor","scaleInAndOut","FloatingCircles_templateObject2","StyledCircle","FloatingCircles_templateObject3","size","top","left","scale","FloatingCircles","circles","Array","index","StyledParagraph","Login_templateObject","LoginContainer","Login_templateObject2","Login","getRedirectResult","Login_templateObject3","BrowserRouter","Switch","Route","path","component","SetNameContainer","SetName_templateObject","setTheName","setNameAction","setName","_useState3","_useState4","setEmail","submit","disabled","initialState","undefined","userReducer","action","_action$user","defineProperty","reducer","purchaseReducer","onskdegReducers","combineReducers","loadUserList","setNameAndEmail","userSaga","getUser","Promise","resolve","once","resolveVal","getUserList","currentUser","userList","promiseList","all","values","friendDetails","sum","next","result","regenerator_default","wrap","_context","prev","select","userSelect","sent","stop","_marked","getFriendByEmail","mail","reject","usersObj","filteredList","keys","newUserList","_context2","friendsSelect","toConsumableArray","set","_marked2","_context3","_marked3","_context4","_marked4","_context5","takeEvery","_marked5","setOwnWishes","storeWishesToFirebaseSaga","wishSaga","wishsaga_marked","wishsaga_marked2","wishsaga_marked3","purchaseSaga","checkedtime","Date","now","purchases_marked","purchases_marked2","rootSaga","sagas_marked","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","run","obj","authChangeListener","onAuthStateChanged","HeaderWithRouter","withRouter","Header","AppCompWrapper","login_Login","SetName","App_templateObject","YourWishDetails","authFirebase","App","es","navigator","serviceWorker","getRegistrations","registrations","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","unregister","err","return","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.0938a4a2.chunk.js","sourcesContent":["import firebase from 'firebase';\n\nconst config = {\n  apiKey: 'AIzaSyDRCFzLXgaM36t-0Vnhp2XbbQJrUjDmQAw',\n  authDomain: 'onskdeg.firebaseapp.com',\n  databaseURL: 'https://onskdeg.firebaseio.com',\n  storageBucket: 'onskdeg.appspot.com',\n  messagingSenderId: '776764935060',\n};\nfirebase.initializeApp(config);\nexport default firebase;\n","import Color from 'color';\n\nconst primary = \"#b49b57\";\nconst primaryDark = Color(primary).fade(.7).string();\nconst primaryLight = Color(primary).saturate(.5).lighten(.4).string();\n\nconst negative = \"#ff5656\";\nconst positive = \"#49b557\";\nconst neutral = \"#3988ea\";\n\nexport default {\n  primary,\n  primaryDark,\n  primaryLight,\n  negative,\n  positive,\n  neutral,\n}","import styled, { keyframes } from 'styled-components';\nimport colors from '../../styles/colors';\n\nexport const ListRowStyles = `\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: ${colors.primaryDark};\n  color: white;\n  padding-left: 50px;\n  margin-bottom: 2px;\n  height: 52px;\n  white-space: nowrap;\n`;\nexport const ListRow = styled.div`\n  ${ListRowStyles}\n`;\n\nexport const LeftSection = styled.div`\n      display: flex;\n      align-items: center;\n      flex-shrink: 1;\n      overflow: hidden;\n    `;\n\nexport default ListRow;","import styled from 'styled-components';\n\nexport const ImageWrapper = styled.div`\n      max-width: 36px;\n      max-height: 36px;\n      overflow: hidden;\n      position: absolute;\n      left: 8px;\n      top: 8px;\n    `;","import React from 'react';\n\nimport './Icon.scss';\n\ninterface IconProps {\n  name: string;\n  type: string;\n  onClick: (args: any) => void;\n  className?: string;\n}\n/* eslint-disable react/button-has-type */\nexport default function Icon({ name, type, onClick, className: classFromProps, ...rest }: IconProps) {\n  const classes = classFromProps ? `${classFromProps} icon` : 'icon';\n  return (\n    <button type={type} className={classes} onClick={onClick} {...rest}>\n      <svg className=\"icon__icon\" fill=\"currentColor\">\n        <use xlinkHref={`/svg/sprite.svg#icon-${name}`} />\n      </svg>\n    </button>\n  );\n}\n/* eslint-enable react/button-has-type */\n","import Icon from \"./Icon\";\nimport styled, { keyframes } from \"styled-components\";\nimport colors from \"../../styles/colors\";\n\nexport const IconButton = styled(Icon)`\n  height: 52px;\n  width: 52px;\n  max-height: 52px;\n  max-width: 52px;\n`;\nexport const NegativeIconButton = styled(IconButton)`\n  background: ${colors.negative};\n`;\nexport const NeutralIconButton = styled(IconButton)`\n  background: ${colors.neutral};\n`;\nexport const GoldIconButton = styled(IconButton)`\n  color: ${colors.primaryLight};\n`;\n\nexport const StyledActionButtons = styled.div`\ndisplay: flex;\njustify-content: flex-start;\nalign-items: center;\nflex-shrink: 0;\n`;\n\nconst moveIn = keyframes`\nfrom {\n  transform: translateX(100%);\n}\n\nto {\n  transform: translateX(0);\n}\n`;\n\nexport const StyledActionButtonsAnimated = styled(StyledActionButtons)`\nanimation: ${moveIn} .2s ease-in;\n`;","import React from 'react';\nimport Dropzone from 'react-dropzone';\nimport styled, { keyframes } from 'styled-components';\n\nimport firebase from '../firebase/firebase';\nimport Icon from '../common/Icon';\nimport { Wish as WishType } from '../../types/types';\nimport colors from '../../styles/colors';\nimport ListRow, { LeftSection } from '../common/ListRow';\nimport { ImageWrapper } from '../common/Image';\nimport { NeutralIconButton, NegativeIconButton, GoldIconButton, StyledActionButtons, StyledActionButtonsAnimated } from '../common/IconButton';\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst storageRef = firebase.storage().ref();\n\nconst debug = require('debug')('Wish');\n\nrequire('./wish.scss');\n\nexport const Link = styled(RouterLink)`\n  text-decoration: none;\n\n  &:visited, &:link {\n    color: white;\n  }\n  &:hover {\n    color: grey;\n  }\n`;\n\ninterface P {\n  wish: WishType\n  addImage: (wish: WishType, imageName: string) => void;\n  delete: (wishId: string) => void;\n  update: (wish: WishType) => void;\n}\n\ninterface S {\n  edit: boolean,\n  text: string,\n  confirm: boolean,\n  image: string\n}\n\nclass Wish extends React.Component<P, S> {\n\n  input: any;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      edit: false,\n      text: props.wish.name,\n      confirm: false,\n      image: '',\n    };\n    this.click = this.click.bind(this);\n    this.focusLost = this.focusLost.bind(this);\n    this.updateText = this.updateText.bind(this);\n    this.deleteItem = this.deleteItem.bind(this);\n    this.cancel = this.cancel.bind(this);\n    this.deleteConfirmed = this.deleteConfirmed.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    debug('props: ', props);\n\n    if (props.wish.image) {\n      storageRef.child(props.wish.image).getDownloadURL().then((url) => {\n        debug('url: ', url);\n        this.setState({\n          image: url,\n        });\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps: any) {\n    this.setState({\n      text: nextProps.wish.name,\n      confirm: nextProps.wish.confirm,\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.input) {\n      this.input.focus();\n    }\n  }\n\n  onDrop(acceptedFiles: any, rejectedFiles: any) {\n    debug('Looks like I dropped something', acceptedFiles, rejectedFiles);\n    const { wish, addImage } = this.props;\n\n    const imageName = `${wish.id}.${acceptedFiles[0].name.split('.')[1]}`;\n\n    const uploadTask = storageRef.child(imageName)\n      .put(acceptedFiles[0]);\n\n    uploadTask.on('state_changed', () => {\n    }, () => {\n      debug('Error. Wups.');\n    }, () => {\n      debug('Success!');\n      storageRef.child(imageName).getDownloadURL().then((url) => {\n        debug('url: ', url);\n        this.setState({\n          image: url,\n        });\n      });\n      addImage(wish, imageName);\n    });\n  }\n\n  updateText(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      text: e.target.value,\n    });\n  }\n\n  deleteItem() {\n    this.setState({\n      confirm: true,\n    });\n  }\n\n  cancel() {\n    this.setState({\n      confirm: false,\n    });\n  }\n\n  deleteConfirmed() {\n    const { delete: deleteProp, wish } = this.props;\n    deleteProp(wish.id);\n  }\n\n  focusLost() {\n    const { update, wish } = this.props;\n    const { text } = this.state;\n\n    this.setState({\n      edit: false,\n    });\n    update({\n      name: text,\n      id: wish.id,\n      image: wish.image,\n      description: wish.description,\n      accomplished: wish.accomplished,\n      accompllishedby: wish.accompllishedby,\n      deleted: wish.deleted,\n      link: wish.link\n    });\n  }\n\n  click() {\n    this.setState({\n      edit: true,\n    });\n  }\n\n  render() {\n    const { wish } = this.props;\n    const {\n      confirm, image: imageState, edit, text,\n    } = this.state;\n\n    const image = wish.image ? (<img className=\"wish__image wish__image--thumbnail\" alt=\"Awesome\" src={imageState} />) : '';\n\n    const deleteWish = confirm\n      ? (\n        <StyledActionButtonsAnimated>\n          <NeutralIconButton type=\"button\" name=\"x\" onClick={this.cancel} />\n          <NegativeIconButton type=\"button\" name=\"check\" onClick={this.deleteConfirmed} />\n        </StyledActionButtonsAnimated>)\n      : (\n        <StyledActionButtons>\n          <GoldIconButton type=\"button\" name=\"trash-2\" onClick={this.deleteItem} />\n        </StyledActionButtons>\n      );\n\n    return (\n      <ListRow>\n        <LeftSection>\n          <ImageWrapper>{image}</ImageWrapper>\n          <Link to={`/wish/${wish.id}`}>{text}</Link>\n        </LeftSection>\n        {deleteWish}\n      </ListRow>\n    );\n  }\n}\n\nexport default Wish;\n","import { Wish } from \"../../types/types\";\n\nexport const setWishes = (wishes: Array<Wish>) => (\n  {\n    type: 'SET_OWN_WISHES',\n    wishes,\n  }\n);\n\nexport const storeOwnWishesToFirebase = (wishes: Array<Wish>) => (\n  {\n    type: 'STORE_OWN_WISHES_TO_FIREBASE',\n    wishes,\n  }\n);\n\nexport const storeWishesToFirebase = (uid: string, wishes: Array<Wish>) => (\n  {\n    type: 'STORE_WISHES_TO_FIREBASE',\n    uid,\n    wishes,\n  }\n);\n\nexport const setWishesForUser = (data: any) => (\n  {\n    type: 'SET_USER_WISHES',\n    ...data,\n  }\n);","import styled from 'styled-components';\n\nconst Container = styled.div`\n  max-width: 870px;\n  margin: 0 auto;\n`;\n\nexport default Container;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Wish from '../wish/Wish';\nimport firebase from '../firebase/firebase';\nimport Icon from '../common/Icon';\n\nimport { setWishes, storeOwnWishesToFirebase } from '../../state/actions/wish';\nimport { Wish as WishType, User, FirebaseSnapshot } from '../../types/types';\nimport Container from '../common/container/Container';\n\nconst debug = require('debug')('YourWishList');\n\nrequire('./yourwishlist.scss');\n\ninterface P {\n  user: User;\n  updateWishStore: (newWishes: Array<WishType>) => void;\n  storeWishesToFirebase: (newWishes: Array<WishType>) => void;\n  wishes: Array<WishType>;\n}\n\ninterface S {\n  newWish: string;\n  feedback: string;\n}\n\nclass YourWishList extends React.Component<P,S> {\n\n  firebaseRef: any;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      newWish: '',\n      feedback: '',\n    };\n\n    this.addWish = this.addWish.bind(this);\n    this.updateWishState = this.updateWishState.bind(this);\n    this.update = this.update.bind(this);\n    this.deleteThis = this.deleteThis.bind(this);\n    this.addImage = this.addImage.bind(this);\n  }\n\n  componentDidMount() {\n    debug('componentDidMount');\n    const { user, updateWishStore } = this.props;\n\n    this.firebaseRef = firebase.database().ref(`wishes/${user.uid}/wishes`);\n\n    this.firebaseRef.on('value', (snapshot: FirebaseSnapshot) => {\n      updateWishStore(snapshot.val());\n    });\n  }\n\n  componentWillUnmount() {\n    this.firebaseRef.off();\n  }\n\n  /*eslint-disable */\n  createGuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n    return v.toString(16);\n    });\n  }\n  /* eslint-enable */\n\n\n  updateWishState(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      newWish: e.target.value,\n    });\n  }\n\n  addWish(e: React.FormEvent<HTMLFormElement>) {\n    const { user, wishes, storeWishesToFirebase } = this.props;\n    const { newWish } = this.state;\n\n    e.preventDefault();\n\n    if (newWish === '') {\n      this.setState({\n        feedback: 'Ønsket kan ikke være tomt',\n      });\n      return;\n    }\n\n    debug('Adding wish');\n    const newWishList = Object.assign([], wishes);\n    newWishList.unshift({\n      name: newWish,\n      id: this.createGuid(),\n      image: '',\n      accomplished: false,\n      accompllishedby: '',\n      deleted: false,\n      description: '',\n      link: ''\n    });\n\n    storeWishesToFirebase(newWishList);\n\n    this.setState({\n      newWish: '',\n      feedback: '',\n    });\n  }\n\n  update(wish: WishType) {\n    debug('Saving wishlist: ', wish);\n    const { user, wishes, storeWishesToFirebase } = this.props;\n\n    const newWishList = wishes.map((e) => {\n      if (e.id === wish.id) {\n        return {\n          name: wish.name,\n          id: wish.id,\n          image: wish.image ? wish.image : '',\n          ...wish\n        };\n      }\n      return e;\n    });\n    storeWishesToFirebase(newWishList);\n  }\n\n  addImage(wish: WishType, image: string) {\n    debug('Adding image to wish: ', wish, image);\n    const { wishes, storeWishesToFirebase } = this.props;\n    const newWishList = wishes.map((e) => {\n      if (e.id === wish.id) {\n        return {\n          name: wish.name,\n          id: wish.id,\n          image,\n          ...wish\n        };\n      }\n      return e;\n    });\n    storeWishesToFirebase(newWishList);\n  }\n\n  deleteThis(deleteId: string) {\n    debug('Delete id: ', deleteId);\n    const { user, wishes, storeWishesToFirebase } = this.props;\n    const newWishList = Object.assign([], wishes);\n\n    const filteredNewWishList = newWishList.filter((e: WishType) => {\n      debug(e.id);\n      return e.id !== deleteId;\n    });\n\n    debug('Wish list after deletion: ', newWishList);\n\n    storeWishesToFirebase(filteredNewWishList);\n  }\n\n  render() {\n    debug('This.props. ', this.props);\n    const { wishes } = this.props;\n    const { newWish, feedback } = this.state;\n\n    const wishesEl = wishes.map((el: WishType) => {\n      debug('Creating wish based on this el: ', el);\n      return (\n        <Wish\n          key={el.id}\n          update={this.update}\n          delete={this.deleteThis}\n          addImage={this.addImage}\n          wish={el}\n        />);\n    });\n\n    debug('Wishes: ', wishesEl);\n    \n    return (\n      <Container>\n        <form onSubmit={this.addWish}>  \n          <div className=\"your-wishlist__add-wish-wrapper\">\n            <input\n              type=\"text\"\n              placeholder=\"Legg inn nye ønsker her\"\n              className=\"your-wishlist__add-wish-textarea\"\n              value={newWish}\n              onChange={this.updateWishState}\n            />\n            <Icon type=\"submit\" name=\"check\" onClick={() => null} className=\"your-wishlist__add-wish-submit\" />\n            <div>{feedback}</div>\n          </div>\n        </form>\n\n        <div className=\"your-wishlist__wishlist\">\n          {wishesEl}\n        </div>\n      </Container>\n    );\n  }\n}\n\nexport default connect(\n  ({ wish: { wishes }, user }: { wish: any, user: User}) => {\n    debug('User wishes', wishes[user.uid]);\n    return {\n      wishes: wishes[user.uid] ? wishes[user.uid] : [],\n      user,\n    };\n  },\n  dispatch => ({\n    updateWishStore: (newData: Array<WishType>) => {\n      dispatch(setWishes(newData));\n    },\n    storeWishesToFirebase: (newData: Array<WishType>) => {\n      dispatch(storeOwnWishesToFirebase(newData));\n    },\n  }),\n)(YourWishList);\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst animation = keyframes`\n  0% {\n    top: 6px;\n    height: 51px;\n  }\n  50%, 100% {\n    top: 19px;\n    height: 26px;\n  }\n`;\n\nconst Spinner = styled.div`\n  display: inline-block;\n  position: relative;\n  width: 64px;\n  height: 64px;\n  div {\n    display: inline-block;\n    position: absolute;\n    left: 6px;\n    width: 13px;\n    background: #fff;\n    animation: ${animation} 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\n  }\n  div:nth-child(1) {\n    left: 6px;\n    animation-delay: -0.24s;\n  }\n  div:nth-child(2) {\n    left: 26px;\n    animation-delay: -0.12s;\n  }\n  div:nth-child(3) {\n    left: 45px;\n    animation-delay: 0;\n  }\n`;\n\nexport default () => (\n  <Spinner>\n    <div />\n    <div />\n    <div />\n  </Spinner>\n);\n","import React, { useEffect } from 'react';\nimport Container from '../common/container/Container';\nimport { Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { ApplicationState } from '../../state/reducers';\nimport spinnerWhileLoading from '../common/spinnerWhileLoading';\nimport { User, Wish } from '../../types/types';\nimport styled from 'styled-components';\nimport { setWishes } from '../../state/actions/wish';\nimport Loading from '../common/Loading';\nimport firebase from '../firebase/firebase';\n\nconst StyledTitle = styled.div`\n`;\n\nconst StyledDescription = styled.div`\n`;\n\nconst StyledLink = styled.div`\n`;\n\nconst StyledWishComplete = styled.div`\n\n`;\n\nfunction YourWishDetails({ wish, user, updateWishStore }: { wish: Wish, user: User, updateWishStore: Function}) {\n    useEffect(() => {\n        const firebaseRef = firebase.database().ref(`wishes/${user.uid}/wishes`);\n\n        firebaseRef.on('value', (snapshot: any) => {\n            updateWishStore(snapshot.val());\n        });\n\n        return () => {\n            firebaseRef.off();\n        }\n    }, [])\n\n    if(wish == null) {\n        return <Loading />\n    }\n\n    return (\n    <Container>\n        <StyledTitle>{wish.name}</StyledTitle>\n        <StyledDescription>\n            <div>Beskrivelse</div>\n            <div>Viktig at de er blå.</div>\n        </StyledDescription>\n        <StyledLink>https://testlink.no/bla</StyledLink>\n        <StyledWishComplete>\n            <button type=\"text\">Jeg har oppfylt ønsket</button>\n        </StyledWishComplete>\n    </Container>);\n}\n  \n  const OthersWishListWrapper = connect(\n    ({ wish, user }: { wish: any, user: User}, ownProps: any ) => {\n        console.log(wish[user.uid]);\n        return {\n          wish: wish[user.uid] ? wish[user.uid].filter((w: Wish) => w.id === ownProps.match.params.wishid).reduce((w: Wish) => w) : [],\n          user,\n        };\n      },\n    (dispatch: Dispatch, ownProps: any) => ({\n        updateWishStore: (newData: Array<Wish>) => {\n            dispatch(setWishes(newData));\n          },\n      }))(YourWishDetails);\n  \n  export default OthersWishListWrapper;","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport ListRow from '../../common/ListRow';\nimport { GoldIconButton } from '../../common/IconButton';\n\nrequire('./addeduserlink.css');\n\ninterface NewUser {\n  name: string;\n  email: string;\n  uid: string;\n}\n\nconst NameLink = styled(Link)`\n  text-decoration: none;\n  color: white;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  &:visited {\n    color: white;\n  }\n`;\n\ninterface Props {\n  el: NewUser;\n  deleteMe: (email: string) => void;\n}\nconst AddedUserLink = ({ el, deleteMe }: Props) => (\n  <ListRow>\n    <NameLink to={`/other/${el.uid}`}>{el.name}</NameLink>\n    <GoldIconButton\n      type=\"button\"\n      name=\"trash-2\"\n      className=\"added-user-link__delete smallspace button\"\n      onClick={() => deleteMe(el.email)}\n    >\n      {'Slett'}\n    </GoldIconButton>\n  </ListRow>\n  );\n\nexport default AddedUserLink;\n","import { branch, renderComponent } from 'recompose';\nimport Spinner from './Loading';\n\nexport default (isLoading: any) => branch(\n  isLoading,\n  renderComponent(Spinner), // `Spinner` is a React component\n);\n","import { connect } from 'react-redux';\nimport React from 'react';\nimport { any, array } from 'prop-types';\nimport styled from 'styled-components';\n\nimport AddedUserLink from './addeduserlink/AddedUserLink';\nimport store from '../../store';\nimport Container from '../common/container/Container';\nimport firebase from '../firebase/firebase';\nimport { loadFriends, setFriends } from '../../state/actions/friends';\nimport spinnerWhileLoading from '../common/spinnerWhileLoading';\nimport { User, FirebaseSnapshot } from '../../types/types';\nimport { deleteFriend as deleteFriendAction, addFriend as addFriendAction } from '../../state/actions/friends';\n\nconst debug = require('debug')('OthersWishListSelection');\n\nrequire('./otherswishlistselection.css');\n\nconst StyledHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 2rem;\n  border-bottom: 1px solid black;\n`;\n\ninterface P {\n  user: User;\n  friends: Array<User>;\n  addFriend: (newFriendMail: string) => void;\n  deleteFriend: (email: string) => void;\n  updateFriendStore: (newFriendList: Array<User>) => void;\n  newFriend: User;\n  userNotFound: boolean;\n}\n\ninterface S {\n  newUser: string;\n  feedback: string;\n}\n\nclass OthersWishListSelection extends React.Component<P,S> {\n\n  firebaseRef: any;\n\n  constructor(props: any) {\n    super(props);\n    const { friends } = props;\n    const initialUsers = friends || [];\n\n    this.state = {\n      newUser: '',\n      feedback: '',\n    };\n    this.updateUserState = this.updateUserState.bind(this);\n    this.addUserClickEvent = this.addUserClickEvent.bind(this);\n    this.deleteUser = this.deleteUser.bind(this);\n    this.addUser = this.addUser.bind(this);\n  }\n\n  componentDidMount() {\n    const { user, updateFriendStore } = this.props;\n    const { uid } = user;\n\n    this.firebaseRef = firebase.database().ref(`users/${uid}/friends`);\n    this.firebaseRef.on('value', (snapshot: FirebaseSnapshot) => {\n      updateFriendStore(snapshot.val());\n    });\n  }\n\n  componentWillUnmount() {\n    this.firebaseRef.off();\n  }\n\n  updateUserState(e: React.ChangeEvent<HTMLInputElement>) {\n    debug('updateUserState');\n\n    this.setState({ newUser: e.target.value });\n  }\n\n  addUserClickEvent(e: React.FormEvent<HTMLFormElement>) {\n    debug('addUserClickEvent', e);\n    const { newUser } = this.state;\n\n    e.preventDefault();\n    this.addUser(newUser);\n    this.setState({\n      newUser: ''\n    })\n  }\n\n  addUser(newUserMail: string) {\n    const { addFriend } = this.props;\n    addFriend(newUserMail);\n  }\n\n  deleteUser(email: string) {\n    const { deleteFriend } = this.props;\n    deleteFriend(email);\n  }\n\n  render() {\n    const { newUser, feedback } = this.state;\n    const { friends, userNotFound } = this.props;\n\n    const usersLinks = friends != null ? friends.map(el => (<AddedUserLink key={el.uid} deleteMe={this.deleteUser} el={el} />)) : null;\n\n    const StyledForm = styled.form`\n      display: flex;\n      align-items: center;\n    `;\n\n    return (\n      <Container>\n        <div className=\"wishlist-selection__added-users-container\">\n          {usersLinks}\n        </div>\n\n        <StyledForm onSubmit={this.addUserClickEvent}>\n          <p>Legg til (legg inn epost)</p>\n          <input value={newUser} onChange={this.updateUserState} />\n          <input className=\"button button--padded\" type=\"submit\" value=\"OK\" />\n        </StyledForm>\n\n        {userNotFound && <p>Fant ikke bruker</p>}\n        <p>{feedback}</p>\n      </Container>\n    );\n  }\n}\n\nconst WithSpinner = spinnerWhileLoading(({ loaded, loading, load }: { loaded: boolean, loading: boolean, load: () => void}) => {\n  if (!loaded && !loading) {\n    load();\n  }\n  return !loaded;\n})(OthersWishListSelection);\n\nexport default connect(\n  ({ user, friends: { friends, loaded, loading, newFriend, userNotFound } }: { user: User, friends: { friends: Array<User>, loaded: boolean, loading: boolean, newFriend: User, userNotFound: boolean } }) => (\n    {\n      newFriend,\n      userNotFound,\n      user,\n      friends,\n      loaded,\n      loading\n    }\n  ),\n  dispatch => ({\n    load: () => dispatch(loadFriends()),\n    deleteFriend: (email: string) => {\n      dispatch(deleteFriendAction(email));\n    },\n    updateFriendStore(newFriendList: Array<User>) {\n      dispatch(setFriends(newFriendList));\n    },\n    addFriend(newFriendMail: string) {\n      dispatch(addFriendAction(newFriendMail));\n    }\n  }),\n)(WithSpinner);\n","import { User } from \"../../types/types\";\n\nexport const loadFriends = () => ({\n  type: 'LOAD_FRIENDS',\n});\n\nexport const addFriend = (newFriendMail: string) => ({\n  type: 'ADD_FRIEND',\n  newFriendMail\n})\n\nexport const deleteFriend = (email: string) => ({\n  type: 'DELETE_FRIEND',\n  email\n})\n\nexport const setFriends = (newFriendList: Array<User>) => ({\n  type: \"SET_FRIENDS\",\n  newFriendList\n})","import React from 'react';\nimport Linkify from 'react-linkify';\nimport firebase from '../firebase/firebase';\nimport Icon from '../common/Icon';\nimport ListRow, { LeftSection } from '../common/ListRow';\nimport styled from 'styled-components';\n\nimport './otherwish.css';\nimport { Wish, Purchase } from '../../types/types';\nimport { ImageWrapper } from '../common/Image';\nimport { StyledActionButtonsAnimated, StyledActionButtons } from '../common/IconButton';\n\nconst storageRef = firebase.storage().ref();\n\nconst debug = require('debug')('OtherWish');\n\ninterface P {\n  purchase: Purchase;\n  wishInfo: Wish;\n  canDelete: boolean;\n  deleteSuggestion: () => void;\n  onClick: Function;\n};\n\ninterface S {\n  image: string;\n}\n\nclass OtherWish extends React.Component<P, S> {\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      image: '',\n    };\n\n    if (props.wishInfo.image) {\n      storageRef.child(props.wishInfo.image).getDownloadURL().then((url) => {\n        debug('url: ', url);\n        this.setState({\n          image: url,\n        });\n      });\n    }\n  }\n\n  render() {\n    const {\n      wishInfo, onClick, purchase\n    } = this.props;\n    const { image } = this.state;\n\n    const imageTag = wishInfo.image\n      ? (<img className=\"other-wish__image\" alt=\"Awesome\" src={image} />) : '';\n\n    const item = purchase.checked\n      ? (\n        <del>{wishInfo.name}</del>\n      )\n      : wishInfo.name;\n    const linkifyed = (\n      <Linkify className=\"other-wish__linkify\">{item}</Linkify>\n    );\n    const checkedByElem = purchase.checked\n      ? (\n        <div className=\"smallspace\">Tatt</div>) : '';\n\n    const ActionButtonsContainer = styled.div`\n      display: flex;\n      justify-content: flex-end;\n    `;\n\n    return (\n      <ListRow>\n        <LeftSection>\n          <ImageWrapper>{imageTag}</ImageWrapper>\n          {linkifyed}\n        </LeftSection>\n        <StyledActionButtons>\n          {checkedByElem}\n          <Icon type=\"button\" name={purchase.checked ? 'shopping-cart' : 'shopping-cart'} onClick={() => onClick(wishInfo.id)} />\n        </StyledActionButtons>\n      </ListRow>\n    );\n  }\n}\n\nexport default OtherWish;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport styled from 'styled-components';\n\nimport Container from '../common/container/Container';\nimport firebase from '../firebase/firebase';\n// import Comments from './Comments';\n// import Suggestions from '../suggestions/Suggestions';\nimport OtherWish from './OtherWish';\nimport { setWishesForUser, storeWishesToFirebase } from '../../state/actions/wish';\nimport { setPurchasesForUser, purchaseItem as purchaseItemAction, sellItem as sellItemAction } from '../../state/actions/purchase';\nimport Icon from '../common/Icon';\nimport { User, Wish, Purchases } from '../../types/types';\nimport { ApplicationState } from '../../state/reducers';\nimport spinnerWhileLoading from '../common/spinnerWhileLoading';\nimport { loadFriends } from '../../state/actions/friends';\n\nconst ActionButtonsContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`;\n\nconst debug = require('debug')('OthersWishList');\n\ninterface Props {\n  match: { params: { name: string }};\n  setWishes: (name: string, newWishList: Array<Wish>) => void;\n  setPurchases: (name: string, purchasesForUser: Purchases) => void;\n  storeWishes: (name: string, newWishList: Array<Wish>) => void;\n  purchaseItem: (uid: string, itemid: string) => void;\n  sellItem: (uid: string, itemid: string) => void;\n  user: User;\n  wishes: Array<Wish>;\n  friend: User;\n  purchases: Purchases;\n}\ninterface State {\n  hideSelected: boolean;\n  feedback: string;\n}\nclass OthersWishList extends React.Component<Props, State> {\n  wishRef?: firebase.database.Reference;\n  purchaseRef?: firebase.database.Reference;\n\n  constructor(props: any) {\n    super(props);\n    debug('constructor');\n    this.state = {\n      hideSelected: true, feedback: '',\n    };\n    this.check = this.check.bind(this);\n    this.toggleShowSelected = this.toggleShowSelected.bind(this);\n    this.shouldDisplayWish = this.shouldDisplayWish.bind(this);\n  }\n\n  componentDidMount() {\n    debug('componentDidMount');\n    const { match: { params: { name } }, setWishes, setPurchases } = this.props;\n\n    this.wishRef = firebase.database().ref(`wishes/${name}/wishes`);\n    this.purchaseRef = firebase.database().ref(`purchases/${name}`);\n\n    this.wishRef.on('value', (snapshot) => {\n      setWishes(name, snapshot && snapshot.val());\n    });\n\n    this.purchaseRef.on('value', (snapshot) => {\n      setPurchases(name, snapshot && snapshot.val());\n    });\n\n  }\n\n  componentWillUnmount() {\n    this.wishRef && this.wishRef.off();\n  }\n\n  check(id: string) {\n    const { purchases, purchaseItem, sellItem, match: { params: { name } } } = this.props;\n    if(purchases[id].checked) {\n      sellItem(name, id);\n      this.setState({ feedback: 'Solgt!' });\n    }\n    else {\n      purchaseItem(name, id);\n      this.setState({ feedback: 'Kjøpt!' });\n    }\n    \n    \n  }\n\n  toggleShowSelected(e: React.MouseEvent<HTMLElement>) {\n    debug('toggleShowSelected', e);\n    const { hideSelected } = this.state;\n\n    e.preventDefault();\n    this.setState({\n      hideSelected: !hideSelected,\n    });\n  }\n\n  shouldDisplayWish(el: Wish, purchases: Purchases) {\n    const {\n      hideSelected,\n    } = this.state;\n\n    debug('Wish to be filtered: ', el);\n    return !(purchases[el.id] && purchases[el.id].checked) || !hideSelected;\n  }\n\n  render() {\n    const {\n      hideSelected, feedback,\n    } = this.state;\n    const { wishes, friend, purchases } = this.props;\n\n    const filteredWishes = wishes.filter((el) => this.shouldDisplayWish(el, purchases)).map(wishInfo => (\n      <OtherWish deleteSuggestion={() => null} canDelete={false} key={wishInfo.id} onClick={this.check} wishInfo={wishInfo} purchase={purchases[wishInfo.id] ? purchases[wishInfo.id] : { checked: false, checkedby: '' }} />));\n\n    return (\n      <Container>\n\n        <div className=\"flex-row space-between\">\n          <h1 className=\"shrink overflow-hidden\">\n            {`Ønskelisten til ${friend.name}`}\n          </h1>\n        </div>\n        <ActionButtonsContainer>\n          <Icon type=\"button\" name={hideSelected ? 'eye' : 'eye-off'} onClick={this.toggleShowSelected} />\n        </ActionButtonsContainer>\n        <p>{feedback}</p>\n        {filteredWishes}\n      </Container>\n    );\n  } \n}\n\nconst mapStateToProps = ({ purchase, wish, user, friends: { loading, loaded, friends } }: ApplicationState, { match: { params: { name } } }: any) => {\n  const friendsFiltered = friends.filter(u => u.uid === name);\n\n  return {\n    wishes: wish.wishes[name] || [],\n    purchases: purchase.purchases[name] || {},\n    user,\n    loading,\n    loaded,\n    friend: friendsFiltered.length > 0 ? friendsFiltered.reduce(e => e) : {}\n  }\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  load: () => dispatch(loadFriends()),\n  setWishes(uid: string, newWishList: Array<Wish>) {\n    dispatch(setWishesForUser({ uid, wishes: newWishList }));\n  },\n  setPurchases(uid: string, purchases: Purchases) {\n    dispatch(setPurchasesForUser({uid, purchases}))\n  },\n  storeWishes(uid: string, newWishList: Array<Wish>) {\n    dispatch(storeWishesToFirebase(uid, newWishList));\n  },\n  purchaseItem(uid: string, itemid: string) {\n    dispatch(purchaseItemAction(uid, itemid));\n  },\n  sellItem(uid: string, itemid: string) {\n    dispatch(sellItemAction(uid, itemid));\n  }\n});\n\nconst WithSpinner = spinnerWhileLoading(({ loaded, loading, load }: { loaded: boolean, loading: boolean, load: () => void}) => {\n  if (!loaded && !loading) {\n    load();\n  }\n  return !loaded;\n})(OthersWishList);\n\nconst OthersWishListWrapper = connect(mapStateToProps, mapDispatchToProps)(WithSpinner);\n\nexport default OthersWishListWrapper;\n","export const setPurchasesForUser = (data: any) => (\n    {\n      type: 'SET_USER_PURCHASES',\n      ...data,\n    }\n  );\n  \nexport const purchaseItem = (uid: string, itemid: string) => (\n    {\n      type: 'PURCHASE_ITEM',\n      uid,\n      itemid\n    }\n  );\n\n  export const sellItem = (uid: string, itemid: string) => (\n    {\n      type: 'SELL_ITEM',\n      uid,\n      itemid\n    }\n  );","import { User } from \"../../types/types\";\n\nexport const setNameAndEmail = (name: string, email?: string) => ({\n  type: 'SET_NAME_AND_EMAIL',\n  name,\n  email\n});\n\nexport const userLoaded = (user: User | null) => (\n  {\n    type: 'USER_LOADED',\n    user,\n  }\n);\n\nexport const logout = () => (\n  {\n    type: 'LOG_OUT',\n  }\n);\n","import styled from 'styled-components';\nimport { Link as RouterLink, NavLink as RouterNavLink } from 'react-router-dom';\nimport colors from '../../styles/colors';\nimport Color from 'color';\n\nexport const Link = styled(RouterLink)`\n  text-decoration: none;\n  border-bottom: 2px solid ${colors.primary};\n  font-weight: 400;\n\n  &:visited, &:link {\n    color: white;\n  }\n  &:hover {\n    color: grey;\n  }\n`;\n\nexport const NavLink = styled(RouterNavLink)`\n  background: ${colors.primaryDark};\n  color: ${Color('white').darken(.3).string()};\n  text-decoration: none;\n  padding: .8rem;\n  &.selected {\n    color: white;\n    background: ${colors.primary};\n  }\n`;\n\nexport default {\n  Link,\n  NavLink,\n};\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\n\nimport firebase from '../firebase/firebase';\nimport { logout as logoutAction } from '../../state/actions/user';\nimport { ApplicationState } from '../../state/reducers';\nimport { UserState } from '../../state/reducers/types';\nimport { APP_TITLE } from '../../constants';\nimport { NavLink } from '../common/Link';\nimport Container from '../common/container/Container';\n\nconst StyledHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: .8rem;\n`;\n\nfunction logOut(setFeedback: (n: string) => void, logout: () => void) {\n  firebase.auth().signOut().then(() => {\n    setFeedback('Du er nå logget ut');\n    logout();\n  }, (e) => {\n    console.log(e);\n    setFeedback('Noe gikk galt under utlogging.');\n  });\n}\n\nconst othersActive = (match: any, location: any) => location.pathname.startsWith(\"/other\");\n\nexport interface HeaderProps {\n  user?: UserState;\n  logout: () => void;\n}\nconst HeaderComponent = ({ user, logout }: HeaderProps) => {\n  const [feedback, setFeedback] = useState('');\n\n  if (!user || !user.uid) {\n    return null;\n  }\n\n  const H1 = styled.h1`\n    color: white;\n  `;\n  const UserEmail = styled.span`\n    margin-right: 10px;\n  `;\n  const UserInfo = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin-bottom: .5rem;\n    padding-right: .5rem;\n  `;\n  const ActionButtons = styled.div`\n    display: flex;\n    width: 100%;\n  `;\n  const CustomNavLink = styled(NavLink)`\n    width: 50%;\n  `;\n  return (\n    <Container>\n      <H1>{APP_TITLE}</H1>\n      <UserInfo>\n        <UserEmail>{user ? user.email : 'Ukjent'}</UserEmail>\n        <button type=\"button\" className=\"button-navigation button--square\" onClick={() => logOut(setFeedback, logout)}>Logg ut</button>\n        {feedback}\n      </UserInfo>\n      <StyledHeader>\n        <ActionButtons>\n          <CustomNavLink activeClassName=\"selected\" exact to=\"\">Mine ønsker</CustomNavLink>\n          <CustomNavLink activeClassName=\"selected\" isActive={othersActive} to=\"/others\">Vennelister</CustomNavLink>\n        </ActionButtons>\n      </StyledHeader>\n    </Container>\n  );\n};\n\nconst mapStateToProps = ({ user }: ApplicationState) => ({ user });\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  logout() {\n    dispatch(logoutAction());\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderComponent);\n","export const APP_TITLE = 'GAVEØNSKE.NO';\n\n","import firebase from './firebase';\n\nconst provider = new firebase.auth.FacebookAuthProvider();\nexport default provider;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  id: \"Blue_1_\",\n  fill: \"#3C5A99\",\n  d: \"M248.082,262.307c7.854,0,14.223-6.369,14.223-14.225V18.812 c0-7.857-6.368-14.224-14.223-14.224H18.812c-7.857,0-14.224,6.367-14.224,14.224v229.27c0,7.855,6.366,14.225,14.224,14.225 H248.082z\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  id: \"f\",\n  fill: \"#FFFFFF\",\n  d: \"M182.409,262.307v-99.803h33.499l5.016-38.895h-38.515V98.777c0-11.261,3.127-18.935,19.275-18.935 l20.596-0.009V45.045c-3.562-0.474-15.788-1.533-30.012-1.533c-29.695,0-50.025,18.126-50.025,51.413v28.684h-33.585v38.895h33.585 v99.803H182.409z\"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    version: 1.1,\n    id: \"Layer_1\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"266.893px\",\n    height: \"266.895px\",\n    viewBox: \"0 0 266.893 266.895\",\n    enableBackground: \"new 0 0 266.893 266.895\",\n    xmlSpace: \"preserve\"\n  }, props), _ref, _ref2);\n};\n\nexport default __webpack_public_path__ + \"static/media/facebook-icon.3ae13bc8.svg\";\nexport { SvgComponent as ReactComponent };","import styled, { keyframes } from 'styled-components';\n\nconst spinnerKeyframe = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst Spinner = styled.div`\n  display: flex;\n  width: 24px;\n  height: 24px;\n  justify-content: center;\n  align-items: center;\n  &::after {\n    content: \" \";\n    display: block;\n    width: 24px;\n    height: 24px;\n    transform: translateY(50%);\n    border-radius: 50%;\n    border: 3px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: ${spinnerKeyframe} 1.2s linear infinite;\n  }\n`;\n\nexport default Spinner;\n","import styled from 'styled-components';\nimport colors from '../../styles/colors';\n\nconst BorderStyles = `\n  border: 2px solid ${colors.primary};\n  padding: 7px 14px;\n  background: transparent;\n  border-radius: 8px;\n  outline: none;\n  font-size: 16px;\n  color: white;\n  max-width: 300px;\n  min-height: 48px;\n  margin-bottom: 16px;\n  cursor: pointer;\n`;\n\nexport const BorderButton = styled.button`\n  ${BorderStyles}\n`;\n\nexport const BorderInput = styled.input`\n  ${BorderStyles}\n`;\n\nexport default {\n  BorderButton,\n  BorderInput,\n}","import React from 'react';\nimport styled from 'styled-components';\n\nimport facebook from '../firebase/facebooklogin';\nimport firebase from '../firebase/firebase';\n\nimport { ReactComponent as FbIcon } from './facebook-icon.svg';\nimport Spinner from '../common/Spinner';\nimport { Link } from '../common/Link';\nimport { BorderButton } from '../common/Button';\nimport { User } from '../../types/types';\n\nconst debug = require('debug')('ThirdPartyLogin');\n\nconst iconHeight = '30px';\nconst FacebookIcon = styled(FbIcon)`\n  font-size: 1em;\n  height: ${iconHeight};\n  width: ${iconHeight};\n  margin-right: 6px;\n`;\n\nconst ButtonSpinner = styled(Spinner)`\n  margin: 0 auto;\n`;\n\ninterface State {\n  submitting: boolean;\n}\nclass ThirdPartyLogin extends React.Component<{}, State> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      submitting: false\n    };\n    this.loginFacebook = this.loginFacebook.bind(this);\n  }\n\n  loginFacebook(e: React.MouseEvent<HTMLButtonElement>) {\n    debug('loginFacebook', e);\n\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({ submitting: true });\n    firebase.auth().signInWithRedirect(facebook);\n  }\n\n  render() {\n    const SmButton = styled(BorderButton)`\n      display: flex;\n      align-items: center;\n      width: 100%;`;\n    \n    return (\n      <>\n        <SmButton\n          onClick={this.loginFacebook}\n        >\n          { this.state.submitting ?\n            <ButtonSpinner />\n            : <>\n              <FacebookIcon />\n              Logg på med Facebook\n            </>\n          }\n          \n        </SmButton>\n        <Link to=\"/internal\">Passord/brukernavn?</Link>\n      </>\n    );\n  }\n}\n\nexport default ThirdPartyLogin;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from '../common/Link';\nimport colors from '../../styles/colors';\nimport { BorderInput } from '../common/Button';\nimport firebase from '../firebase/firebase';\nimport { string } from 'prop-types';\nimport Icon from '../common/Icon';\n\nconst debug = require('debug')('InternalLogin');\n\n\nconst StyledInput = styled.input`\n  height: 2.5rem;\n  outline: none;\n  padding: 0 1rem;\n  margin-bottom: 12px;\n  border: 0;\n  -webkit-appearance: none;\n  background: ${colors.primaryDark};\n  color: white;\n  width: 100%;\n  &::placeholder {\n    color: grey;\n  }\n`;\n\nconst SubmitButton = styled(BorderInput)`\n  width: 100%;\n`;\n\nconst PasswordContainer = styled.div`\n  position: relative;\n`;\n\nconst StyledPeek = styled.button`\n    position: absolute;\n    border: 0;\n    background-color: transparent;\n    right: 15px;\n    top: -8px;\n    color: white;\n`;\n\ninterface State {\n  user: string;\n  password: string;\n  submitting: boolean;\n  errorMessage: string;\n  peek: boolean;\n}\nclass InternalLogin extends React.Component<{}, State> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      user: '',\n      password: '',\n      submitting: false,\n      errorMessage: '',\n      peek: false\n    };\n    this.updateUserState = this.updateUserState.bind(this);\n    this.updatePasswordState = this.updatePasswordState.bind(this);\n    this.logIn = this.logIn.bind(this);\n    this.togglePeek = this.togglePeek.bind(this);\n  }\n  updateUserState(e: React.ChangeEvent<HTMLInputElement>) {\n    debug('updateUserState', e);\n\n    this.setState({\n      user: e.target.value,\n    });\n  }\n\n  updatePasswordState(e: React.ChangeEvent<HTMLInputElement>) {\n    debug('updatePasswordState', e);\n\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  logIn(e: React.FormEvent<HTMLFormElement>) {\n    debug('logIn', e);\n    const { user, password } = this.state;\n\n    debug('Logging user in with the following credentials: ', user, password);\n    e.preventDefault();\n\n    this.setState({\n      submitting: true\n    });\n\n    firebase.auth().signInWithEmailAndPassword(user, password).catch((error: any) => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n\n      debug('Errorcode: ', errorCode, 'errorMessage', errorMessage);\n\n      if (errorCode) {\n        this.setState({\n          errorMessage: 'Klarte ikke å logge deg inn, beklager det.',\n        });\n      }\n    });\n  }\n\n  togglePeek() {\n    this.setState(({ peek }) => ({ peek: !peek }));\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.logIn}>\n        <label htmlFor=\"username\" className=\"screen-reader-only\">Brukernavn</label>\n        <StyledInput id=\"username\" value={this.state.user} onChange={this.updateUserState} placeholder=\"Brukernavn\" />\n\n        <PasswordContainer>\n          <label htmlFor=\"password\" className=\"screen-reader-only\">Passord</label>\n          <StyledInput\n            id=\"password\"\n            type={this.state.peek ? \"text\" : \"password\"}\n            placeholder=\"Passord\"\n            value={this.state.password}\n            onChange={this.updatePasswordState}\n          />\n          <StyledPeek type=\"button\" onClick={this.togglePeek}><Icon type=\"button\" name={this.state.peek ? 'eye-off' : 'eye'} onClick={() => null} /></StyledPeek>\n        </PasswordContainer>\n\n        <SubmitButton type=\"submit\" value=\"Logg inn\" />\n        <p>{this.state.errorMessage}</p>\n        <Link to=\"/\">Google/Facebook</Link>\n      </form>\n    );\n  }\n}\n\nexport default InternalLogin;\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport colors from '../../styles/colors';\n\nconst StyledCircleContainer = styled.div`\nposition: relative;\nwidth: 100%;\nheight: 100%;\noverflow: hidden;\n`;\n\nfunction getRandomInt(min: number, max: number) {\n  var num = Math.floor((Math.random() * Math.floor(max)));\n  if (num < min) {\n    num += min;\n  }\n  return num;\n}\n\ninterface StyledCircleProps {\n  size: string;\n  top: string;\n  left: string;\n  scale: number;\n}\n\nconst scaleInAndOut = keyframes`\n  0% {\n    transform: scale(1) translateY(0px) translateX(50px);\n  }\n  25% {\n    transform: scale(1.2) translateY(200px) translateX(-50px)\n  }\n  50% {\n    transform: scale(1) translateY(300px) translateX(200px);\n  }\n  75% {\n    transform: scale(0.8) translateY(500px) translateX(-300px);\n  }\n`;\n\nconst StyledCircle = styled.div`\n  background-color: ${colors.primaryDark};\n  border-radius: 50%;\n  filter: opacity(.5);\n  position: absolute;\n  width: ${(props: StyledCircleProps) => props.size};\n  height: ${props => props.size};\n  top: ${props => props.top};\n  left: ${props => props.left};\n  animation: ${scaleInAndOut} ${props => props.scale}s linear infinite alternate;\n`;\n\nexport default function FloatingCircles() {\n  const circles = Array(15).fill(0).map(\n    (el, index) =>\n      <StyledCircle\n        key={index}\n        size={`${getRandomInt(50, 500)}px`}\n        top={`${getRandomInt(0, 100)}%`}\n        left={`${getRandomInt(0, 100)}%`}\n        scale={getRandomInt(5, 30)}\n        />);\n\n  return (\n    <StyledCircleContainer>\n      {circles}\n    </StyledCircleContainer>);\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { Switch, Route, BrowserRouter } from 'react-router-dom';\n\nimport firebase from '../firebase/firebase';\nimport { User } from '../../types/types';\nimport ThirdPartyLogin from './ThirdPartyLogin';\nimport InternalLogin from './InternalLogin';\nimport FloatingCircles from '../common/FloatingCircles';\n\nconst debug = require('debug')('SelectUser');\n\nconst StyledParagraph = styled.p`\nfont-size: 3rem;\nmargin: 2rem;\n`;\n\nrequire('./selectuser.scss');\n\nconst LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: white;\n  height: 100%;\n`;\n\ninterface Props {\n  user: User;\n}\ninterface State {\n  user: string;\n  password: string;\n  feedback: string;\n  submitting: boolean;\n}\nclass Login extends React.Component<Props, State> {\n  constructor(props: any) {\n    super(props);\n    debug('constructor');\n    this.state = {\n      user: '',\n      password: '',\n      feedback: '',\n      submitting: false,\n    };\n  }\n\n  componentDidMount() {\n\n    debug('componentDidMount');\n\n    firebase.auth().getRedirectResult().then(() => {\n      debug('Login was apparently successful');\n    }).catch((error) => {\n      debug('Facebook login failed: ', error);\n\n      if (error) {\n        this.setState({\n          feedback: `Klarte ikke å logge deg inn med facebook. Feil: ${error}`,\n        });\n      }\n    });\n  }\n\n  render() {\n    const { feedback } = this.state;\n\n    const H1 = styled.h1`\n      color: white;\n      font-weight: 400;\n      margin: 4rem 0;\n    `;\n\n    \n\n    return (\n      <BrowserRouter>\n        <LoginContainer>\n          <H1>GAVEØNSKE.NO</H1>\n          <Switch>\n            <Route path=\"/internal\" component={InternalLogin} />\n            <Route component={ThirdPartyLogin} />\n          </Switch>\n          <StyledParagraph>{feedback}</StyledParagraph>\n          <FloatingCircles />\n        </LoginContainer>\n      </BrowserRouter>\n    );\n  }\n}\n\nconst mapStateToProps = ({ user }: { user: User }) => (\n  {\n    user,\n  });\n\nexport default connect(\n  mapStateToProps, null,\n)(Login);\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { setNameAndEmail as setNameAction } from '../../state/actions/user';\nimport { User } from '../../types/types';\n\nconst SetNameContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: white;\n  height: 100%;\n`;\n\nfunction submit(e: React.FormEvent<HTMLFormElement>, setTheName: (thename: string, email: string) => void, name: string, email: string) {\n  e.preventDefault();\n  setTheName(name, email);\n}\n\nexport function SetNameFunc({ setTheName, user }: { setTheName: (name: string) => void, user: User }) {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState(user.email);\n\n  return (\n    <SetNameContainer>\n      <form onSubmit={(e) => submit(e, setTheName, name, email)}>\n        <label htmlFor=\"name\">Velg navn</label>\n        <input type=\"text\" id=\"name\" value={name} onChange={(e: any) => setName(e.target.value)} />\n        <label htmlFor=\"email\">Epost</label>\n        <input disabled={!(user.email === null || user.email === '')} type=\"text\" id=\"email\" value={email} onChange={(e: any) => setEmail(e.target.value)} />\n        <input type=\"submit\" value=\"OK\" />\n      </form>\n\n    </SetNameContainer>);\n}\n\nexport default connect(({ user }: { user: User }) => ({\n  user\n}),\n  dispatch => ({\n    setTheName(name: string, email?: string) {\n      dispatch(setNameAction(name, email));\n    }\n  }))(SetNameFunc);","import { Reducer } from \"redux\";\nimport { UserState } from \"./types\";\n\nconst initialState: UserState = {\n  loaded: false,\n  uid: undefined,\n  email: undefined\n};\nconst debug = require('debug')('userReducer');\n\n\nconst userReducer: Reducer<UserState> = (state = initialState, action) => {\n  debug('Input: state: ', state, '. Action: ', action);\n\n  switch (action.type) {\n    case 'USER_LOADED': {\n      if (action.user) {\n        const { uid, email, name } = action.user;\n        return {\n          ...state,\n          uid,\n          email,\n          name,\n          loaded: true,\n        };\n      }\n      return {\n        ...state,\n        loaded: true,\n      };\n    }\n    case 'LOG_OUT': {\n      return initialState;\n    }\n    default:\n      return { ...state };\n  }\n};\n\nexport default userReducer;\n","import { Reducer } from 'redux';\nimport { WishState } from './types';\n\nconst initialState: WishState = {\n  loading: false,\n  wishes: {\n\n  }\n};\n\nconst userReducer: Reducer<WishState> = (state = initialState, action) => {\n  switch (action.type) {\n    case 'LOADING_STARTED': {\n      return {\n        ...state,\n        loading: true\n      }\n    }\n    case 'SET_USER_WISHES': {\n      const { uid, wishes } = action;\n      return {\n        ...state,\n        wishes: {\n          [uid]: action.wishes,\n        }\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","import { Reducer } from 'redux';\nimport { FriendsState } from './types';\n\nconst initialState: FriendsState = {\n  loaded: false,\n  loading: false,\n  friends: [],\n  userNotFound: false,\n  newFriend: undefined\n};\n\nconst reducer: Reducer<FriendsState> = (state = initialState, action) => {\n  switch (action.type) {\n    case 'LOAD_FRIENDS': {\n      return {\n        ...state,\n        loading: true,\n      };\n    }\n    case 'SET_FRIENDS': {\n      return {\n        ...state,\n        friends: action.newFriendList != null ? action.newFriendList : [],\n      };\n    }\n    case 'FRIENDS_LOADED': {\n      return {\n        ...state,\n        friends: action.data != null ? action.data : [],\n        loading: false,\n        loaded: true,\n      };\n    }\n    case 'FRIEND_NOT_FOUND': {\n      return {\n        ...state,\n        userNotFound: true\n      };\n    }\n    default:\n      return { ...state };\n  }\n};\n\nexport default reducer;","import { Reducer } from 'redux';\nimport { PurchaseState } from './types';\n\nconst initialState: PurchaseState = {\n  loading: false,\n  purchases: {\n\n  }\n};\n\nconst purchaseReducer: Reducer<PurchaseState> = (state = initialState, action) => {\n  switch (action.type) {\n    case 'LOADING_STARTED': {\n      return {\n        ...state,\n        loading: true\n      }\n    }\n    case 'SET_USER_PURCHASES': {\n      const { uid, purchases } = action;\n      return {\n        ...state,\n        purchases: {\n            ...state.purchases,\n            [uid]: purchases,\n        }\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default purchaseReducer;\n","import { combineReducers } from 'redux';\nimport user from './user';\n// import suggestion from './suggestion';\nimport wish from './wish';\nimport friends from './friends';\nimport purchase from './purchase';\nimport { UserState, WishState, FriendsState, PurchaseState } from './types';\n\nexport interface ApplicationState {\n  user: UserState,\n  wish: WishState,\n  friends: FriendsState,\n  purchase: PurchaseState\n} \n\nconst onskdegReducers = combineReducers<ApplicationState>({\n  user,\n  // suggestion,\n  wish,\n  friends,\n  purchase\n} as any);\n\nexport default onskdegReducers;\n","export const user = (state: any) => state.user;\nexport const friends = (state: any) => {\n  return state.friends.friends;\n};\n","import {\n    put, takeEvery, select, call,\n} from 'redux-saga/effects';\nimport firebase from '../../components/firebase/firebase';\nimport { user as userSelect, friends as friendsSelect } from '../selectors/selectors';\nimport { User } from '../../types/types';\n\nfunction getUser(uid: string) {\n    return new Promise(((resolve) => {\n        firebase.database().ref(`users/${uid}`).once('value', (snapshot) => {\n            if (snapshot == null) {\n                return;\n            }\n            const resolveVal = snapshot.val();\n            resolve(resolveVal);\n        });\n    }));\n}\n\nfunction getUserList(currentUser: User) {\n    return new Promise(((resolve) => {\n        firebase.database().ref(`users/${currentUser.uid}/friends`).once('value', (snapshot) => {\n            if (snapshot == null) {\n                return;\n            }\n            const resolveVal = snapshot.val();\n\n            if(resolveVal instanceof Array) {\n\n                // Remove empty users - this should not happen - but it has?\n                const userList = resolveVal.filter((el: User) => el.uid).map((el: User) => el.uid);\n\n                // List of promises to resolve\n                const promiseList = userList.map(getUser);\n                Promise.all(promiseList).then((values: any) => {\n\n                    // FriendDetails is a map with info from the promises\n                    const friendDetails = values.filter((el: User) => el).reduce((sum: any, next: User) => ({\n                        ...sum,\n                        [next.uid]: next\n                    }), {});\n\n                    // Merge the uid and the friend details\n                    const result = userList.map(el => {\n                        if(!friendDetails[el]) {\n                            return null;\n                        }\n\n                        return {\n                            uid: el,\n                            email: friendDetails[el].email,\n                            name: friendDetails[el].name\n                        }\n                    }).filter(el => el);\n                    resolve(result);\n                });\n            }\n\n            \n        });\n    }));\n}\n\nfunction* loadUserList() {\n    const currentUser = yield select(userSelect);\n    const data = yield call(getUserList, currentUser);\n    yield put({ type: 'FRIENDS_LOADED', data });\n}\n\nfunction getFriendByEmail(mail: string) {\n    return new Promise((resolve, reject) => {\n        firebase.database().ref(`users`).once('value', (snapshot) => {\n            if (snapshot == null) {\n                return;\n            }\n            const usersObj = snapshot.val();\n            const userlistKeys = Object.keys(usersObj);\n            const userlist = userlistKeys.map(key => usersObj[key]);\n\n            const filteredList: Array<User> = userlist.filter((user: User) => user.email === mail);\n\n            if (filteredList.length == 1) {\n                resolve(filteredList.reduce((e: User) => e));\n            }\n            else {\n                resolve();\n            }\n        });\n    });\n}\n\nfunction* addFriend(input: any) {\n    const user = yield select(userSelect);\n    const friends = yield select(friendsSelect);\n    const { uid } = user;\n    const { newFriendMail }: { newFriendMail: string } = input;\n    const newFriend = yield getFriendByEmail(newFriendMail);\n    if (newFriend) {\n        const newUserList = [newFriend, ...friends];\n        firebase.database().ref(`users/${uid}/friends`).set(newUserList);\n        yield put({ type: 'FRIEND_FOUND_AND_ADDED', newFriend });\n    }\n    else {\n        yield put({ type: 'FRIEND_NOT_FOUND' });\n    }\n\n}\n\nfunction* deleteFriend(input: any) {\n    const user = yield select(userSelect);\n    const friends = yield select(friendsSelect);\n    const { uid } = user;\n    const { email } = input;\n\n    const newUserList = friends.filter((friend: User) => friend.email !== email);\n    firebase.database().ref(`users/${uid}/friends`).set(newUserList);\n}\n\nfunction* setNameAndEmail(input: any) {\n    const { name, email } = input;\n\n    const user = yield select(userSelect);\n    firebase.database().ref(`users/${user.uid}/name`).set(name);\n    if (email) {\n        firebase.database().ref(`users/${user.uid}/email`).set(email);\n    }\n    yield put({\n        type: 'USER_LOADED',\n        user: {\n            ...user,\n            name,\n            uid: user.uid\n        }\n    });\n}\n\nexport function* userSaga() {\n    yield takeEvery('LOAD_FRIENDS', loadUserList);\n    yield takeEvery('ADD_FRIEND', addFriend);\n    yield takeEvery('DELETE_FRIEND', deleteFriend);\n    yield takeEvery('SET_NAME_AND_EMAIL', setNameAndEmail);\n}\n\n","import {\n  put, takeEvery, select,\n} from 'redux-saga/effects';\nimport firebase from '../../components/firebase/firebase';\nimport { user as userSelect, friends as friendsSelect } from '../selectors/selectors';\nimport { setWishesForUser, storeWishesToFirebase } from '../actions/wish';\n\nfunction* setOwnWishes(input: any) {\n  const { wishes } = input;\n  const { uid } = yield select(userSelect);\n\n  yield put(setWishesForUser({ uid, wishes }));\n}\n\nfunction storeWishes(input: any) {\n  const { uid, wishes } = input;\n  firebase.database().ref(`wishes/${uid}/wishes`).set(wishes);\n}\n\nfunction* storeWishesToFirebaseSaga(input: any) {\n  const currentUser = yield select(userSelect);\n  const { uid } = currentUser;\n  const { wishes } = input;\n  yield put(storeWishesToFirebase(uid, wishes));\n}\n\nexport function* wishSaga() {\n  yield takeEvery('SET_OWN_WISHES', setOwnWishes);\n  yield takeEvery('STORE_WISHES_TO_FIREBASE', storeWishes);\n  yield takeEvery('STORE_OWN_WISHES_TO_FIREBASE', storeWishesToFirebaseSaga);\n}\n","import {\n    put, takeEvery, select,\n} from 'redux-saga/effects';\nimport firebase from '../../components/firebase/firebase';\nimport { user as userSelect } from '../selectors/selectors';\n\nfunction* purchaseItem(input: any) {\n    const currentUser = yield select(userSelect);\n    const { uid, itemid } = input;\n    firebase.database().ref(`purchases/${uid}/${itemid}`).set({\n        checked: true,\n        checkedby: currentUser.email,\n        checkedtime: Date.now()\n    })\n}\n\nfunction sellItem(input: any) {\n    const { uid, itemid } = input;\n    firebase.database().ref(`purchases/${uid}/${itemid}`).set({\n        checked: false,\n        checkedby: '',\n        checkedtime: ''\n    })\n}\n\nexport function* purchaseSaga() {\n    yield takeEvery('PURCHASE_ITEM', purchaseItem);\n    yield takeEvery('SELL_ITEM', sellItem);\n}","import { put, takeEvery, all } from 'redux-saga/effects';\nimport { userSaga } from './usersaga';\nimport { wishSaga } from './wishsaga';\nimport { purchaseSaga } from './purchases';\n\nexport default function* rootSaga() {\n    yield all([\n      userSaga(),\n      wishSaga(),\n      purchaseSaga()\n    ])\n  }","import { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\n\nimport reducer from './state/reducers';\nimport rootSaga from './state/sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\n\n/* eslint-disable no-underscore-dangle */\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n/* eslint-enable */\n\nconst store = createStore(\n  reducer, /* preloadedState, */\n  composeEnhancers(applyMiddleware(sagaMiddleware)),\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import firebase from './firebase';\nimport { userLoaded } from '../../state/actions/user';\nimport store from '../../store';\nimport { User, FirebaseSnapshot } from '../../types/types';\n\nconst debug = require('debug')('authFirebase');\n\nconst obj = {\n  authChangeListener() {\n    firebase.auth().onAuthStateChanged((user: User) => {\n      debug('onAuthStateChanged. User logged in: ', user);\n\n      if (user) {\n        firebase.database().ref(`users/${user.uid}/name`).once('value', (snapshot) => {\n          const name = snapshot.val();\n          store.dispatch(userLoaded({ ...user, name}));\n        });\n        \n      } else {\n        store.dispatch(userLoaded(null));\n      }\n    });\n  },\n};\nexport default obj;\n","import React from 'react';\nimport {\n  BrowserRouter, Route, Switch, withRouter,\n} from 'react-router-dom';\nimport { Provider, connect } from 'react-redux';\nimport styled from 'styled-components';\n\nimport YourWishList from './components/yours/YourWishList';\nimport YourWishDetails from './components/yours/YourWishDetails';\n\nimport OthersWishListSelection from './components/otherwishlistselection/OthersWishListSelectionWrapper';\nimport OthersWishList from './components/others/OthersWishList';\nimport Header from './components/header/Header';\nimport Login from './components/login/Login';\nimport SetName from './components/setname/SetName';\n\nimport store from './store';\n\nimport authFirebase from './components/firebase/authFirebase';\nimport { ApplicationState } from './state/reducers';\nimport { UserState } from './state/reducers/types';\nimport Loading from './components/common/Loading';\n\ninterface AppProps {\n  user: UserState;\n}\n\n// To prevent route update blockin\nconst HeaderWithRouter = withRouter<any>(Header);\nconst AppComp = ({ user } : AppProps) => {\n  if (!user || !user.loaded) {\n    return <Loading />;\n  }\n  if (!user.uid) {\n    return <Login />;\n  }\n\n  if (!user.name) {\n    return <SetName />;\n  }\n  const MainWrapper = styled.div`\n    max-width: 870px;\n    margin: 0 auto;\n  `;\n  return (\n    <BrowserRouter>\n      <>\n        <HeaderWithRouter />\n        <Switch>\n          <Route path=\"/\" exact component={YourWishList} />\n          <Route path=\"/wish/:wishid\" exact component={YourWishDetails} />\n          <Route path=\"/others\" component={OthersWishListSelection} />\n          <Route path=\"/other/:name\" component={OthersWishList} />\n        </Switch>\n      </>\n    </BrowserRouter>\n  );\n};\n\nconst mapStateToProps = ({ user }: ApplicationState) => ({ user });\nconst AppCompWrapper = connect(mapStateToProps)(AppComp);\n\nconst App = () => (\n  <Provider store={store}>\n    <AppCompWrapper />\n  </Provider>\n);\n\nauthFirebase.authChangeListener();\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './global.scss';\nimport './index.scss';\nimport App from './App';\n\n/** Lets try this for now - disables service workers */\nnavigator.serviceWorker.getRegistrations().then(function(registrations) {\n  for(let registration of registrations) {\n   registration.unregister()\n } })\n\n// if ('serviceWorker' in navigator) {\n//     window.addEventListener('load', function() {\n//       navigator.serviceWorker.register('/service-worker.js');\n//     });\n//   }\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}